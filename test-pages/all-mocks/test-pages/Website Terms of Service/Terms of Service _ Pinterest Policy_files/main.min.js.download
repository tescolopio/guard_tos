!function(o,e){"use strict";e.behaviors.cta={attach:function(e){{e=o("pin-cta",e);var n=e=>{if(drupalSettings&&drupalSettings.pin_analytics&&drupalSettings.pin_analytics.cta&&window.ga&&window.ga.loaded&&null!==e.delegateTarget.shadowRoot.activeElement){e.preventDefault();const t=()=>{window.location.assign(e.delegateTarget.shadowRoot.activeElement.href)};setTimeout(t,1e3),window.ga("send",{hitType:"event",eventCategory:"CTA",eventAction:"click",eventLabel:(e.currentTarget.shadowRoot.querySelector(".cta")?e.currentTarget.shadowRoot.querySelector(".cta").dataset.sourceTitle:e.delegateTarget.shadowRoot.activeElement.innerText).trim(),hitCallback:()=>{t()}})}};let t;e.on("click touchstart",function(e){t=setTimeout(()=>{n.call(this,e)},0)}),e.on("dblclick",()=>{clearTimeout(t)})}}}}(jQuery,Drupal),function(t,e){"use strict";e.behaviors.languageSelectSwitcher={attach:function(e){var e=t("pin-footer",e);e.length<=0||(e=e[0].shadowRoot.querySelector("#language-switcher").shadowRoot.querySelector("select"),t(e).on("change",function(){var e=t(this).find(":selected").data().value;return e&&(window.location.href=window.location.origin+"/"+e),!1}))}}}(jQuery,Drupal),function(e){"use strict";e.behaviors.footerCountryCodedLinks={attach:function(e){var t=function(e){if(2===(e=("; "+document.cookie).split(`; ${e}=`)).length)return e.pop().split(";").shift()}("_ss_country_code"),n=document.querySelector("pin-footer");t&&n&&n.setAttribute("localCountry",t)}}}((jQuery,Drupal)),function(e,t){"use strict";t.behaviors.setPassiveScroll={attach:function(){e.event.special.touchstart={setup:function(e,t,n){this.addEventListener("touchstart",n,{passive:!t.includes("noPreventDefault")})}},e.event.special.touchmove={setup:function(e,t,n){this.addEventListener("touchmove",n,{passive:!t.includes("noPreventDefault")})}},e.event.special.wheel={setup:function(e,t,n){this.addEventListener("wheel",n,{passive:!0})}},e.event.special.mousewheel={setup:function(e,t,n){this.addEventListener("mousewheel",n,{passive:!0})}}}}}(jQuery,Drupal),function(o){"use strict";o.behaviors.userMenuNav={attach:function(e,t){var n;e===document&&null!==(n=JSON.parse(sessionStorage.getItem("pin_pinterest_authusers.user")))&&null!==t.pin_user_nav_blocks.pinUserScripts.menuOutput&&(t=JSON.parse(e.querySelector("pin-header").getAttribute("data-user-menu")),(n={username:o.checkPlain(n.un),name:o.checkPlain(n.fn)}).shortname=29<n.name.length?jQuery.trim(n.name).substring(0,29)+"...":n.name,n=[{name:n.shortname,url:"https://pinterest.com/"+n.username,below:t}],(t=e.querySelector("pin-header")).setAttribute("userMenu",JSON.stringify(n)),t.setAttribute("loggedIn",!0),t.setAttribute("utilityNavIsOpen",!0),window.innerWidth<768&&(t.setAttribute("showUserOptions",!0),t.setAttribute("userButtonType","secondary")),window.dispatchEvent(new CustomEvent("USER_LOGGED_IN")))}}}((jQuery,Drupal)),document.addEventListener("DOMContentLoaded",()=>{"use strict";document.querySelectorAll("pin-paragraph,pin-banner,pin-heading").forEach(e=>{e.setAttribute("defined",!0)})}),function(a,e,r){"use strict";function u(e,o){try{(function(e,o,s){let i=[];const a=e=>{try{var t,n=Array.prototype.slice.call(e.querySelectorAll("*")).filter(e=>e.tagName.match(o)&&!s.includes(e.tagName.toLowerCase()));i=[...i,...n];for(t of n)null!==t.shadowRoot&&a(t.shadowRoot)}catch(e){console.error(e)}};return a(e),i})(e,/^pin/i,["pin-footer","pin-discover-card","pin-skip-link","pin-message"]).forEach(e=>{e.setAttribute("theme",o);var t=e.getAttribute("data-context"),n=[o,"both",null];e.attributes.pushpins&&(e.removeAttribute("pushpins"),e.setAttribute("pushpins",!0)),n.includes(t)?0<e.style.length&&e.style.removeProperty("display"):e.style.display="none","subpage"===r.nodeType&&e.style.removeProperty("display"),sessionStorage.setItem("chosenContext",o)})}catch(e){console.error(e)}}function c(e,t){var n;"business"===t&&(n=e.querySelectorAll(".form-submit"),e=e.querySelector(".webform-button--next"),n.forEach(e=>{e.classList.contains("webform-button--next")||e.setAttribute("theme","business")}),e&&e.classList.add("button--business"),sessionStorage.setItem("chosenContext",t))}function l(e){sessionStorage.setItem("formChosenContext",e)}function d(e){sessionStorage.setItem("facetChosen",e),window.dispatchEvent(new CustomEvent("pinformation:context-change",{detail:e})),window.pinSearch&&window.pinSearch.setTheme(e)}function p(){if("pinformation"===r.theme){var t=document.getElementsByTagName("pin-header")[0].shadowRoot.querySelector("header").getBoundingClientRect().bottom;let e=document.getElementsByTagName("pin-topic-nav")[0];e&&(e=e.shadowRoot.querySelector("#topic-start"),window.innerWidth<768?e.style.top=t+"px":e.style.top="0px")}}window.addEventListener("pinformation:context-set",function(e){u(document,e.detail)}),e.behaviors.touchReqFormItems={attach:function(e){a(".required",e).one("blur keydown",function(){a(this).addClass("touched")})}},e.behaviors.pinformation={attach:function(n){if("pinformation"===r.theme){setTimeout(p,250),window.addEventListener("resize",p);var t=sessionStorage.getItem("pin_pinterest_authusers.user")?JSON.parse(sessionStorage.getItem("pin_pinterest_authusers.user")):null,o=sessionStorage.getItem("chosenContext")?sessionStorage.getItem("chosenContext"):null;t&&(window.userType=t.is_partner?"business":"general");let e="general";o?e=o:window.contentFacet?e=window.contentFacet:window.userType&&(e=window.userType),r.pin_pinformation&&"business"===r.pin_pinformation.context&&(e="business"),"article"===r.nodeType&&"GENERAL"===r.segment.segmentJS.pin_segment_vars.audience&&(e="general");var o=sessionStorage.getItem("formChosenContext"),s=null!==document.querySelector('pin-grid[data-content-has-form="1"]');(!s||null===o||t&&window.userType!==o)&&l(e),s&&(e=sessionStorage.getItem("formChosenContext")),"subpage"!==r.nodeType&&(u(n,e),c(n,e),d(e));const i=n.querySelector("pin-header");i&&(t=i.shadowRoot.querySelector("pin-main-nav").shadowRoot,o=i.shadowRoot.querySelector("pin-mobile-nav").shadowRoot,n.querySelectorAll('[data-context="'+e+'"],[data-context="both"]').forEach(e=>{e.style.display="block"}),a("pin-link.nav_context",[t,o]).on("click",e=>{var t="1"===e.currentTarget.parentNode.getAttribute("data-submenu-target")?"general":"business";e.currentTarget.parentNode.classList.contains("mobile-nav__menu-item")?(sessionStorage.setItem("chosenContext",t),d(t)):(e.preventDefault(),"1"!==i.getAttribute("data-is-front")?(sessionStorage.setItem("chosenContext",t),location.href="/"+r.path.currentLanguage):sessionStorage.getItem("chosenContext")!==t&&"subpage"!==r.nodeType&&(c(n,t),u(n,t),l(t),d(t),sessionStorage.setItem("chosenContext",t),e=new CustomEvent("pin-help-incidents:set-banner"),window.dispatchEvent(e)))}))}}}}(jQuery,Drupal,drupalSettings),function(e){"use strict";e.behaviors.searchModal={attach:function(e){var t=new URLSearchParams(window.location.hash.substring(1)).get("search"),n=document.getElementsByTagName("pin-page-header")[0];n&&n.querySelector("pin-search-input")&&t&&window.dispatchEvent(new CustomEvent("pinformation:open-search-modal"))}}}((jQuery,Drupal));