import"./faceplate-batch-6f504461.js";import{W as t,E as e,i as n,x as i,_ as s,s as r,n as o,e as a,F as l,m as p,b as d,o as c,t as h,a as u,T as b,c as g,d as v,f as w,g as f,h as m,j as x,k as y,l as k,p as C,q as N,r as A,u as S}from"./shell-9be24b40.js";import"./faceplate-switch-input-9b5940a8.js";import"./icon-admin-50c2e07e.js";import"./icon-close-0de68fb2.js";import"./icon-comments-47c67845.js";import"./icon-report-2527dd6e.js";import"./icon-rising-89e3180c.js";import"./shreddit-signup-drawer-5e139e32.js";import"./shreddit-overlay-display-b582556f.js";import{m as I,a as $,B}from"./xpromo-965fe2eb.js";import{A as j}from"./app-link-eff215e0.js";import"./checked-input-element-4ed4c77d.js";import"./scroll-blocker-3c58b65b.js";import"./constants-955b7f82.js";import"./onboarding-d723ca85.js";import"./shreddit-overlay-64d447be.js";import"./index-bd4912c9.js";import"./contextualSignupPrompt-cad3300a.js";let E=class extends(t(r)){constructor(){super(...arguments),this.pages=0,this.for=void 0,this.step=1,this.role="button",this._events=new e(this),this._handleClick=this._events.define("click",(t=>{this.pageIndex=Math.min(this.pages,Math.max(1,this.pageIndex+this.step)),t.preventDefault(),t.stopPropagation()}))}get pageIndex(){return super.pageIndex}set pageIndex(t){super.pageIndex=t}static get styles(){return n`:host{display:inline-block;cursor:pointer;line-height:1em;padding:.5em;background:var(--color-tone-6);box-shadow:var(--boxshadow-navigation);border-radius:999px;font-size:var(--font-small)}:host([aria-disabled]){cursor:not-allowed;opacity:.5}`}render(){return i` <slot></slot> `}pageIndexChangedCallback(t){super.pageIndexChangedCallback(t),this.updateDisabledState()}firstUpdated(){this.updateDisabledState()}updateDisabledState(){1===this.pageIndex&&this.step<0||this.pageIndex===this.pages&&this.step>0?(this.setAttribute("aria-disabled",""),this.removeAttribute("tabindex")):(this.removeAttribute("aria-disabled"),this.setAttribute("tabindex","0"))}};s([o({type:Number})],E.prototype,"pages",void 0),s([o({type:Number,attribute:"pageindex"})],E.prototype,"pageIndex",null),s([o({type:String})],E.prototype,"for",void 0),s([o({type:Number})],E.prototype,"step",void 0),s([o({type:String,reflect:!0})],E.prototype,"role",void 0),E=s([a("faceplate-pagination-button")],E);let L=class extends(t(l)){constructor(){super(...arguments),this.pages=0,this.for=void 0}get pageIndex(){return super.pageIndex}set pageIndex(t){super.pageIndex=t}static get styles(){return n`:host{display:inline-block;text-align:center;border-radius:999px;padding:0 .5rem;font-size:var(--font-small);background:var(--color-opacity-50);color:var(--color-global-white)}`}render(){return i` ${this.pageIndex}/${this.pages} `}pageIndexChangedCallback(t){super.pageIndexChangedCallback(t),this.requestUpdate("pageIndex",t)}};s([o({type:Number})],L.prototype,"pages",void 0),s([o({type:Number,attribute:"pageindex"})],L.prototype,"pageIndex",null),s([o({type:String})],L.prototype,"for",void 0),L=s([a("faceplate-pagination-numbers")],L);p("icon-left",d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="m13.058 19.442-9-9a.624.624 0 0 1 0-.884l9-9 .884.884L5.384 10l8.558 8.558-.884.884Z"/></svg>')}`,d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="m12.793 19.707-9-9a1 1 0 0 1 0-1.414l9-9 1.414 1.414L5.914 10l8.293 8.293-1.414 1.414Z"/></svg>')}`);p("icon-mod",d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 20c-.101 0-.202-.014-.3-.04C8.249 19.554 1 17.277 1 12V3.187A1.122 1.122 0 0 1 1.846 2.1L9.73.108c.177-.044.363-.044.54 0L18.154 2.1A1.122 1.122 0 0 1 19 3.187V12c0 5.277-7.249 7.554-8.7 7.957A1.162 1.162 0 0 1 10 20ZM2.25 3.283V12c0 4.465 6.989 6.531 7.786 6.751.725-.22 7.714-2.286 7.714-6.751V3.283L10 1.33 2.25 3.283Z"/></svg>')}`,d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M18.154 2.1 10.27.108a1.121 1.121 0 0 0-.54 0L1.846 2.1A1.122 1.122 0 0 0 1 3.187V12c0 5.277 7.249 7.554 8.7 7.957.098.027.199.042.3.043.101 0 .202-.014.3-.04 1.453-.4 8.7-2.68 8.7-7.957V3.187a1.122 1.122 0 0 0-.846-1.087Z"/></svg>')}`);p("icon-pin",d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M19.6 6.876 13.125.4a1.132 1.132 0 0 0-1.606 0l-.665.665a2.084 2.084 0 0 0-.378 2.435L6.68 7.292a2.086 2.086 0 0 0-2.432.374l-.665.665a1.14 1.14 0 0 0 0 1.612l2.8 2.8-5.82 5.82.884.884 5.82-5.82 2.8 2.8a1.132 1.132 0 0 0 1.607 0l.665-.665a2.084 2.084 0 0 0 .374-2.432L16.5 9.528a2.129 2.129 0 0 0 2.433-.375l.666-.666a1.142 1.142 0 0 0 .002-1.611Zm-1.55 1.393a.849.849 0 0 1-1.174 0l-.442-.442-5.426 5.426.443.442a.832.832 0 0 1 0 1.174l-.588.587-6.319-6.319.587-.587a.833.833 0 0 1 1.175 0l.442.442 5.426-5.426-.442-.441a.832.832 0 0 1 0-1.175l.565-.609 6.34 6.341-.587.587Z"/></svg>')}`,d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M19.6 6.876 13.124.4a1.132 1.132 0 0 0-1.606 0l-.665.665a2.083 2.083 0 0 0-.379 2.435L6.68 7.292a2.085 2.085 0 0 0-2.432.374l-.665.665a1.14 1.14 0 0 0 0 1.612l2.53 2.53-5.82 5.82 1.414 1.414 5.82-5.82 2.53 2.53a1.132 1.132 0 0 0 1.606 0l.665-.665a2.084 2.084 0 0 0 .375-2.432L16.5 9.528a2.126 2.126 0 0 0 2.433-.375l.666-.666a1.142 1.142 0 0 0 .001-1.611Z"/></svg>')}`);var M,_;p("icon-right",d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="m6.942 19.442-.884-.884L14.616 10 6.058 1.442l.884-.884 9 9a.624.624 0 0 1 0 .884l-9 9Z"/></svg>')}`,d`${c('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="m7.207 19.707-1.414-1.414L14.086 10 5.793 1.707 7.207.293l9 9a1 1 0 0 1 0 1.414l-9 9Z"/></svg>')}`),function(t){t.Slot="slot",t.Wrap="wrap"}(M||(M={})),function(t){t.NSFW="nsfw",t.Spoiler="spoiler",t.NsfwAndSpoiler="nsfwAndSpoiler"}(_||(_={}));const V=t=>{switch(t){case _.Spoiler:return"View spoiler";case _.NsfwAndSpoiler:return"View NSFW content & spoilers";default:return"View NSFW content"}};let z=class extends r{constructor(){super(),this.blurred=!0,this.isNsfwAllowed=!0,this.blurRadius=40,this.mode=M.Slot,this.isCrosspost=!1,this.isRichtextContent=!1,this.hasMetadata=!1,this._windowEvents=new e(this,(()=>window)),this.handleNsfwEvent=t=>{const e=t.detail.details||t.detail;if("xpromo/view/nsfw_blur"===u(e)){this.isNsfwAllowed=!1;const t=this.querySelector('div[slot="revealed"]');t&&this.removeChild(t)}},this._windowEvents.define(b,this.handleNsfwEvent)}static get styles(){return[g,n`.outer{width:100%;overflow:hidden;z-index:0;position:relative}.overlay{cursor:pointer;position:absolute;width:100%;height:100%;top:0;left:0;z-index:1;display:flex;justify-content:center;align-items:center}.inner.blurred{display:block;pointer-events:none;background:rgba(0,0,0,.8)}.legacy-button{background:rgba(0,0,0,.07);border:1px solid #fff;color:#fff;padding:10px 20px;position:absolute;text-transform:uppercase;cursor:pointer}`]}renderOverlay(t){const e=this.reason?v({appearance:"media",size:w.Small,shape:"pill",children:V(this.reason)}):i``;return this.reason===_.Spoiler&&this.blurred?i`${T({content:e})}`:this.isNsfwAllowed&&this.blurred&&t?T({content:e}):""}render(){const t=this.isRichtextContent&&this.blurred,e=this.reason===_.NSFW||this.reason===_.NsfwAndSpoiler;return i`\n <div \n class="${f({outer:!0,"xs:rounded-t-[16px]":!!this.reason&&!this.isCrosspost&&this.blurred,"xs:rounded-b-[16px]":!!this.reason&&!this.isCrosspost&&(t||!this.hasMetadata)&&this.blurred,"h-[88px]":t,"h-full":!t})}" \n @click="${this.handleClick}" \n>\n ${this.renderOverlay(e)}\n <span \n class="${f({inner:!0,blurred:this.blurRadius>0&&this.blurred})}" \n style="${m({filter:this.blurred&&this.blurRadius>0&&`blur(${this.blurRadius}px)`||"none"})}" \n aria-hidden="${Boolean(this.blurred)}" \n aria-live="polite" \n>\n ${this.mode===M.Slot&&this.blurred?i` <slot name="blurred"></slot> `:i` <slot name="revealed"></slot> `}\n </span>\n\n ${this.blurred?i`<div class="absolute top-0 left-0 w-full h-full bg-scrim"></div>`:""}\n </div>\n `}handleClick(){const t=this.reason===_.NSFW||this.reason===_.NsfwAndSpoiler;(this.reason===_.Spoiler&&this.blurred||this.blurred&&t)&&(this.isNsfwAllowed||this.reason===_.Spoiler)&&(this.blurred=!1)}};s([h()],z.prototype,"blurred",void 0),s([h()],z.prototype,"isNsfwAllowed",void 0),s([o({type:Number,attribute:"blur-radius"})],z.prototype,"blurRadius",void 0),s([o({type:String})],z.prototype,"reason",void 0),s([o({type:String})],z.prototype,"mode",void 0),s([o({type:Boolean,attribute:"is-crosspost"})],z.prototype,"isCrosspost",void 0),s([o({type:Boolean,attribute:"is-richtext-content"})],z.prototype,"isRichtextContent",void 0),s([o({type:Boolean,attribute:"has-metadata"})],z.prototype,"hasMetadata",void 0),z=s([a("shreddit-blurred-container")],z);const T=({content:t})=>i`<div data-ignore-click-interception class="overlay">${t}</div>`;const Z=x(r);let F=class extends Z{constructor(){super(...arguments),this.isNsfw=!1,this.isNsfwActive=!1,this.activate=({shouldMarkNsfwSeoBlockAsSeen:t})=>{t&&y(),this.isNsfwActive=this.isNsfw,this.requestUpdate()}}static get styles(){return k(".avatar {\n  overflow: hidden;\n  border: 2px solid var(--color-tone-7);\n  border-radius: 50%;\n  display: inline-block;\n  font-size: 75px;\n  height: 64px;\n  margin-top: -32px;\n  width: 64px;\n  background-color: var(--color-tone-2);\n}\n.profile-nsfw-avatar {\n  font-size: 64px;\n  color: var(--color-category-nsfw);\n  background-color: var(--color-tone-1);\n}\n")}connectedCallback(){super.connectedCallback(),this.subscribe(C.TriggerNsfwBlockingExperience,this.activate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(C.TriggerNsfwBlockingExperience,this.activate)}render(){return this.isNsfwActive?i`<icon-nsfw fill class="avatar profile-nsfw-avatar"></icon-nsfw>`:i`<slot name="image"></slot>`}};s([o({type:Boolean})],F.prototype,"isNsfw",void 0),F=s([a("shreddit-profile-avatar")],F);const P=x(r);let O=class extends P{constructor(){super(...arguments),this.isNsfw=!1,this.isNsfwActive=!1,this.activate=()=>{this.isNsfwActive=this.isNsfw,this.requestUpdate()}}connectedCallback(){super.connectedCallback(),this.subscribe(C.TriggerNsfwBlockingExperience,this.activate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(C.TriggerNsfwBlockingExperience,this.activate)}static get styles(){return[g,n`:host{display:block;width:100%;height:100%}`]}render(){return i`\n <div class="w-full h-full ${this.isNsfwActive?"hidden":""}">\n <slot></slot>\n </div>\n `}};s([o({type:Boolean})],O.prototype,"isNsfw",void 0),O=s([a("shreddit-profile-banner")],O);const R=N(r);let W=class extends R{constructor(){super(...arguments),this.poster=""}static get styles(){return k(":host {\n  background-color: black;\n  display: block;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n}\n.poster,\n.prompt {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.poster {\n  filter: blur(6px);\n  opacity: 0.55;\n  z-index: 0;\n}\n.prompt {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  z-index: 1;\n}\n.text {\n  color: hsla(0, 0%, 100%, 0.8);\n  font: var(--font-title-h4);\n  margin: 0;\n  max-width: 300px;\n  text-align: center;\n}\n@media (max-width: 320px) {\n  .text {\n    margin: 12px 0 20px;\n  }\n}\n")}firstUpdated(){this.trackEvent(I())}render(){return i`\n <shreddit-img \n alt="Media error" \n class="poster" \n loading="eager" \n objectfit="contain" \n .src="${this.poster}" \n></shreddit-img>\n <div class="prompt">\n <p class="text">\n Sorry, something went wrong when loading this video.\n </p>\n <slot name="button"></slot>\n </div>\n `}};s([o({type:String})],W.prototype,"poster",void 0),W=s([a("xpromo-media-error")],W);const q=x(N(r));let U=class extends q{constructor(){super(...arguments),this.appLinkParams={},this._appLinkController=new j(this)}static get styles(){return[g,k(".MediaErrorButton {\n  overflow: hidden;text-overflow: ellipsis;white-space: nowrap;\n}\n.MediaErrorButton {\n  --button-color-text: var(--color-global-white);\n  --button-border-color: var(--color-global-white);\n  border-radius: 3px;\n  text-transform: uppercase;\n  margin-top: 24px;\n}\n.MediaErrorButton,\n.MediaErrorButton:link,\n.MediaErrorButton:visited,\n.MediaErrorButton:active {\n  text-decoration: none;\n}\n")]}onViewInAppClick(){this.trackEvent($(B.GetApp)),this._appLinkController.handleOpenInAppClick()}render(){return i`\n <shreddit-interactable-element @interactionEvent="${this.onViewInAppClick}">\n ${v({attributes:{className:"MediaErrorButton",rel:"nofollow",href:this._appLinkController.getAppLink(this.appLinkParams)},size:w.Medium,appearance:"bordered",children:"View in app"})}\n </shreddit-interactable-element>\n `}};s([o({type:Object,attribute:"app-link-params"})],U.prototype,"appLinkParams",void 0),U=s([a("xpromo-media-error-button")],U);const D=x(r);let G=class extends D{constructor(){super(...arguments),this.appLinkParams={},this._appLinkController=new j(this),this.active=!1,this.blurredContainer=null,this.activate=()=>{this.blurredContainer&&this.blurredContainer.setAttribute("blurred",""),this.active=!0,this.requestUpdate()},this.handleSlotchange=t=>{if(!(t.target instanceof HTMLSlotElement))return;const e=t.target.assignedNodes({flatten:!0});for(const t of e)if(t instanceof z){this.blurredContainer=t,this.active||this.blurredContainer.removeAttribute("blurred");break}}}connectedCallback(){super.connectedCallback(),this.subscribe(C.TriggerNsfwBlockingExperience,this.activate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(C.TriggerNsfwBlockingExperience,this.activate)}static get styles(){return[g,k(".viewInApp {\n  overflow: hidden;text-overflow: ellipsis;white-space: nowrap;\n}\n:host {\n  display: block;\n  position: relative;\n  height: 100%;\n}\n.prompt.hidden {\n  display: none;\n}\n.prompt {\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.45);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  left: 0;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n.icon {\n  color: hsla(0, 0%, 100%, 0.6);\n  font-size: 36px;\n  text-align: center;\n}\n.title,\n.text {\n  color: hsla(0, 0%, 100%, 0.8);\n  max-width: 300px;\n  text-align: center;\n}\n.title {\n  font: var(--font-title-h3);\n  margin: 18px 0 0;\n}\n.text {\n  font: var(--font-title-h4);\n  font-weight: normal;\n  margin: 10px 0 24px;\n}\n@media (max-width: 320px) {\n  .text {\n    margin: 12px 0 20px;\n  }\n}\n.viewInApp {\n  flex-shrink: 0;\n  --button-color-text: var(--color-global-white);\n  --button-border-color: var(--color-global-white);\n  border-radius: 3px;\n  text-transform: uppercase;\n}\n.viewInApp,\n.viewInApp:link,\n.viewInApp:visited,\n.viewInApp:active {\n  text-decoration: none;\n}\n")]}render(){return i`\n <slot @slotchange="${this.handleSlotchange}"></slot>\n <div class="prompt ${this.active?"":"hidden"}">\n <div class="icon">\n <icon-nsfw fill></icon-nsfw>\n </div>\n <h3 class="title">\n Mature Content\n </h3>\n <p class="text">\n This is mature content and may not be appropriate for certain viewers. To continue, use the app to verify you\u2019re over 18 and browse anonymously.\n </p>\n ${v({attributes:{className:"viewInApp",rel:"nofollow",href:this._appLinkController.getAppLink(this.appLinkParams)},size:w.Medium,appearance:"secondary",children:"View in app"})}\n </div>\n `}};s([o({type:Object,attribute:"app-link-params"})],G.prototype,"appLinkParams",void 0),G=s([a("xpromo-nsfw-blocking-container")],G);const H=N(r);let J=class extends H{static get styles(){return[g,k(":host {\n  display: flex;\n  justify-content: center;\n  margin: 16px;\n  margin-bottom: 0;\n  width: 100%;\n}\n")]}handleFollow(t){t.stopPropagation(),this.trackEvent(A({source:"profile",action:"click",noun:"follow"},{popup:{button_text:"follow"}})),this.dispatchEvent(S("follow",this.userMeta))}handleChatOpen(){this.trackEvent(A({source:"profile",action:"click",noun:"chat"},{popup:{button_text:"chat"}})),this.dispatchEvent(S("open-continue-chat-in-app-modal"))}render(){return i`\n <button \n class="button button-small button-primary w-full mr-sm follow-button" \n @click="${this.handleFollow}" \n>\n Follow\n </button>\n <button \n class="button button-small button-primary w-full chat-button" \n @click="${this.handleChatOpen}" \n>\n Chat\n </button>\n `}};s([o({type:Object,attribute:"user-meta"})],J.prototype,"userMeta",void 0),J=s([a("shreddit-profile-actions")],J);
//# sourceMappingURL=deprecated-content-client-js-f3bb3a5b.js.map
