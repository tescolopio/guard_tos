window.admin = {
    activeRequests: 0,
    errorSelector: "#growl-container",
    blockEnabled: true
}

$.ecblockUI = function () {
    $.blockUI({
        message: '<div class="text-center fs-4 fw-semibold lh-1">Please wait</div><div class="d-flex justify-content-center mt-3"><div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div></div>',
        fadeIn: 700,
        fadeOut: 700,
        css: {
            padding: '15px',
            width: '300px',
            left: '50%',
            marginLeft: '-150px',
            border: '2px solid #AAAAAA',
            backgroundColor: '#fff',  
            color: '#454545',
        }
    });
}

$(document).ajaxStart(function () {
    if (window.admin.blockEnabled) {
        $.ecblockUI();
    }
    window.activeRequests = $.active;
    $("#requestcount").text(activeRequests);
    $("#requeststatus").fadeIn("fast");
});

$(document).ajaxStop(function () {
    window.activeRequests = $.active;
    $("#requestcount").text(activeRequests);
    if (window.activeRequests === 0) {
        $("#requestcount").text('');
        $("#requeststatus").fadeOut("slow");
        $.unblockUI();
    }
});