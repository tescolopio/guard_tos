import{c as e,_ as t,t as n,s as o,x as s,e as r}from"./shell-9be24b40.js";import{a}from"./a-a36abe70.js";var i;!function(e){e.Locale="locale",e.PageType="page-type"}(i||(i={}));let l=class extends o{constructor(){super(...arguments),this.activeDropdown="",this.handleBlur=e=>{e.target===this||this.shadowRoot.contains(e.target)||this.resetDropdown()},this.resetDropdown=()=>{this.activeDropdown="",window.removeEventListener("click",this.handleBlur)}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.toggleMenu)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.toggleMenu)}toggleMenu(e){e.stopPropagation();let t=e.target;if("BUTTON"!==t.tagName&&(t=t.closest("button")),!t)return;const n=t.getAttribute("slot")?.replace("button-","")??"";this.activeDropdown=this.activeDropdown===n?"":n,this.activeDropdown?window.addEventListener("click",this.handleBlur):this.resetDropdown()}render(){return s`\n <div class="relative">\n <slot \n name="${"button-"}${i.PageType}" \n data-target="${i.PageType}" \n></slot>\n ${this.activeDropdown===i.PageType?s`<slot name="dropdown-page-type"></slot>`:""}\n </div>\n <div class="relative">\n <slot \n name="${"button-"}${i.Locale}" \n data-target="${i.Locale}" \n></slot>\n ${this.activeDropdown===i.Locale?s`<slot name="dropdown-locale"></slot>`:""}\n </div>\n `}};l.styles=[e],t([n()],l.prototype,"activeDropdown",void 0),l=t([r("policy-page-navigation")],l);let c=class extends o{constructor(){super(...arguments),this.renderJumpLinks=()=>{const e=document.getElementById("main-content");if(!e)return"";const t=Array.from(e.querySelectorAll("h2")??[]).map(((e,t)=>(e.id=e.id||`policy-h2-${t+1}`,s`\n <li>\n ${a({attributes:{href:`#${e.id}`},children:e.textContent??""})}\n </li>\n `)));return t.length?s`\n <h3 class="text-20 mb-md">\n Jump to\n </h3>\n <ul>\n ${t}\n </ul>\n `:""}}render(){return s`\n ${this.renderJumpLinks()}\n <slot name="revisions"></slot>\n `}};c.styles=[e],c=t([r("policy-page-sidebar")],c);
//# sourceMappingURL=policies-page-client-js-55a979dc.js.map
