(self.webpackChunkstatic=self.webpackChunkstatic||[]).push([[64841],{58551:(e,t,r)=>{"use strict";r.d(t,{Gr:()=>_e,Ny:()=>je,KX:()=>de,cC:()=>Me,aS:()=>Te,NQ:()=>Re});var n=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,u={revert:function(){}},a=new Map,i=new Set;function o(e){var t=a.get(e);return t||(t={element:e,attributes:{}},a.set(e,t)),t}function s(e,t,r,n,u){var a=r(e),i={isDirty:!1,originalValue:a,virtualValue:a,mutations:[],el:e,_positionTimeout:null,observer:new MutationObserver((function(){if("position"!==t||!i._positionTimeout){"position"===t&&(i._positionTimeout=setTimeout((function(){i._positionTimeout=null}),1e3));var n=r(e);"position"===t&&n.parentNode===i.virtualValue.parentNode&&n.insertBeforeNode===i.virtualValue.insertBeforeNode||n!==i.virtualValue&&(i.originalValue=n,u(i))}})),mutationRunner:u,setValue:n,getCurrentValue:r};return"position"===t&&e.parentNode?i.observer.observe(e.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):i.observer.observe(e,function(e){return"html"===e?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[e]}}(t)),i}function c(e,t){var r=t.getCurrentValue(t.el);t.virtualValue=e,e&&"string"!=typeof e?r&&e.parentNode===r.parentNode&&e.insertBeforeNode===r.insertBeforeNode||(t.isDirty=!0,O()):e!==r&&(t.isDirty=!0,O())}function l(e){var t=e.originalValue;e.mutations.forEach((function(e){return t=e.mutate(t)})),c(function(e){A||(A=document.createElement("div"));return A.innerHTML=e,A.innerHTML}(t),e)}function f(e){var t=new Set(e.originalValue.split(/\s+/).filter(Boolean));e.mutations.forEach((function(e){return e.mutate(t)})),c(Array.from(t).filter(Boolean).join(" "),e)}function d(e){var t=e.originalValue;e.mutations.forEach((function(e){return t=e.mutate(t)})),c(t,e)}function h(e){var t=e.originalValue;e.mutations.forEach((function(e){var r=function(e){var t=e.parentSelector,r=e.insertBeforeSelector,n=document.querySelector(t);if(!n)return null;var u=r?document.querySelector(r):null;return r&&!u?null:{parentNode:n,insertBeforeNode:u}}(e.mutate());t=r||t})),c(t,e)}var p=function(e){return e.innerHTML},v=function(e,t){return e.innerHTML=t};function g(e){var t=o(e);return t.html||(t.html=s(e,"html",p,v,l)),t.html}var D=function(e){return{parentNode:e.parentElement,insertBeforeNode:e.nextElementSibling}},C=function(e,t){t.insertBeforeNode&&!t.parentNode.contains(t.insertBeforeNode)||t.parentNode.insertBefore(e,t.insertBeforeNode)};function m(e){var t=o(e);return t.position||(t.position=s(e,"position",D,C,h)),t.position}var B=function(e,t){return t?e.className=t:e.removeAttribute("class")},y=function(e){return e.className};function E(e){var t=o(e);return t.classes||(t.classes=s(e,"class",y,B,f)),t.classes}var A,b;function w(e,t){var r,n=o(e);return n.attributes[t]||(n.attributes[t]=s(e,t,(r=t,function(e){var t;return null!=(t=e.getAttribute(r))?t:null}),function(e){return function(t,r){return null!==r?t.setAttribute(e,r):t.removeAttribute(e)}}(t),d)),n.attributes[t]}function F(e,t,r){if(r.isDirty){r.isDirty=!1;var n=r.virtualValue;r.mutations.length||function(e,t){var r,n,u=a.get(e);if(u)if("html"===t)null==(r=u.html)||null==(n=r.observer)||n.disconnect(),delete u.html;else if("class"===t){var i,o;null==(i=u.classes)||null==(o=i.observer)||o.disconnect(),delete u.classes}else if("position"===t){var s,c;null==(s=u.position)||null==(c=s.observer)||c.disconnect(),delete u.position}else{var l,f,d;null==(l=u.attributes)||null==(f=l[t])||null==(d=f.observer)||d.disconnect(),delete u.attributes[t]}}(e,t),r.setValue(e,n)}}function x(e,t){e.html&&F(t,"html",e.html),e.classes&&F(t,"class",e.classes),e.position&&F(t,"position",e.position),Object.keys(e.attributes).forEach((function(r){F(t,r,e.attributes[r])}))}function O(){a.forEach(x)}function k(e){if("position"!==e.kind||1!==e.elements.size){var t=new Set(e.elements);document.querySelectorAll(e.selector).forEach((function(r){t.has(r)||(e.elements.add(r),function(e,t){var r=null;"html"===e.kind?r=g(t):"class"===e.kind?r=E(t):"attribute"===e.kind?r=w(t,e.attribute):"position"===e.kind&&(r=m(t)),r&&(r.mutations.push(e),r.mutationRunner(r))}(e,r))}))}}function _(e){e.elements.forEach((function(t){return function(e,t){var r=null;if("html"===e.kind?r=g(t):"class"===e.kind?r=E(t):"attribute"===e.kind?r=w(t,e.attribute):"position"===e.kind&&(r=m(t)),r){var n=r.mutations.indexOf(e);-1!==n&&r.mutations.splice(n,1),r.mutationRunner(r)}}(e,t)})),e.elements.clear(),i.delete(e)}function S(){i.forEach(k)}function P(e){return"undefined"==typeof document?u:(i.add(e),k(e),{revert:function(){_(e)}})}function M(e,t){return P({kind:"html",elements:new Set,mutate:t,selector:e})}function T(e,t){return P({kind:"position",elements:new Set,mutate:t,selector:e})}function R(e,t){return P({kind:"class",elements:new Set,mutate:t,selector:e})}function j(e,t,r){return n.test(t)?"class"===t||"className"===t?R(e,(function(e){var t=r(Array.from(e).join(" "));e.clear(),t&&t.split(/\s+/g).filter(Boolean).forEach((function(t){return e.add(t)}))})):P({kind:"attribute",attribute:t,elements:new Set,mutate:r,selector:e}):u}"undefined"!=typeof document&&(b||(b=new MutationObserver((function(){S()}))),S(),b.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}));const L={html:M,classes:R,attribute:j,position:T,declarative:function(e){var t=e.selector,r=e.action,n=e.value,a=e.attribute,i=e.parentSelector,o=e.insertBeforeSelector;if("html"===a){if("append"===r)return M(t,(function(e){return e+(null!=n?n:"")}));if("set"===r)return M(t,(function(){return null!=n?n:""}))}else if("class"===a){if("append"===r)return R(t,(function(e){n&&e.add(n)}));if("remove"===r)return R(t,(function(e){n&&e.delete(n)}));if("set"===r)return R(t,(function(e){e.clear(),n&&e.add(n)}))}else if("position"===a){if("set"===r&&i)return T(t,(function(){return{insertBeforeSelector:o,parentSelector:i}}))}else{if("append"===r)return j(t,a,(function(e){return null!==e?e+(null!=n?n:""):null!=n?n:""}));if("set"===r)return j(t,a,(function(){return null!=n?n:""}));if("remove"===r)return j(t,a,(function(){return null}))}return u}};function N(e){let t=2166136261;const r=e.length;for(let n=0;n<r;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function I(e,t,r){return 2===r?N(N(e+t)+"")%1e4/1e4:1===r?N(t+e)%1e3/1e3:null}function V(e,t){return e>=t[0]&&e<t[1]}function W(e){try{const t=e.replace(/([^\\])\//g,"$1\\/");return new RegExp(t)}catch(e){return void console.error(e)}}function z(e,t){try{const r=new URL(t.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),n=[[e.host,r.host,!1],[e.pathname,r.pathname,!0]];return r.hash&&n.push([e.hash,r.hash,!1]),r.searchParams.forEach(((t,r)=>{n.push([e.searchParams.get(r)||"",t,!1])})),!n.some((e=>!function(e,t,r){try{let n=t.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");return r&&(n="\\/?"+n.replace(/(^\/|\/$)/g,"")+"\\/?"),new RegExp("^"+n+"$","i").test(e)}catch(e){return!1}}(e[0],e[1],e[2])))}catch(e){return!1}}function q(e,t,r){try{const n=new URL(e,"https://_");if("regex"===t){const e=W(r);return!!e&&(e.test(n.href)||e.test(n.href.substring(n.origin.length)))}return"simple"===t&&z(n,r)}catch(e){return!1}}function $(e,t,r){(t=void 0===t?1:t)<0?t=0:t>1&&(t=1);const n=(u=e)<=0?[]:new Array(u).fill(1/u);var u;(r=r||n).length!==e&&(r=n);const a=r.reduce(((e,t)=>t+e),0);(a<.99||a>1.01)&&(r=n);let i=0;return r.map((e=>{const r=i;return i+=e,[r,r+t*e]}))}const H=e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0)));async function U(e,t,r){if(t=t||"",!(r=r||globalThis.crypto&&globalThis.crypto.subtle))throw new Error("No SubtleCrypto implementation found");try{const n=await r.importKey("raw",H(t),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[u,a]=e.split("."),i=await r.decrypt({name:"AES-CBC",iv:H(u)},n,H(a));return(new TextDecoder).decode(i)}catch(e){throw new Error("Failed to decrypt")}}function K(e){return"string"==typeof e?e:JSON.stringify(e)}function Y(e){"number"==typeof e&&(e+=""),e&&"string"==typeof e||(e="0");const t=e.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return 3===t.length&&t.push("~"),t.map((e=>e.match(/^[0-9]+$/)?e.padStart(5," "):e)).join("-")}const J={};function X(e,t){if("$or"in t)return re(e,t.$or);if("$nor"in t)return!re(e,t.$nor);if("$and"in t)return function(e,t){for(let r=0;r<t.length;r++)if(!X(e,t[r]))return!1;return!0}(e,t.$and);if("$not"in t)return!X(e,t.$not);for(const[r,n]of Object.entries(t))if(!G(n,Z(e,r)))return!1;return!0}function Z(e,t){const r=t.split(".");let n=e;for(let e=0;e<r.length;e++){if(!n||"object"!=typeof n||!(r[e]in n))return null;n=n[r[e]]}return n}function G(e,t){if("string"==typeof e)return t+""===e;if("number"==typeof e)return 1*t===e;if("boolean"==typeof e)return!!t===e;if(null===e)return null===t;if(Array.isArray(e)||!Q(e))return JSON.stringify(t)===JSON.stringify(e);for(const r in e)if(!te(r,t,e[r]))return!1;return!0}function Q(e){const t=Object.keys(e);return t.length>0&&t.filter((e=>"$"===e[0])).length===t.length}function ee(e,t){return Array.isArray(e)?e.some((e=>t.includes(e))):t.includes(e)}function te(e,t,r){switch(e){case"$veq":return Y(t)===Y(r);case"$vne":return Y(t)!==Y(r);case"$vgt":return Y(t)>Y(r);case"$vgte":return Y(t)>=Y(r);case"$vlt":return Y(t)<Y(r);case"$vlte":return Y(t)<=Y(r);case"$eq":return t===r;case"$ne":return t!==r;case"$lt":return t<r;case"$lte":return t<=r;case"$gt":return t>r;case"$gte":return t>=r;case"$exists":return r?null!=t:null==t;case"$in":return!!Array.isArray(r)&&ee(t,r);case"$nin":return!!Array.isArray(r)&&!ee(t,r);case"$not":return!G(r,t);case"$size":return!!Array.isArray(t)&&G(r,t.length);case"$elemMatch":return function(e,t){if(!Array.isArray(e))return!1;const r=Q(t)?e=>G(t,e):e=>X(e,t);for(let t=0;t<e.length;t++)if(e[t]&&r(e[t]))return!0;return!1}(t,r);case"$all":if(!Array.isArray(t))return!1;for(let e=0;e<r.length;e++){let n=!1;for(let u=0;u<t.length;u++)if(G(r[e],t[u])){n=!0;break}if(!n)return!1}return!0;case"$regex":try{return(n=r,J[n]||(J[n]=new RegExp(n.replace(/([^\\])\//g,"$1\\/"))),J[n]).test(t)}catch(e){return!1}case"$type":return function(e){if(null===e)return"null";if(Array.isArray(e))return"array";const t=typeof e;return["string","number","boolean","object","undefined"].includes(t)?t:"unknown"}(t)===r;default:return console.error("Unknown operator: "+e),!1}var n}function re(e,t){if(!t.length)return!0;for(let r=0;r<t.length;r++)if(X(e,t[r]))return!0;return!1}const ne={staleTTL:6e4,maxAge:864e5,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:2e4},ue={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource},ae={fetchFeaturesCall:e=>{let{host:t,clientKey:r,headers:n}=e;return ue.fetch("".concat(t,"/api/features/").concat(r),{headers:n})},fetchRemoteEvalCall:e=>{let{host:t,clientKey:r,payload:n,headers:u}=e;const a={method:"POST",headers:{"Content-Type":"application/json",...u},body:JSON.stringify(n)};return ue.fetch("".concat(t,"/api/eval/").concat(r),a)},eventSourceCall:e=>{let{host:t,clientKey:r,headers:n}=e;return n?new ue.EventSource("".concat(t,"/sub/").concat(r),{headers:n}):new ue.EventSource("".concat(t,"/sub/").concat(r))},startIdleListener:()=>{let e;if(!("undefined"!=typeof window&&"undefined"!=typeof document))return;const t=()=>{"visible"===document.visibilityState?(window.clearTimeout(e),le.forEach((e=>{e&&"idle"===e.state&&we(e)}))):"hidden"===document.visibilityState&&(e=window.setTimeout(pe,ne.idleStreamInterval))};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(ue.localStorage=globalThis.localStorage)}catch(e){}const ie=new Map;let oe=!1;const se=new Map,ce=new Map,le=new Map,fe=new Set;function de(e){Object.assign(ne,e),ne.backgroundSync||xe()}async function he(e,t,r,n,u,a){a||(ne.backgroundSync=!1);const i=await async function(e,t,r,n){const u=ge(e),a=De(e),i=new Date,o=new Date(i.getTime()-ne.maxAge+ne.staleTTL);await async function(){if(oe)return;oe=!0;try{if(ue.localStorage){const e=await ue.localStorage.getItem(ne.cacheKey);if(e){const t=JSON.parse(e);t&&Array.isArray(t)&&t.forEach((e=>{let[t,r]=e;se.set(t,{...r,staleAt:new Date(r.staleAt)})})),Ce()}}}catch(e){}if(!ne.disableIdleStreams){const e=ae.startIdleListener();e&&(ae.stopIdleListener=e)}}();const s=se.get(a);return s&&!n&&(t||s.staleAt>i)&&s.staleAt>o?(s.sse&&fe.add(u),s.staleAt<i?ye(e):Ee(e),s.data):await function(e,t){return new Promise((r=>{let n,u=!1;const a=e=>{u||(u=!0,n&&clearTimeout(n),r(e||null))};t&&(n=setTimeout((()=>a()),t)),e.then((e=>a(e))).catch((()=>a()))}))}(ye(e),r)}(e,n,t,r);u&&i&&await Be(e,i)}function pe(){le.forEach((e=>{e&&(e.state="idle",be(e))}))}async function ve(){try{if(!ue.localStorage)return;await ue.localStorage.setItem(ne.cacheKey,JSON.stringify(Array.from(se.entries())))}catch(e){}}function ge(e){const[t,r]=e.getApiInfo();return"".concat(t,"||").concat(r)}function De(e){const t=ge(e);if(!e.isRemoteEval())return t;const r=e.getAttributes(),n=e.getCacheKeyAttributes()||Object.keys(e.getAttributes()),u={};n.forEach((e=>{u[e]=r[e]}));const a=e.getForcedVariations(),i=e.getUrl();return"".concat(t,"||").concat(JSON.stringify({ca:u,fv:a,url:i}))}function Ce(){const e=Array.from(se.entries()).map((e=>{let[t,r]=e;return{key:t,staleAt:r.staleAt.getTime()}})).sort(((e,t)=>e.staleAt-t.staleAt)),t=Math.min(Math.max(0,se.size-ne.maxEntries),se.size);for(let r=0;r<t;r++)se.delete(e[r].key)}function me(e,t,r){const n=r.dateUpdated||"",u=new Date(Date.now()+ne.staleTTL),a=se.get(t);if(a&&n&&a.version===n)return a.staleAt=u,void ve();se.set(t,{data:r,version:n,staleAt:u,sse:fe.has(e)}),Ce(),ve();const i=ie.get(e);i&&i.forEach((e=>Be(e,r)))}async function Be(e,t){t=await e.decryptPayload(t,void 0,ue.SubtleCrypto),await e.refreshStickyBuckets(t),e.setExperiments(t.experiments||e.getExperiments()),e.setFeatures(t.features||e.getFeatures())}async function ye(e){const{apiHost:t,apiRequestHeaders:r}=e.getApiHosts(),n=e.getClientKey(),u=e.isRemoteEval(),a=ge(e),i=De(e);let o=ce.get(i);if(!o){o=(u?ae.fetchRemoteEvalCall({host:t,clientKey:n,payload:{attributes:e.getAttributes(),forcedVariations:e.getForcedVariations(),forcedFeatures:Array.from(e.getForcedFeatures().entries()),url:e.getUrl()},headers:r}):ae.fetchFeaturesCall({host:t,clientKey:n,headers:r})).then((e=>("enabled"===e.headers.get("x-sse-support")&&fe.add(a),e.json()))).then((t=>(me(a,i,t),Ee(e),ce.delete(i),t))).catch((e=>(ce.delete(i),Promise.resolve({})))),ce.set(i,o)}return await o}function Ee(e){const t=ge(e),r=De(e),{streamingHost:n,streamingHostRequestHeaders:u}=e.getApiHosts(),a=e.getClientKey();if(ne.backgroundSync&&fe.has(t)&&ue.EventSource){if(le.has(t))return;const e={src:null,host:n,clientKey:a,headers:u,cb:n=>{try{if("features-updated"===n.type){const e=ie.get(t);e&&e.forEach((e=>{ye(e)}))}else if("features"===n.type){const e=JSON.parse(n.data);me(t,r,e)}e.errors=0}catch(t){Ae(e)}},errors:0,state:"active"};le.set(t,e),we(e)}}function Ae(e){if("idle"!==e.state&&(e.errors++,e.errors>3||e.src&&2===e.src.readyState)){const t=Math.pow(3,e.errors-3)*(1e3+1e3*Math.random());be(e),setTimeout((()=>{["idle","active"].includes(e.state)||we(e)}),Math.min(t,3e5))}}function be(e){e.src&&(e.src.onopen=null,e.src.onerror=null,e.src.close(),e.src=null,"active"===e.state&&(e.state="disabled"))}function we(e){e.src=ae.eventSourceCall({host:e.host,clientKey:e.clientKey,headers:e.headers}),e.state="active",e.src.addEventListener("features",e.cb),e.src.addEventListener("features-updated",e.cb),e.src.onerror=()=>Ae(e),e.src.onopen=()=>{e.errors=0}}function Fe(e,t){be(e),le.delete(t)}function xe(){fe.clear(),le.forEach(Fe),ie.clear(),ae.stopIdleListener()}const Oe="undefined"!=typeof window&&"undefined"!=typeof document,ke=function(){let e;try{e="0.33.0"}catch(t){e=""}return e}();class _e{constructor(e){if(e=e||{},this.version=ke,this._ctx=this.context=e,this._renderer=null,this._trackedExperiments=new Set,this._trackedFeatures={},this.debug=!1,this._subscriptions=new Set,this._rtQueue=[],this._rtTimer=0,this.ready=!1,this._assigned=new Map,this._forcedFeatureValues=new Map,this._attributeOverrides={},this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._loadFeaturesCalled=!1,e.remoteEval){if(e.decryptionKey)throw new Error("Encryption is not available for remoteEval");if(!e.clientKey)throw new Error("Missing clientKey");let t=!1;try{t=!!new URL(e.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(e){}if(t)throw new Error("Cannot use remoteEval on GrowthBook Cloud")}else if(e.cacheKeyAttributes)throw new Error("cacheKeyAttributes are only used for remoteEval");e.features&&(this.ready=!0),Oe&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),e.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),e.clientKey&&!e.remoteEval&&this._refresh({},!0,!1)}async loadFeatures(e){e&&e.autoRefresh&&(this._ctx.subscribeToChanges=!0),this._loadFeaturesCalled=!0,await this._refresh(e,!0,!0),this._canSubscribe()&&function(e){const t=ge(e),r=ie.get(t)||new Set;r.add(e),ie.set(t,r)}(this)}async refreshFeatures(e){await this._refresh(e,!1,!0)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){const e=this._ctx.apiHost||"https://cdn.growthbook.io";return{apiHost:e.replace(/\/*$/,""),streamingHost:(this._ctx.streamingHost||e).replace(/\/*$/,""),apiRequestHeaders:this._ctx.apiHostRequestHeaders,streamingHostRequestHeaders:this._ctx.streamingHostRequestHeaders}}getClientKey(){return this._ctx.clientKey||""}isRemoteEval(){return this._ctx.remoteEval||!1}getCacheKeyAttributes(){return this._ctx.cacheKeyAttributes}async _refresh(e,t,r){if(e=e||{},!this._ctx.clientKey)throw new Error("Missing clientKey");await he(this,e.timeout,e.skipCache||this._ctx.enableDevMode,t,r,!1!==this._ctx.backgroundSync)}_render(){this._renderer&&this._renderer()}setFeatures(e){this._ctx.features=e,this.ready=!0,this._render()}async setEncryptedFeatures(e,t,r){const n=await U(e,t||this._ctx.decryptionKey,r);this.setFeatures(JSON.parse(n))}setExperiments(e){this._ctx.experiments=e,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(e,t,r){const n=await U(e,t||this._ctx.decryptionKey,r);this.setExperiments(JSON.parse(n))}async decryptPayload(e,t,r){return e.encryptedFeatures&&(e.features=JSON.parse(await U(e.encryptedFeatures,t||this._ctx.decryptionKey,r)),delete e.encryptedFeatures),e.encryptedExperiments&&(e.experiments=JSON.parse(await U(e.encryptedExperiments,t||this._ctx.decryptionKey,r)),delete e.encryptedExperiments),e}async setAttributes(e){this._ctx.attributes=e,this._ctx.stickyBucketService&&await this.refreshStickyBuckets(),this._ctx.remoteEval?await this._refreshForRemoteEval():(this._render(),this._updateAllAutoExperiments())}async setAttributeOverrides(e){this._attributeOverrides=e,this._ctx.stickyBucketService&&await this.refreshStickyBuckets(),this._ctx.remoteEval?await this._refreshForRemoteEval():(this._render(),this._updateAllAutoExperiments())}async setForcedVariations(e){this._ctx.forcedVariations=e||{},this._ctx.remoteEval?await this._refreshForRemoteEval():(this._render(),this._updateAllAutoExperiments())}setForcedFeatures(e){this._forcedFeatureValues=e,this._render()}async setURL(e){if(this._ctx.url=e,this._ctx.remoteEval)return await this._refreshForRemoteEval(),void this._updateAllAutoExperiments(!0);this._updateAllAutoExperiments(!0)}getAttributes(){return{...this._ctx.attributes,...this._attributeOverrides}}getForcedVariations(){return this._ctx.forcedVariations||{}}getForcedFeatures(){return this._forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._ctx.stickyBucketAssignmentDocs||{}}getUrl(){return this._ctx.url||""}getFeatures(){return this._ctx.features||{}}getExperiments(){return this._ctx.experiments||[]}subscribe(e){return this._subscriptions.add(e),()=>{this._subscriptions.delete(e)}}_canSubscribe(){return!1!==this._ctx.backgroundSync&&this._ctx.subscribeToChanges}async _refreshForRemoteEval(){this._ctx.remoteEval&&this._loadFeaturesCalled&&await this._refresh({},!1,!0).catch((()=>{}))}getAllResults(){return new Map(this._assigned)}destroy(){var e;this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._trackedFeatures={},this._rtQueue=[],this._rtTimer&&clearTimeout(this._rtTimer),e=this,ie.forEach((t=>t.delete(e))),Oe&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach((e=>{e.undo()})),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(e){this._renderer=e}forceVariation(e,t){this._ctx.forcedVariations=this._ctx.forcedVariations||{},this._ctx.forcedVariations[e]=t,this._ctx.remoteEval?this._refreshForRemoteEval():(this._updateAllAutoExperiments(),this._render())}run(e){const t=this._run(e,null);return this._fireSubscriptions(e,t),t}triggerExperiment(e){if(this._triggeredExpKeys.add(e),!this._ctx.experiments)return null;return this._ctx.experiments.filter((t=>t.key===e)).map((e=>e.manual?this._runAutoExperiment(e):null)).filter((e=>null!==e))}_runAutoExperiment(e,t){const r=this._activeAutoExperiments.get(e);if(e.manual&&!this._triggeredExpKeys.has(e.key)&&!r)return null;const n=this.run(e),u=JSON.stringify(n.value);if(!t&&n.inExperiment&&r&&r.valueHash===u)return n;if(r&&this._undoActiveAutoExperiment(e),n.inExperiment){const t=this._applyDOMChanges(n.value);t&&this._activeAutoExperiments.set(e,{undo:t,valueHash:u})}return n}_undoActiveAutoExperiment(e){const t=this._activeAutoExperiments.get(e);t&&(t.undo(),this._activeAutoExperiments.delete(e))}_updateAllAutoExperiments(e){const t=this._ctx.experiments||[],r=new Set(t);this._activeAutoExperiments.forEach(((e,t)=>{r.has(t)||(e.undo(),this._activeAutoExperiments.delete(t))})),t.forEach((t=>{this._runAutoExperiment(t,e)}))}_fireSubscriptions(e,t){const r=e.key,n=this._assigned.get(r);n&&n.result.inExperiment===t.inExperiment&&n.result.variationId===t.variationId||(this._assigned.set(r,{experiment:e,result:t}),this._subscriptions.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}})))}_trackFeatureUsage(e,t){if("override"===t.source)return;const r=JSON.stringify(t.value);if(this._trackedFeatures[e]!==r){if(this._trackedFeatures[e]=r,this._ctx.onFeatureUsage)try{this._ctx.onFeatureUsage(e,t)}catch(e){}Oe&&window.fetch&&(this._rtQueue.push({key:e,on:t.on}),this._rtTimer||(this._rtTimer=window.setTimeout((()=>{this._rtTimer=0;const e=[...this._rtQueue];this._rtQueue=[],this._ctx.realtimeKey&&window.fetch("https://rt.growthbook.io/?key=".concat(this._ctx.realtimeKey,"&events=").concat(encodeURIComponent(JSON.stringify(e))),{cache:"no-cache",mode:"no-cors"}).catch((()=>{}))}),this._ctx.realtimeInterval||2e3)))}}_getFeatureResult(e,t,r,n,u,a){const i={value:t,on:!!t,off:!t,source:r,ruleId:n||""};return u&&(i.experiment=u),a&&(i.experimentResult=a),this._trackFeatureUsage(e,i),i}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,t){const r=this.evalFeature(e).value;return null===r?t:r}feature(e){return this.evalFeature(e)}evalFeature(e){if(this._forcedFeatureValues.has(e))return this._getFeatureResult(e,this._forcedFeatureValues.get(e),"override");if(!this._ctx.features||!this._ctx.features[e])return this._getFeatureResult(e,null,"unknownFeature");const t=this._ctx.features[e];if(t.rules)for(const r of t.rules){if(r.filters&&this._isFilteredOut(r.filters))continue;if("force"in r){if(r.condition&&!this._conditionPasses(r.condition))continue;if(!this._isIncludedInRollout(r.seed||e,r.hashAttribute,this._ctx.stickyBucketService&&!r.disableStickyBucketing?r.fallbackAttribute:void 0,r.range,r.coverage,r.hashVersion))continue;return r.tracks&&r.tracks.forEach((e=>{this._track(e.experiment,e.result)})),this._getFeatureResult(e,r.force,"force",r.id)}if(!r.variations)continue;const t={variations:r.variations,key:r.key||e};"coverage"in r&&(t.coverage=r.coverage),r.weights&&(t.weights=r.weights),r.hashAttribute&&(t.hashAttribute=r.hashAttribute),r.fallbackAttribute&&(t.fallbackAttribute=r.fallbackAttribute),r.disableStickyBucketing&&(t.disableStickyBucketing=r.disableStickyBucketing),void 0!==r.bucketVersion&&(t.bucketVersion=r.bucketVersion),void 0!==r.minBucketVersion&&(t.minBucketVersion=r.minBucketVersion),r.namespace&&(t.namespace=r.namespace),r.meta&&(t.meta=r.meta),r.ranges&&(t.ranges=r.ranges),r.name&&(t.name=r.name),r.phase&&(t.phase=r.phase),r.seed&&(t.seed=r.seed),r.hashVersion&&(t.hashVersion=r.hashVersion),r.filters&&(t.filters=r.filters),r.condition&&(t.condition=r.condition);const n=this._run(t,e);if(this._fireSubscriptions(t,n),n.inExperiment&&!n.passthrough)return this._getFeatureResult(e,n.value,"experiment",r.id,t,n)}return this._getFeatureResult(e,void 0===t.defaultValue?null:t.defaultValue,"defaultValue")}_isIncludedInRollout(e,t,r,n,u,a){if(!n&&void 0===u)return!0;const{hashValue:i}=this._getHashAttribute(t,r);if(!i)return!1;const o=I(e,i,a||1);return null!==o&&(n?V(o,n):void 0===u||o<=u)}_conditionPasses(e){return X(this.getAttributes(),e)}_isFilteredOut(e){return e.some((e=>{const{hashValue:t}=this._getHashAttribute(e.attribute);if(!t)return!0;const r=I(e.seed,t,e.hashVersion||2);return null===r||!e.ranges.some((e=>V(r,e)))}))}_run(e,t){const r=e.key,n=e.variations.length;if(n<2)return this._getResult(e,-1,!1,t);if(!1===this._ctx.enabled)return this._getResult(e,-1,!1,t);if((e=this._mergeOverrides(e)).urlPatterns&&!function(e,t){if(!t.length)return!1;let r=!1,n=!1;for(let u=0;u<t.length;u++){const a=q(e,t[u].type,t[u].pattern);if(!1===t[u].include){if(a)return!1}else r=!0,a&&(n=!0)}return n||!r}(this._getContextUrl(),e.urlPatterns))return this._getResult(e,-1,!1,t);const u=function(e,t,r){if(!t)return null;const n=t.split("?")[1];if(!n)return null;const u=n.replace(/#.*/,"").split("&").map((e=>e.split("=",2))).filter((t=>{let[r]=t;return r===e})).map((e=>{let[,t]=e;return parseInt(t)}));return u.length>0&&u[0]>=0&&u[0]<r?u[0]:null}(r,this._getContextUrl(),n);if(null!==u)return this._getResult(e,u,!1,t);if(this._ctx.forcedVariations&&r in this._ctx.forcedVariations){const n=this._ctx.forcedVariations[r];return this._getResult(e,n,!1,t)}if("draft"===e.status||!1===e.active)return this._getResult(e,-1,!1,t);const{hashAttribute:a,hashValue:i}=this._getHashAttribute(e.hashAttribute,this._ctx.stickyBucketService&&!e.disableStickyBucketing?e.fallbackAttribute:void 0);if(!i)return this._getResult(e,-1,!1,t);let o=-1,s=!1,c=!1;if(this._ctx.stickyBucketService&&!e.disableStickyBucketing){const{variation:t,versionIsBlocked:r}=this._getStickyBucketVariation(e.key,e.bucketVersion,e.minBucketVersion,e.meta);s=t>=0,o=t,c=!!r}if(!s){if(e.filters){if(this._isFilteredOut(e.filters))return this._getResult(e,-1,!1,t)}else if(e.namespace&&!function(e,t){const r=I("__"+t[0],e,1);return null!==r&&r>=t[1]&&r<t[2]}(i,e.namespace))return this._getResult(e,-1,!1,t);if(e.include&&!function(e){try{return e()}catch(e){return console.error(e),!1}}(e.include))return this._getResult(e,-1,!1,t);if(e.condition&&!this._conditionPasses(e.condition))return this._getResult(e,-1,!1,t);if(e.groups&&!this._hasGroupOverlap(e.groups))return this._getResult(e,-1,!1,t)}if(e.url&&!this._urlIsValid(e.url))return this._getResult(e,-1,!1,t);const l=I(e.seed||r,i,e.hashVersion||1);if(null===l)return this._getResult(e,-1,!1,t);if(!s){o=function(e,t){for(let r=0;r<t.length;r++)if(V(e,t[r]))return r;return-1}(l,e.ranges||$(n,void 0===e.coverage?1:e.coverage,e.weights))}if(c)return this._getResult(e,-1,!1,t,void 0,!0);if(o<0)return this._getResult(e,-1,!1,t);if("force"in e)return this._getResult(e,void 0===e.force?-1:e.force,!1,t);if(this._ctx.qaMode)return this._getResult(e,-1,!1,t);if("stopped"===e.status)return this._getResult(e,-1,!1,t);const f=this._getResult(e,o,!0,t,l,s);if(this._ctx.stickyBucketService&&!e.disableStickyBucketing){const{changed:t,key:r,doc:n}=this._generateStickyBucketAssignmentDoc(a,K(i),{[this._getStickyBucketExperimentKey(e.key,e.bucketVersion)]:f.key});t&&(this._ctx.stickyBucketAssignmentDocs=this._ctx.stickyBucketAssignmentDocs||{},this._ctx.stickyBucketAssignmentDocs[r]=n,this._ctx.stickyBucketService.saveAssignments(n))}return this._track(e,f),f}log(e,t){this.debug&&(this._ctx.log?this._ctx.log(e,t):console.log(e,t))}_track(e,t){if(!this._ctx.trackingCallback)return;const r=e.key,n=t.hashAttribute+t.hashValue+r+t.variationId;if(!this._trackedExperiments.has(n)){this._trackedExperiments.add(n);try{this._ctx.trackingCallback(e,t)}catch(e){console.error(e)}}}_mergeOverrides(e){const t=e.key,r=this._ctx.overrides;return r&&r[t]&&"string"==typeof(e=Object.assign({},e,r[t])).url&&(e.url=W(e.url)),e}_getHashAttribute(e,t){let r=e||"id",n="";return this._attributeOverrides[r]?n=this._attributeOverrides[r]:this._ctx.attributes?n=this._ctx.attributes[r]||"":this._ctx.user&&(n=this._ctx.user[r]||""),!n&&t&&(this._attributeOverrides[t]?n=this._attributeOverrides[t]:this._ctx.attributes?n=this._ctx.attributes[t]||"":this._ctx.user&&(n=this._ctx.user[t]||""),n&&(r=t)),{hashAttribute:r,hashValue:n}}_getResult(e,t,r,n,u,a){let i=!0;(t<0||t>=e.variations.length)&&(t=0,i=!1);const{hashAttribute:o,hashValue:s}=this._getHashAttribute(e.hashAttribute,this._ctx.stickyBucketService&&!e.disableStickyBucketing?e.fallbackAttribute:void 0),c=e.meta?e.meta[t]:{},l={key:c.key||""+t,featureId:n,inExperiment:i,hashUsed:r,variationId:t,value:e.variations[t],hashAttribute:o,hashValue:s,stickyBucketUsed:!!a};return c.name&&(l.name=c.name),void 0!==u&&(l.bucket=u),c.passthrough&&(l.passthrough=c.passthrough),l}_getContextUrl(){return this._ctx.url||(Oe?window.location.href:"")}_urlIsValid(e){const t=this._getContextUrl();if(!t)return!1;const r=t.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!e.test(t)||!!e.test(r)}_hasGroupOverlap(e){const t=this._ctx.groups||{};for(let r=0;r<e.length;r++)if(t[e[r]])return!0;return!1}_applyDOMChanges(e){if(!Oe)return;const t=[];if(e.css){const r=document.createElement("style");r.innerHTML=e.css,document.head.appendChild(r),t.push((()=>r.remove()))}if(e.js){const r=document.createElement("script");r.innerHTML=e.js,document.head.appendChild(r),t.push((()=>r.remove()))}return e.domMutations&&e.domMutations.forEach((e=>{t.push(L.declarative(e).revert)})),()=>{t.forEach((e=>e()))}}_deriveStickyBucketIdentifierAttributes(e){const t=new Set,r=e&&e.features?e.features:this.getFeatures(),n=e&&e.experiments?e.experiments:this.getExperiments();return Object.keys(r).forEach((e=>{const n=r[e];if(n.rules)for(const e of n.rules)e.variations&&(t.add(e.hashAttribute||"id"),e.fallbackAttribute&&t.add(e.fallbackAttribute))})),n.map((e=>{t.add(e.hashAttribute||"id"),e.fallbackAttribute&&t.add(e.fallbackAttribute)})),Array.from(t)}async refreshStickyBuckets(e){if(this._ctx.stickyBucketService){const t=this._getStickyBucketAttributes(e);this._ctx.stickyBucketAssignmentDocs=await this._ctx.stickyBucketService.getAllAssignments(t)}}_getStickyBucketAssignments(){const e={};return Object.values(this._ctx.stickyBucketAssignmentDocs||{}).forEach((t=>{t.assignments&&Object.assign(e,t.assignments)})),e}_getStickyBucketVariation(e,t,r,n){t=t||0,r=r||0,n=n||[];const u=this._getStickyBucketExperimentKey(e,t),a=this._getStickyBucketAssignments();if(r>0)for(let t=0;t<=r;t++){if(void 0!==a[this._getStickyBucketExperimentKey(e,t)])return{variation:-1,versionIsBlocked:!0}}const i=a[u];if(void 0===i)return{variation:-1};const o=n.findIndex((e=>e.key===i));return o<0?{variation:-1}:{variation:o}}_getStickyBucketExperimentKey(e,t){return t=t||0,"".concat(e,"__").concat(t)}_getStickyBucketAttributes(e){const t={};return this._ctx.stickyBucketIdentifierAttributes=this._ctx.stickyBucketIdentifierAttributes?this._ctx.stickyBucketIdentifierAttributes:this._deriveStickyBucketIdentifierAttributes(e),this._ctx.stickyBucketIdentifierAttributes.forEach((e=>{const{hashValue:r}=this._getHashAttribute(e);t[e]=K(r)})),t}_generateStickyBucketAssignmentDoc(e,t,r){const n="".concat(e,"||").concat(t),u=this._ctx.stickyBucketAssignmentDocs&&this._ctx.stickyBucketAssignmentDocs[n]&&this._ctx.stickyBucketAssignmentDocs[n].assignments||{},a={...u,...r};return{key:n,doc:{attributeName:e,attributeValue:t,assignments:a},changed:JSON.stringify(u)!==JSON.stringify(a)}}}var Se=r(67294);const Pe=Se.createContext({});function Me(e){const t=Re();return!!t&&t.isOn(e)}function Te(e,t){const r=Re();return r?r.getFeatureValue(e,t):t}function Re(){const{growthbook:e}=Se.useContext(Pe);return e}const je=({children:e,growthbook:t})=>{const[r,n]=Se.useState(0);return Se.useEffect((()=>{if(t&&t.setRenderer)return t.setRenderer((()=>{n((e=>e+1))})),()=>{t.setRenderer((()=>{}))}}),[t]),Se.createElement(Pe.Provider,{value:{growthbook:t}},e)}},22214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegerField=t.DateField=void 0;t.IntegerField=class{constructor(e){if(!Number.isInteger(e))throw new Error("Number is not an integer: "+e);this.number=e}toJSON(){return this.number}};t.DateField=class{constructor(e){this.date=e}toJSON(){return this.date.toISOString().replace("Z","000Z")}}},33069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22214);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},82152:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=Object.prototype,u=n.toString,a=n.hasOwnProperty,i=new Map;function o(e,t){try{return s(e,t)}finally{i.clear()}}function s(e,t){if(e===t)return!0;var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(c(e,t))return!0;var n=Object.keys(e),i=Object.keys(t),o=n.length;if(o!==i.length)return!1;for(var l=0;l<o;++l)if(!a.call(t,n[l]))return!1;for(l=0;l<o;++l){var f=n[l];if(!s(e[f],t[f]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(c(e,t))return!0;for(var d=e.entries(),h="[object Map]"===r;;){var p=d.next();if(p.done)break;var v=p.value,g=v[0],D=v[1];if(!t.has(g))return!1;if(h&&!s(D,t.get(g)))return!1}return!0}return!1}function c(e,t){var r=i.get(e);if(r){if(r.has(t))return!0}else i.set(e,r=new Set);return r.add(t),!1}},9904:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=[],u=new MessageChannel,a=function(){this.postMessage(void 0)}.bind(u.port2);u.port1.onmessage=function(){var e=n;n=[];for(var t=performance.now(),r=0;r<e.length;r++)e[r](t)},u=null;const i=function(e){1===n.push(e)&&requestAnimationFrame(a)}},6907:e=>{"use strict";e.exports=function(e){if(e=String(e||""),n.test(e))return"rtl";if(u.test(e))return"ltr";return"neutral"};var t="֑-߿יִ-﷽ﹰ-ﻼ",r="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",n=new RegExp("^[^"+r+"]*["+t+"]"),u=new RegExp("^[^"+t+"]*["+r+"]")},26729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function u(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new u(n,a||e,i),s=r?r+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,u=[];if(0===this._eventsCount)return u;for(n in e=this._events)t.call(e,n)&&u.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(e)):u},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var u=0,a=n.length,i=new Array(a);u<a;u++)i[u]=n[u].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,u,a,i){var o=r?r+e:e;if(!this._events[o])return!1;var s,c,l=this._events[o],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,u),!0;case 5:return l.fn.call(l.context,t,n,u,a),!0;case 6:return l.fn.call(l.context,t,n,u,a,i),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var d,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,u);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[c].fn.apply(l[c].context,s)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,u){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||u&&!o.once||n&&o.context!==n||i(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==t||u&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},64714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(26729);const u=r.n(n)()},18156:(e,t)=>{"use strict";for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},u={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)a["f"+i]=111+i;function o(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return s(e,t)})),u=function(e){return n.some((function(t){return c(t,e)}))};return null==r?u:u(r)}function s(e,t){var r=t&&t.byKey,u={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var o in n)u[n[o]]=!1;var s=!0,c=!1,d=void 0;try{for(var h,p=a[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value,g=v.endsWith("?")&&v.length>1;g&&(v=v.slice(0,-1));var D=f(v),C=n[D];1!==i&&C||(r?u.key=D:u.which=l(v)),C&&(u[C]=!g||null)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}return u}function c(e,t){for(var r in e){var n=e[r],u=void 0;if(null!=n&&((null!=(u="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&u!==n))return!1}return!0}function l(e){return e=f(e),a[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=u[e]||e}t.P6=o},83300:(e,t)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},46073:function(e,t,r){var n;n=e=>(()=>{"use strict";var t={729:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function u(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new u(n,a||e,i),s=r?r+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,u=[];if(0===this._eventsCount)return u;for(n in e=this._events)t.call(e,n)&&u.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(e)):u},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var u=0,a=n.length,i=new Array(a);u<a;u++)i[u]=n[u].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,u,a,i){var o=r?r+e:e;if(!this._events[o])return!1;var s,c,l=this._events[o],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,u),!0;case 5:return l.fn.call(l.context,t,n,u,a),!0;case 6:return l.fn.call(l.context,t,n,u,a,i),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var d,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,u);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[c].fn.apply(l[c].context,s)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,u){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||u&&!o.once||n&&o.context!==n||i(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==t||u&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},639:t=>{t.exports=e}},r={};function n(e){var u=r[e];if(void 0!==u)return u.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.r(u),n.d(u,{createEvent:()=>x});var t,r=n(729),a=n.n(r),i=n(639),o=!("undefined"==typeof window||null===(t=window.document)||void 0===t||!t.createElement),s=o?i.useLayoutEffect:i.useEffect,c=function(e){var t=(0,i.useRef)((function(){throw new Error("Cannot call an event handler during the first render.")}));return s((function(){t.current=e})),(0,i.useCallback)((function(){for(var e,r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return null===(e=t.current)||void 0===e?void 0:e.apply(null,n)}),[])},l=function(e){var t=c(e);s((function(){return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}}),[t])},f=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},d="react-event-hook:undefined",h=new Error("The input value could not be serialized"),p=function e(t){try{var r=f(t),n=JSON.stringify(t,(function(e,t){return void 0===t?d:t})),u=v(n);if(f(u)!==r)throw h;return"object"===r&&Object.values(t).forEach((function(t){return e(t)})),"array"===r&&t.forEach((function(t){return e(t)})),n}catch(e){throw h}},v=function(e){return JSON.parse(e,(function(e,t){if(t!==d)return t}))},g=function(){return"".concat(Date.now(),":").concat(parseInt(Math.random().toString().replace(".",""),10))},D=function(e,t){return p({id:g(),name:e,payload:t})},C=function(e){var t=v(e);return{name:t.name,payload:t.payload}},m="react-event-hook";function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t;return[null===(t=e[0])||void 0===t?void 0:t.toUpperCase(),e.slice(1)].join("")},E=["-","_",":","/","."," "],A=function(e){return y(e.toLowerCase())},b=function e(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,u,a=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){o=!0,u=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw u}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(new RegExp("[".concat(E.join(""),"](.*)"))),2),n=r[0],u=r[1];return void 0!==n&&void 0!==u?"".concat(A(n)).concat(e(u)):function(e){return e.toUpperCase()===e&&e.toLowerCase()!==e}(t)?A(t):y(t)},w=new(a()),F=new Map,x=function(t){return function(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=n.crossTab,a=void 0!==u&&u,i=t.trim(),f=b(i),d="use".concat(f,"Listener"),h="emit".concat(f),p=g(),v=function(){F.has(i)&&F.get(i),F.set(i,p)},B=function(e){var t=c(e);l((function(t){if(a&&t.newValue&&t.key===m){var r=C(t.newValue);r.name===i&&e(r.payload)}})),s((function(){return w.addListener(i,t),function(){w.removeListener(i,t)}}),[t])},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.broadcast,n=void 0!==r&&r;if(o&&(v(),n||w.emit(i,e),a))try{var u=D(i,e);try{window.localStorage.setItem(m,u)}catch(e){}}catch(e){throw new Error('Could not emit "'.concat(i,'" event. The event payload might contain values that cannot be serialized.'))}},E=function(e){return y(e)};return E.broadcast=function(e){return y(e,{broadcast:!0})},e(r={},d,B),e(r,h,E),r}}})(),u})(),e.exports=n(r(67294))},69590:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,u="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var o,s,c,l,f,d;if(Array.isArray(e)){if((o=e.length)!=i.length)return!1;for(s=o;0!=s--;)if(!a(e[s],i[s]))return!1;return!0}if(r&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!i.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],i.get(s.value[0])))return!1;return!0}if(n&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;e:for(s=(l=e.entries()).next();!s.done;s=l.next())if(!i.has(s.value[0])){for(d=(f=i.entries()).next();!d.done;d=f.next())if(a(s.value[0],d.value[0]))continue e;return!1}return!0}if(u&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((o=e.length)!=i.length)return!1;for(s=o;0!=s--;)if(e[s]!==i[s])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof i.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof i.toString)return e.toString()===i.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=o;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],i[c[s]]))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},16468:(e,t,r)=>{"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return"[object Object]"===Object.prototype.toString.call(e)}r.d(t,{MO:()=>s,VC:()=>c});var u=r(43317),a={isHistory(e){return!1!==n(t=e)&&(void 0===(r=t.constructor)||!1!==n(a=r.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf"))&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||u.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||u.OX.isOperationList(e.undos[0].operations));var t,r,a}},i=(new WeakMap,new WeakMap),o=new WeakMap,s={isHistoryEditor:e=>a.isHistory(e.history)&&u.ML.isEditor(e),isMerging:e=>o.get(e),isSaving:e=>i.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=s.isMerging(e);o.set(e,!1),t(),o.set(e,r)},withoutSaving(e,t){var r=s.isSaving(e);i.set(e,!1),t(),i.set(e,r)}},c=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];n.selectionBefore&&u.YR.setSelection(t,n.selectionBefore),s.withoutSaving(t,(()=>{u.ML.withoutNormalizing(t,(()=>{for(var e of n.operations)t.apply(e)}))})),e.redos.pop(),t.writeHistory("undos",n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];s.withoutSaving(t,(()=>{u.ML.withoutNormalizing(t,(()=>{var e=n.operations.map(u.OX.inverse).reverse();for(var r of e)t.apply(r);n.selectionBefore&&u.YR.setSelection(t,n.selectionBefore)}))})),t.writeHistory("redos",n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:u}=t,{undos:a}=u,i=a[a.length-1],o=i&&i.operations[i.operations.length-1],c=s.isSaving(t),d=s.isMerging(t);if(null==c&&(c=f(e)),c){if(null==d&&(d=null!=i&&(0!==n.length||l(e,o))),i&&d)i.operations.push(e);else{var h={operations:[e],selectionBefore:t.selection};t.writeHistory("undos",h)}for(;a.length>100;)a.shift();u.redos=[]}r(e)},t.writeHistory=(e,r)=>{t.history[e].push(r)},t},l=(e,t)=>!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!u.y$.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!u.y$.equals(e.path,t.path)),f=(e,t)=>"set_selection"!==e.type},56396:(e,t,r)=>{"use strict";r.d(t,{CX:()=>cr,F3:()=>st,mH:()=>Br,UE:()=>Dr,vt:()=>$t,ui:()=>Jt,BU:()=>Fr});var n=r(6907),u=r.n(n),a=r(23279),i=r.n(a),o=r(23493),s=r.n(o),c=r(67294);function l(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function f(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function d(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return f(r.overflowY,t)||f(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function h(e,t,r,n,u,a,i,o){return a<e&&i>t||a>e&&i<t?0:a<=e&&o<=r||i>=t&&o>=r?a-e-n:i>t&&o<r||a<e&&o>r?i-t+u:0}var p=function(e,t){var r=window,n=t.scrollMode,u=t.block,a=t.inline,i=t.boundary,o=t.skipOverflowHiddenElements,s="function"==typeof i?i:function(e){return e!==i};if(!l(e))throw new TypeError("Invalid target");for(var c,f,p=document.scrollingElement||document.documentElement,v=[],g=e;l(g)&&s(g);){if((g=null==(f=(c=g).parentElement)?c.getRootNode().host||null:f)===p){v.push(g);break}null!=g&&g===document.body&&d(g)&&!d(document.documentElement)||null!=g&&d(g,o)&&v.push(g)}for(var D=r.visualViewport?r.visualViewport.width:innerWidth,C=r.visualViewport?r.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,B=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),E=y.height,A=y.width,b=y.top,w=y.right,F=y.bottom,x=y.left,O="start"===u||"nearest"===u?b:"end"===u?F:b+E/2,k="center"===a?x+A/2:"end"===a?w:x,_=[],S=0;S<v.length;S++){var P=v[S],M=P.getBoundingClientRect(),T=M.height,R=M.width,j=M.top,L=M.right,N=M.bottom,I=M.left;if("if-needed"===n&&b>=0&&x>=0&&F<=C&&w<=D&&b>=j&&F<=N&&x>=I&&w<=L)return _;var V=getComputedStyle(P),W=parseInt(V.borderLeftWidth,10),z=parseInt(V.borderTopWidth,10),q=parseInt(V.borderRightWidth,10),$=parseInt(V.borderBottomWidth,10),H=0,U=0,K="offsetWidth"in P?P.offsetWidth-P.clientWidth-W-q:0,Y="offsetHeight"in P?P.offsetHeight-P.clientHeight-z-$:0,J="offsetWidth"in P?0===P.offsetWidth?0:R/P.offsetWidth:0,X="offsetHeight"in P?0===P.offsetHeight?0:T/P.offsetHeight:0;if(p===P)H="start"===u?O:"end"===u?O-C:"nearest"===u?h(B,B+C,C,z,$,B+O,B+O+E,E):O-C/2,U="start"===a?k:"center"===a?k-D/2:"end"===a?k-D:h(m,m+D,D,W,q,m+k,m+k+A,A),H=Math.max(0,H+B),U=Math.max(0,U+m);else{H="start"===u?O-j-z:"end"===u?O-N+$+Y:"nearest"===u?h(j,N,T,z,$+Y,O,O+E,E):O-(j+T/2)+Y/2,U="start"===a?k-I-W:"center"===a?k-(I+R/2)+K/2:"end"===a?k-L+q+K:h(I,L,R,W,q+K,k,k+A,A);var Z=P.scrollLeft,G=P.scrollTop;O+=G-(H=Math.max(0,Math.min(G+H/X,P.scrollHeight-T/X+Y))),k+=Z-(U=Math.max(0,Math.min(Z+U/J,P.scrollWidth-R/J+K)))}_.push({el:P,top:H,left:U})}return _};function v(e){return e===Object(e)&&0!==Object.keys(e).length}const g=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(v(t)&&"function"==typeof t.behavior)return t.behavior(r?p(e,t):[]);if(r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:v(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,u=e.top,a=e.left;n.scroll&&r?n.scroll({top:u,left:a,behavior:t}):(n.scrollTop=u,n.scrollLeft=a)}))}(p(e,n),n.behavior)}};var D,C=r(43317),m=[],B="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(D||(D={}));var y,E=function(e){return Object.freeze(e)},A=function(e,t){this.inlineSize=e,this.blockSize=t,E(this)},b=function(){function e(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,E(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),w=function(e){return e instanceof SVGElement&&"getBBox"in e},F=function(e){if(w(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var u=e,a=u.offsetWidth,i=u.offsetHeight;return!(a||i||e.getClientRects().length)},x=function(e){var t;if(e instanceof Element)return!0;var r=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},O="undefined"!=typeof window?window:{},k=new WeakMap,_=/auto|scroll/,S=/^tb|vertical/,P=/msie|trident/i.test(O.navigator&&O.navigator.userAgent),M=function(e){return parseFloat(e||"0")},T=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),new A((r?t:e)||0,(r?e:t)||0)},R=E({devicePixelContentBoxSize:T(),borderBoxSize:T(),contentBoxSize:T(),contentRect:new b(0,0,0,0)}),j=function(e,t){if(void 0===t&&(t=!1),k.has(e)&&!t)return k.get(e);if(F(e))return k.set(e,R),R;var r=getComputedStyle(e),n=w(e)&&e.ownerSVGElement&&e.getBBox(),u=!P&&"border-box"===r.boxSizing,a=S.test(r.writingMode||""),i=!n&&_.test(r.overflowY||""),o=!n&&_.test(r.overflowX||""),s=n?0:M(r.paddingTop),c=n?0:M(r.paddingRight),l=n?0:M(r.paddingBottom),f=n?0:M(r.paddingLeft),d=n?0:M(r.borderTopWidth),h=n?0:M(r.borderRightWidth),p=n?0:M(r.borderBottomWidth),v=f+c,g=s+l,D=(n?0:M(r.borderLeftWidth))+h,C=d+p,m=o?e.offsetHeight-C-e.clientHeight:0,B=i?e.offsetWidth-D-e.clientWidth:0,y=u?v+D:0,A=u?g+C:0,x=n?n.width:M(r.width)-y-B,O=n?n.height:M(r.height)-A-m,j=x+v+B+D,L=O+g+m+C,N=E({devicePixelContentBoxSize:T(Math.round(x*devicePixelRatio),Math.round(O*devicePixelRatio),a),borderBoxSize:T(j,L,a),contentBoxSize:T(x,O,a),contentRect:new b(f,s,x,O)});return k.set(e,N),N},L=function(e,t,r){var n=j(e,r),u=n.borderBoxSize,a=n.contentBoxSize,i=n.devicePixelContentBoxSize;switch(t){case D.DEVICE_PIXEL_CONTENT_BOX:return i;case D.BORDER_BOX:return u;default:return a}},N=function(e){var t=j(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=E([t.borderBoxSize]),this.contentBoxSize=E([t.contentBoxSize]),this.devicePixelContentBoxSize=E([t.devicePixelContentBoxSize])},I=function(e){if(F(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},V=function(){var e=1/0,t=[];m.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(t){var r=new N(t.target),u=I(t.target);n.push(r),t.lastReportedSize=L(t.target,t.observedBox),u<e&&(e=u)})),t.push((function(){r.callback.call(r.observer,n,r.observer)})),r.activeTargets.splice(0,r.activeTargets.length)}}));for(var r=0,n=t;r<n.length;r++){(0,n[r])()}return e},W=function(e){m.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(r){r.isActive()&&(I(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))}))}))},z=function(){var e,t=0;for(W(t);m.some((function(e){return e.activeTargets.length>0}));)t=V(),W(t);return m.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:B}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=B),window.dispatchEvent(e)),t>0},q=[],$=function(e){if(!y){var t=0,r=document.createTextNode("");new MutationObserver((function(){return q.splice(0).forEach((function(e){return e()}))})).observe(r,{characterData:!0}),y=function(){r.textContent="".concat(t?t--:t++)}}q.push(e),y()},H=0,U={attributes:!0,characterData:!0,childList:!0,subtree:!0},K=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Y=function(e){return void 0===e&&(e=0),Date.now()+e},J=!1,X=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!J){J=!0;var r,n=Y(e);r=function(){var r=!1;try{r=z()}finally{if(J=!1,e=n-Y(),!H)return;r?t.run(1e3):e>0?t.run(e):t.start()}},$((function(){requestAnimationFrame(r)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,U)};document.body?t():O.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),K.forEach((function(t){return O.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),K.forEach((function(t){return O.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),Z=function(e){!H&&e>0&&X.start(),!(H+=e)&&X.stop()},G=function(){function e(e,t){this.target=e,this.observedBox=t||D.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=L(this.target,this.observedBox,!0);return e=this.target,w(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Q=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},ee=new WeakMap,te=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},re=function(){function e(){}return e.connect=function(e,t){var r=new Q(e,t);ee.set(e,r)},e.observe=function(e,t,r){var n=ee.get(e),u=0===n.observationTargets.length;te(n.observationTargets,t)<0&&(u&&m.push(n),n.observationTargets.push(new G(t,r&&r.box)),Z(1),X.schedule())},e.unobserve=function(e,t){var r=ee.get(e),n=te(r.observationTargets,t),u=1===r.observationTargets.length;n>=0&&(u&&m.splice(m.indexOf(r),1),r.observationTargets.splice(n,1),Z(-1))},e.disconnect=function(e){var t=this,r=ee.get(e);r.observationTargets.slice().forEach((function(r){return t.unobserve(e,r.target)})),r.activeTargets.splice(0,r.activeTargets.length)},e}(),ne=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");re.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!x(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");re.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!x(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");re.unobserve(this,e)},e.prototype.disconnect=function(){re.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),ue=r(18156),ae=r(73935);function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){if(null==e)return{};var r,n,u=function(e,t){if(null==e)return{};var r,n,u={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(u[r]=e[r]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}var se=(0,c.createContext)(null),ce=()=>{var e=(0,c.useContext)(se);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},le=parseInt(c.version.split(".")[0],10),fe="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,de="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),he="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),pe="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ve="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),ge="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),De="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),Ce="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),me=he&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Be="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),ye="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),Ee="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Ae=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),be=(!Ce||!me)&&!ge&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,we=new WeakMap,Fe=new WeakMap,xe=new WeakMap,Oe=new WeakMap,ke=new WeakMap,_e=new WeakMap,Se=new WeakMap,Pe=new WeakMap,Me=new WeakMap,Te=new WeakMap,Re=new WeakMap,je=new WeakMap,Le=new WeakMap,Ne=new WeakMap,Ie=new WeakMap,Ve=new WeakMap,We=new WeakMap,ze=new WeakMap,qe=new WeakMap,$e=new WeakMap,He=new WeakMap,Ue=Symbol("placeholder"),Ke=Symbol("mark-placeholder"),Ye=globalThis.Text,Je=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Xe=e=>Ze(e)&&1===e.nodeType,Ze=e=>{var t=Je(e);return!!t&&e instanceof t.Node},Ge=e=>{var t=e&&e.anchorNode&&Je(e.anchorNode);return!!t&&e instanceof t.Selection},Qe=e=>Ze(e)&&3===e.nodeType,et=(e,t,r)=>{for(var n,{childNodes:u}=e,a=u[t],i=t,o=!1,s=!1;(Ze(n=a)&&8===n.nodeType||Xe(a)&&0===a.childNodes.length||Xe(a)&&"false"===a.getAttribute("contenteditable"))&&(!o||!s);)i>=u.length?(o=!0,i=t-1,r="backward"):i<0?(s=!0,i=t+1,r="forward"):(a=u[i],t=i,i+="forward"===r?1:-1);return[a,t]},tt=(e,t,r)=>{var[n]=et(e,t,r);return n},rt=e=>{var t="";if(Qe(e)&&e.nodeValue)return e.nodeValue;if(Xe(e)){for(var r of Array.from(e.childNodes))t+=rt(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},nt=/data-slate-fragment="(.+?)"/m,ut=e=>{var t=e.getData("text/html"),[,r]=t.match(nt)||[];return r},at=(e,t,r)=>{var{target:n}=t;if(Xe(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:u}=st.getWindow(e);if(u.contains(n))return st.hasDOMNode(e,n,{editable:!0});var a=r.find((e=>{var{addedNodes:t,removedNodes:r}=e;for(var u of t)if(u===n||u.contains(n))return!0;for(var a of r)if(a===n||a.contains(n))return!0}));return!(!a||a===t)&&at(e,a,r)},it=0;class ot{constructor(){this.id="".concat(it++)}}var st={androidPendingDiffs:e=>ze.get(e),androidScheduleFlush:e=>{var t;null===(t=Ie.get(e))||void 0===t||t()},blur:e=>{var t=st.toDOMNode(e,e),r=st.findDocumentOrShadowRoot(e);Re.set(e,!1),r.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,r=st.findDocumentOrShadowRoot(e).getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&C.YR.deselect(e)},findDocumentOrShadowRoot:e=>{var t=st.toDOMNode(e,e),r=t.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&null!=r.getSelection?r:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:u}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a,i=st.toSlateNode(e,t.target),o=st.findPath(e,i);if(C.W_.isElement(i)&&C.ML.isVoid(e,i)){var s=u.getBoundingClientRect(),c=e.isInline(i)?r-s.left<s.left+s.width-r:n-s.top<s.top+s.height-n,l=C.ML.point(e,o,{edge:c?"start":"end"}),f=c?C.ML.before(e,l):C.ML.after(e,l);if(f)return C.ML.range(e,f)}var{document:d}=st.getWindow(e);if(d.caretRangeFromPoint)a=d.caretRangeFromPoint(r,n);else{var h=d.caretPositionFromPoint(r,n);h&&((a=d.createRange()).setStart(h.offsetNode,h.offset),a.setEnd(h.offsetNode,h.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return st.toSlateRange(e,a,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{var r=Pe.get(t);return r||(r=new ot,Pe.set(t,r)),r},findPath:(e,t)=>{for(var r=[],n=t;;){var u=Fe.get(n);if(null==u){if(C.ML.isEditor(n))return r;break}var a=we.get(n);if(null==a)break;r.unshift(a),n=u}throw new Error("Unable to find the path for Slate node: ".concat(C.o4.stringify(t)))},focus:e=>{var t=st.toDOMNode(e,e),r=st.findDocumentOrShadowRoot(e);if(Re.set(e,!0),r.activeElement!==t){if(e.selection&&r instanceof Document){var n=r.getSelection(),u=st.toDOMRange(e,e.selection);null==n||n.removeAllRanges(),null==n||n.addRange(u)}t.focus({preventScroll:!0})}},getWindow:e=>{var t=xe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:u=!1}=n,a=st.toDOMNode(e,e);try{r=Xe(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&!(r.closest("[data-slate-editor]")!==a||u&&!r.isContentEditable&&("boolean"!=typeof r.isContentEditable||r.closest('[contenteditable="false"]')!==a)&&!r.getAttribute("data-slate-zero-width"))},hasEditableTarget:(e,t)=>Ze(t)&&st.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:r,focus:n}=t;return C.ML.hasPath(e,r.path)&&C.ML.hasPath(e,n.path)},hasSelectableTarget:(e,t)=>st.hasEditableTarget(e,t)||st.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Ze(t)&&st.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!je.get(e),isFocused:e=>!!Re.get(e),isReadOnly:e=>!!Te.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Te.get(e))return!1;var r=st.hasTarget(e,t)&&st.toSlateNode(e,t);return C.W_.isElement(r)&&C.ML.isVoid(e,r)},setFragmentData:(e,t,r)=>e.setFragmentData(t,r),toDOMNode:(e,t)=>{var r=Me.get(e),n=C.ML.isEditor(t)?Oe.get(e):null==r?void 0:r.get(st.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(C.o4.stringify(t)));return n},toDOMPoint:(e,t)=>{var r,[n]=C.ML.node(e,t.path),u=st.toDOMNode(e,n);C.ML.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a=Array.from(u.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),i=0,o=0;o<a.length;o++){var s=a[o],c=s.childNodes[0];if(null!=c&&null!=c.textContent){var{length:l}=c.textContent,f=s.getAttribute("data-slate-length"),d=i+(null==f?l:parseInt(f,10)),h=a[o+1];if(t.offset===d&&null!=h&&h.hasAttribute("data-slate-mark-placeholder")){var p,v=h.childNodes[0];r=[v instanceof Ye?v:h,null!==(p=h.textContent)&&void 0!==p&&p.startsWith("\ufeff")?1:0];break}if(t.offset<=d){r=[c,Math.min(l,Math.max(0,t.offset-i))];break}i=d}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(C.o4.stringify(t)));return r},toDOMRange:(e,t)=>{var{anchor:r,focus:n}=t,u=C.e6.isBackward(t),a=st.toDOMPoint(e,r),i=C.e6.isCollapsed(t)?a:st.toDOMPoint(e,n),o=st.getWindow(e).document.createRange(),[s,c]=u?i:a,[l,f]=u?a:i,d=!!(Xe(s)?s:s.parentElement).getAttribute("data-slate-zero-width"),h=!!(Xe(l)?l:l.parentElement).getAttribute("data-slate-zero-width");return o.setStart(s,d?1:c),o.setEnd(l,h?1:f),o},toSlateNode:(e,t)=>{var r=Xe(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?_e.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(e,t,r)=>{var{exactMatch:n,suppressThrow:u}=r,[a,i]=n?t:(e=>{var[t,r]=e;if(Xe(t)&&t.childNodes.length){var n=r===t.childNodes.length,u=n?r-1:r;for([t,u]=et(t,u,n?"backward":"forward"),n=u<r;Xe(t)&&t.childNodes.length;){var a=n?t.childNodes.length-1:0;t=tt(t,a,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),o=a.parentNode,s=null,c=0;if(o){var l,f,d=st.toDOMNode(e,e),h=o.closest('[data-slate-void="true"]'),p=h&&d.contains(h)?h:null,v=o.closest("[data-slate-leaf]"),g=null;if(v){if(s=v.closest('[data-slate-node="text"]')){var D=st.getWindow(e).document.createRange();D.setStart(s,0),D.setEnd(a,i);var m=D.cloneContents();[...Array.prototype.slice.call(m.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(m.querySelectorAll("[contenteditable=false]"))].forEach((e=>{he&&!n&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\ufeff"!==e.textContext?e.textContent.startsWith("\ufeff")&&(e.textContent=e.textContent.slice(1)):e.parentNode.removeChild(e)})),c=m.textContent.length,g=s}}else if(p){for(var B=p.querySelectorAll("[data-slate-leaf]"),y=0;y<B.length;y++){var E=B[y];if(st.hasDOMNode(e,E)){v=E;break}}v?(s=v.closest('[data-slate-node="text"]'),c=(g=v).textContent.length,g.querySelectorAll("[data-slate-zero-width]").forEach((e=>{c-=e.textContent.length}))):c=1}g&&c===g.textContent.length&&he&&"z"===g.getAttribute("data-slate-zero-width")&&null!==(l=g.textContent)&&void 0!==l&&l.startsWith("\ufeff")&&(o.hasAttribute("data-slate-zero-width")||pe&&null!==(f=g.textContent)&&void 0!==f&&f.endsWith("\n\n"))&&c--}if(he&&!s&&!n){var A=o.hasAttribute("data-slate-node")?o:o.closest("[data-slate-node]");if(A&&st.hasDOMNode(e,A,{editable:!0})){var b=st.toSlateNode(e,A),{path:w,offset:F}=C.ML.start(e,st.findPath(e,b));return A.querySelector("[data-slate-leaf]")||(F=i),{path:w,offset:F}}}if(!s){if(u)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var x=st.toSlateNode(e,s);return{path:st.findPath(e,x),offset:c}},toSlateRange:(e,t,r)=>{var n,u,a,i,o,s,{exactMatch:c,suppressThrow:l}=r;if(Ge(t)?t.anchorNode:t.startContainer)if(Ge(t)){if(pe&&t.rangeCount>1){a=t.focusNode;var f=t.getRangeAt(0),d=t.getRangeAt(t.rangeCount-1);if(a instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement){function y(e){return e.childElementCount>0?y(e.children[0]):e}var h=f.startContainer,p=d.startContainer,v=y(h.children[f.startOffset]),g=y(p.children[d.startOffset]);i=0,n=g.childNodes.length>0?g.childNodes[0]:g,a=v.childNodes.length>0?v.childNodes[0]:v,u=g instanceof HTMLElement?g.innerHTML.length:0}else f.startContainer===a?(n=d.endContainer,u=d.endOffset,i=f.startOffset):(n=f.startContainer,u=f.endOffset,i=d.startOffset)}else n=t.anchorNode,u=t.anchorOffset,a=t.focusNode,i=t.focusOffset;o=De&&(e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1})(n)||pe?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed}else n=t.startContainer,u=t.startOffset,a=t.endContainer,i=t.endOffset,o=t.collapsed;if(null==n||null==a||null==u||null==i)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));"getAttribute"in a&&"false"===a.getAttribute("contenteditable")&&"true"!==a.getAttribute("data-slate-void")&&(a=n,i=(null===(s=n.textContent)||void 0===s?void 0:s.length)||0);var D=st.toSlatePoint(e,[n,u],{exactMatch:c,suppressThrow:l});if(!D)return null;var m=o?D:st.toSlatePoint(e,[a,i],{exactMatch:c,suppressThrow:l});if(!m)return null;var B={anchor:D,focus:m};return C.e6.isExpanded(B)&&C.e6.isForward(B)&&Xe(a)&&C.ML.void(e,{at:B.focus,mode:"highest"})&&(B=C.ML.unhangRange(e,B,{voids:!0})),B}};function ct(e,t){var{path:r,diff:n}=t;if(!C.ML.hasPath(e,r))return!1;var u=C.NB.get(e,r);if(!C.xv.isText(u))return!1;if(n.start!==u.text.length||0===n.text.length)return u.text.slice(n.start,n.start+n.text.length)===n.text;var a=C.y$.next(r);if(!C.ML.hasPath(e,a))return!1;var i=C.NB.get(e,a);return C.xv.isText(i)&&i.text.startsWith(n.text)}function lt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end)),e)}function ft(e,t){var{start:r,end:n,text:u}=t,a=e.slice(r,n),i=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return r}(a,u),o=function(e,t,r){for(var n=Math.min(e.length,t.length,r),u=0;u<n;u++)if(e.charAt(e.length-u-1)!==t.charAt(t.length-u-1))return u;return n}(a,u,Math.min(a.length-i,u.length-i)),s={start:r+i,end:n-o,text:u.slice(i,u.length-o)};return s.start===s.end&&0===s.text.length?null:s}function dt(e){var{path:t,diff:r}=e;return{anchor:{path:t,offset:r.start},focus:{path:t,offset:r.end}}}function ht(e,t){var{path:r,offset:n}=t;if(!C.ML.hasPath(e,r))return null;var u=C.NB.get(e,r);if(!C.xv.isText(u))return null;var a=C.ML.above(e,{match:t=>C.W_.isElement(t)&&C.ML.isBlock(e,t),at:r});if(!a)return null;for(;n>u.text.length;){var i=C.ML.next(e,{at:r,match:C.xv.isText});if(!i||!C.y$.isDescendant(i[1],a[1]))return null;n-=u.text.length,u=i[0],r=i[1]}return{path:r,offset:n}}function pt(e,t){var r=ht(e,t.anchor);if(!r)return null;if(C.e6.isCollapsed(t))return{anchor:r,focus:r};var n=ht(e,t.focus);return n?{anchor:r,focus:n}:null}function vt(e,t,r){var n=ze.get(e),u=null==n?void 0:n.find((e=>{var{path:r}=e;return C.y$.equals(r,t.path)}));if(!u||t.offset<=u.diff.start)return C.E9.transform(t,r,{affinity:"backward"});var{diff:a}=u;if(t.offset<=a.start+a.text.length){var i={path:t.path,offset:a.start},o=C.E9.transform(i,r,{affinity:"backward"});return o?{path:o.path,offset:o.offset+t.offset-a.start}:null}var s={path:t.path,offset:t.offset-a.text.length+a.end-a.start},c=C.E9.transform(s,r,{affinity:"backward"});return c?"split_node"===r.type&&C.y$.equals(r.path,t.path)&&s.offset<r.position&&a.start<r.position?c:{path:c.path,offset:c.offset+a.text.length-a.end+a.start}:null}function gt(e,t,r){var n=vt(e,t.anchor,r);if(!n)return null;if(C.e6.isCollapsed(t))return{anchor:n,focus:n};var u=vt(e,t.focus,r);return u?{anchor:n,focus:u}:null}function Dt(e,t){var{path:r,diff:n,id:u}=e;switch(t.type){case"insert_text":return!C.y$.equals(t.path,r)||t.offset>=n.end?e:t.offset<=n.start?{diff:{start:t.text.length+n.start,end:t.text.length+n.end,text:n.text},id:u,path:r}:{diff:{start:n.start,end:n.end+t.text.length,text:n.text},id:u,path:r};case"remove_text":return!C.y$.equals(t.path,r)||t.offset>=n.end?e:t.offset+t.text.length<=n.start?{diff:{start:n.start-t.text.length,end:n.end-t.text.length,text:n.text},id:u,path:r}:{diff:{start:n.start,end:n.end-t.text.length,text:n.text},id:u,path:r};case"split_node":return!C.y$.equals(t.path,r)||t.position>=n.end?{diff:n,id:u,path:C.y$.transform(r,t,{affinity:"backward"})}:t.position>n.start?{diff:{start:n.start,end:Math.min(t.position,n.end),text:n.text},id:u,path:r}:{diff:{start:n.start-t.position,end:n.end-t.position,text:n.text},id:u,path:C.y$.transform(r,t,{affinity:"forward"})};case"merge_node":return C.y$.equals(t.path,r)?{diff:{start:n.start+t.position,end:n.end+t.position,text:n.text},id:u,path:C.y$.transform(r,t)}:{diff:n,id:u,path:C.y$.transform(r,t)}}var a=C.y$.transform(r,t);return a?{diff:n,path:a,id:u}:null}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e){var{editor:t,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=e,u=!1,a=null,i=null,o=null,s=0,c=!1,l=()=>{var e=$e.get(t);if($e.delete(t),e){var{selection:r}=t,n=pt(t,e);!n||r&&C.e6.equals(n,r)||C.YR.select(t,n)}},f=()=>{if(i&&(clearTimeout(i),i=null),o&&(clearTimeout(o),o=null),g()||v()){u||(u=!0,setTimeout((()=>u=!1))),v()&&(u="action");var e=t.selection&&C.ML.rangeRef(t,t.selection,{affinity:"forward"});We.set(t,t.marks),qe.get(t),ze.get(t);for(var a,s=g();a=null===(f=ze.get(t))||void 0===f?void 0:f[0];){var f,d,h=Ve.get(t);void 0!==h&&(Ve.delete(t),t.marks=h),h&&!1===c&&(c=null);var p=dt(a);t.selection&&C.e6.equals(t.selection,p)||C.YR.select(t,p),a.diff.text?C.ML.insertText(t,a.diff.text):C.ML.deleteFragment(t),ze.set(t,null===(d=ze.get(t))||void 0===d?void 0:d.filter((e=>{var{id:t}=e;return t!==a.id}))),ct(t,a)||(s=!1,qe.delete(t),We.delete(t),u="action",$e.delete(t),r.cancel(),n.cancel(),null==e||e.unref())}var D=null==e?void 0:e.unref();if(!D||$e.get(t)||t.selection&&C.e6.equals(D,t.selection)||C.YR.select(t,D),v())(()=>{var e=qe.get(t);if(qe.delete(t),e){if(e.at){var r=C.E9.isPoint(e.at)?ht(t,e.at):pt(t,e.at);if(!r)return;var n=C.ML.range(t,r);t.selection&&C.e6.equals(t.selection,n)||C.YR.select(t,r)}e.run()}})();else{s&&r(),r.flush(),n.flush(),l();var m=We.get(t);We.delete(t),void 0!==m&&(t.marks=m,t.onChange())}}else l()},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=ke.get(t);r&&(g()||e?r.style.display="none":r.style.removeProperty("display"))},h=(e,r)=>{var n,u=null!==(n=ze.get(t))&&void 0!==n?n:[];ze.set(t,u);var a=C.NB.leaf(t,e),i=u.findIndex((t=>C.y$.equals(t.path,e)));if(i<0)return ft(a.text,r)&&u.push({path:e,diff:r,id:s++}),void d();var o,c,l,f,h,p,v,g,D=(o=a.text,c=u[i].diff,l=r,f=Math.min(c.start,l.start),h=Math.max(0,Math.min(c.start+c.text.length,l.end)-l.start),p=lt(o,c,l),v=Math.max(l.start+l.text.length,c.start+c.text.length+(c.start+c.text.length>l.start?l.text.length:0)-h),g=p.slice(f,v),ft(o,{start:f,end:Math.max(c.end,l.end-c.text.length+(c.end-c.start)),text:g}));if(!D)return u.splice(i,1),void d();u[i]=mt(mt({},u[i]),{},{diff:D})},p=function(e){var{at:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c=!1,$e.delete(t),r.cancel(),n.cancel(),v()&&f(),qe.set(t,{at:u,run:e}),o=setTimeout(f)},v=()=>!!qe.get(t),g=()=>{var e;return!(null===(e=ze.get(t))||void 0===e||!e.length)},D=e=>{$e.set(t,e),i&&(clearTimeout(i),i=null);var{selection:r}=t;if(e){var n=!r||!C.y$.equals(r.anchor.path,e.anchor.path),u=!r||!C.y$.equals(r.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(n&&c||u)&&(c=!1),(n||g())&&(i=setTimeout(f,200))}},m=()=>{v()||(o=setTimeout(f))};return{flush:f,scheduleFlush:m,hasPendingDiffs:g,hasPendingAction:v,hasPendingChanges:()=>v()||g(),isFlushing:()=>u,handleUserSelect:D,handleCompositionEnd:e=>{a&&clearTimeout(a),a=setTimeout((()=>{je.set(t,!1),f()}),25)},handleCompositionStart:e=>{je.set(t,!0),a&&(clearTimeout(a),a=null)},handleDOMBeforeInput:e=>{var r;i&&(clearTimeout(i),i=null);var{inputType:n}=e,u=null,a=e.dataTransfer||e.data||void 0;!1!==c&&"insertText"!==n&&"insertCompositionText"!==n&&(c=!1);var[o]=e.getTargetRanges();o&&(u=st.toSlateRange(t,o,{exactMatch:!1,suppressThrow:!0}));var s=st.getWindow(t).getSelection();if(!u&&s&&(o=s,u=st.toSlateRange(t,s,{exactMatch:!1,suppressThrow:!0})),u=null!==(r=u)&&void 0!==r?r:t.selection){var l,f=!0;if(n.startsWith("delete")){if(C.e6.isExpanded(u)){var[d,v]=C.e6.edges(u);if(C.NB.leaf(t,d.path).text.length===d.offset&&0===v.offset){var g=C.ML.next(t,{at:d.path,match:C.xv.isText});g&&C.y$.equals(g[1],v.path)&&(u={anchor:v,focus:v})}}var B=n.endsWith("Backward")?"backward":"forward",[y,E]=C.e6.edges(u),[A,b]=C.ML.leaf(t,y.path),w={text:"",start:y.offset,end:E.offset},F=ze.get(t),x=null==F?void 0:F.find((e=>C.y$.equals(e.path,b))),O=x?[x.diff,w]:[w];if(0===lt(A.text,...O).length&&(f=!1),C.e6.isExpanded(u)){if(f&&C.y$.equals(u.anchor.path,u.focus.path)){var k={path:u.anchor.path,offset:y.offset},_=C.ML.range(t,k,k);return D(_),h(u.anchor.path,{text:"",end:E.offset,start:y.offset})}return p((()=>C.ML.deleteFragment(t,{direction:B})),{at:u})}}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p((()=>C.ML.deleteFragment(t)),{at:u});case"deleteContent":case"deleteContentForward":var{anchor:S}=u;if(f&&C.e6.isCollapsed(u)){var P=C.NB.leaf(t,S.path);if(S.offset<P.text.length)return h(S.path,{text:"",start:S.offset,end:S.offset+1})}return p((()=>C.ML.deleteForward(t)),{at:u});case"deleteContentBackward":var M,{anchor:T}=u,R=Ge(o)?o.isCollapsed:!(null===(M=o)||void 0===M||!M.collapsed);return f&&R&&C.e6.isCollapsed(u)&&T.offset>0?h(T.path,{text:"",start:T.offset-1,end:T.offset}):p((()=>C.ML.deleteBackward(t)),{at:u});case"deleteEntireSoftLine":return p((()=>{C.ML.deleteBackward(t,{unit:"line"}),C.ML.deleteForward(t,{unit:"line"})}),{at:u});case"deleteHardLineBackward":return p((()=>C.ML.deleteBackward(t,{unit:"block"})),{at:u});case"deleteSoftLineBackward":return p((()=>C.ML.deleteBackward(t,{unit:"line"})),{at:u});case"deleteHardLineForward":return p((()=>C.ML.deleteForward(t,{unit:"block"})),{at:u});case"deleteSoftLineForward":return p((()=>C.ML.deleteForward(t,{unit:"line"})),{at:u});case"deleteWordBackward":return p((()=>C.ML.deleteBackward(t,{unit:"word"})),{at:u});case"deleteWordForward":return p((()=>C.ML.deleteForward(t,{unit:"word"})),{at:u});case"insertLineBreak":return p((()=>C.ML.insertSoftBreak(t)),{at:u});case"insertParagraph":return p((()=>C.ML.insertBreak(t)),{at:u});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null==(l=a)?void 0:l.constructor.name))return p((()=>st.insertData(t,a)),{at:u});var j=null!=a?a:"";if(Ve.get(t)&&(j=j.replace("\ufeff","")),"insertText"===n&&/.*\n.*\n$/.test(j)&&(j=j.slice(0,-1)),j.includes("\n"))return p((()=>{var e=j.split("\n");e.forEach(((r,n)=>{r&&C.ML.insertText(t,r),n!==e.length-1&&C.ML.insertSoftBreak(t)}))}),{at:u});if(C.y$.equals(u.anchor.path,u.focus.path)){var[L,N]=C.e6.edges(u),I={start:L.offset,end:N.offset,text:j};if(j&&c&&"insertCompositionText"===n){var V=c.start+c.text.search(/\S|$/);I.start+I.text.search(/\S|$/)===V+1&&I.end===c.start+c.text.length?(I.start-=1,c=null,m()):c=!1}else c="insertText"===n&&(null===c?I:!(!c||!C.e6.isCollapsed(u)||c.end+c.text.length!==L.offset)&&mt(mt({},c),{},{text:c.text+j}));if(f)return void h(L.path,I)}return p((()=>C.ML.insertText(t,j)),{at:u})}}},handleKeyDown:e=>{g()||(d(!0),setTimeout(d))},handleDomMutations:e=>{var r;g()||v()||e.some((r=>at(t,r,e)))&&(null===(r=He.get(t))||void 0===r||r())},handleInput:()=>{!v()&&g()||f()}}}var yt=Ae?c.useLayoutEffect:c.useEffect;var Et=["node"];function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var bt={subtree:!0,childList:!0,characterData:!0},wt=he?e=>{var{node:t}=e,r=oe(e,Et);if(!he)return null;var n,u=ce(),a=(n=(0,c.useRef)(!1),(0,c.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]),n.current),[i]=(0,c.useState)((()=>Bt(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({editor:u},r))));return function(e,t,r){var[n]=(0,c.useState)((()=>new MutationObserver(t)));yt((()=>{n.takeRecords()})),(0,c.useEffect)((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),()=>n.disconnect()}),[n,e,r])}(t,i.handleDomMutations,bt),Ie.set(u,i.scheduleFlush),a&&i.flush(),i}:()=>null,Ft=["anchor","focus"],xt=["anchor","focus"],Ot=(e,t)=>{var r,n,u=oe(e,Ft),a=oe(t,xt);return e[Ue]===t[Ue]&&(r=u,n=a,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every((e=>n.hasOwnProperty(e)&&r[e]===n[e])))},kt=e=>{var{isLast:t,leaf:r,parent:n,text:u}=e,a=ce(),i=st.findPath(a,u),o=C.y$.parent(i),s=!0===r[Ke];return a.isVoid(n)?c.createElement(Pt,{length:C.NB.string(n).length}):""!==r.text||n.children[n.children.length-1]!==u||a.isInline(n)||""!==C.ML.string(a,o)?""===r.text?c.createElement(Pt,{isMarkPlaceholder:s}):t&&"\n"===r.text.slice(-1)?c.createElement(_t,{isTrailing:!0,text:r.text}):c.createElement(_t,{text:r.text}):c.createElement(Pt,{isLineBreak:!0,isMarkPlaceholder:s})},_t=e=>{var{text:t,isTrailing:r=!1}=e,n=(0,c.useRef)(null),u=()=>"".concat(null!=t?t:"").concat(r?"\n":""),[a]=(0,c.useState)(u);return yt((()=>{var e=u();n.current&&n.current.textContent!==e&&(n.current.textContent=e)})),c.createElement(St,{ref:n},a)},St=(0,c.memo)((0,c.forwardRef)(((e,t)=>c.createElement("span",{"data-slate-string":!0,ref:t},e.children)))),Pt=e=>{var{length:t=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=e,u={"data-slate-zero-width":r?"n":"z","data-slate-length":t};return n&&(u["data-slate-mark-placeholder"]=!0),c.createElement("span",Object.assign({},u),he&&r?null:"\ufeff",r?c.createElement("br",null):null)};function Mt(e){e.current&&(clearTimeout(e.current),e.current=null)}var Tt=e=>{var{leaf:t,isLast:r,text:n,parent:u,renderPlaceholder:a,renderLeaf:i=(e=>c.createElement(jt,Object.assign({},e)))}=e,o=ce(),s=(0,c.useRef)(null),l=(0,c.useRef)(null),[f,d]=(0,c.useState)(!1),h=(0,c.useRef)(null),p=(0,c.useCallback)((e=>{if(function(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}(s,null==e),null==e){var r;ke.delete(o),null===(r=t.onPlaceholderResize)||void 0===r||r.call(t,null)}else{if(ke.set(o,e),!s.current){var n=window.ResizeObserver||ne;s.current=new n((()=>{var r;null===(r=t.onPlaceholderResize)||void 0===r||r.call(t,e)}))}s.current.observe(e),l.current=e}}),[l,t,o]),v=c.createElement(kt,{isLast:r,leaf:t,parent:u,text:n}),g=t[Ue];if((0,c.useEffect)((()=>(g?h.current||(h.current=setTimeout((()=>{d(!0),h.current=null}),300)):(Mt(h),d(!1)),()=>Mt(h))),[g,d]),g&&f){var D={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:ve?"inherit":void 0},contentEditable:!1,ref:p}};v=c.createElement(c.Fragment,null,a(D),v)}return i({attributes:{"data-slate-leaf":!0},children:v,leaf:t,text:n})},Rt=c.memo(Tt,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&C.xv.equals(t.leaf,e.leaf)&&t.leaf[Ue]===e.leaf[Ue])),jt=e=>{var{attributes:t,children:r}=e;return c.createElement("span",Object.assign({},t),r)},Lt=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:u,renderLeaf:a,text:i}=e,o=ce(),s=(0,c.useRef)(null),l=C.xv.decorations(i,t),f=st.findKey(o,i),d=[],h=0;h<l.length;h++){var p=l[h];d.push(c.createElement(Rt,{isLast:r&&h===l.length-1,key:"".concat(f.id,"-").concat(h),renderPlaceholder:u,leaf:p,text:i,parent:n,renderLeaf:a}))}var v=(0,c.useCallback)((e=>{var t=Me.get(o);e?(null==t||t.set(f,e),Se.set(i,e),_e.set(e,i)):(null==t||t.delete(f),Se.delete(i),s.current&&_e.delete(s.current)),s.current=e}),[s,o,f,i]);return c.createElement("span",{"data-slate-node":"text",ref:v},d)},Nt=c.memo(Lt,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&((e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],u=t[r];if(n.anchor.offset!==u.anchor.offset||n.focus.offset!==u.focus.offset||!Ot(n,u))return!1}return!0})(t.decorations,e.decorations))),It=e=>{var{decorations:t,element:r,renderElement:n=(e=>c.createElement(Wt,Object.assign({},e))),renderPlaceholder:a,renderLeaf:i,selection:o}=e,s=ce(),l=Kt(),f=s.isInline(r),d=st.findKey(s,r),h=(0,c.useCallback)((e=>{var t=Me.get(s);e?(null==t||t.set(d,e),Se.set(r,e),_e.set(e,r)):(null==t||t.delete(d),Se.delete(r))}),[s,d,r]),p=Ht({decorations:t,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:i,selection:o}),v={"data-slate-node":"element",ref:h};if(f&&(v["data-slate-inline"]=!0),!f&&C.ML.hasInlines(s,r)){var g=C.NB.string(r),D=u()(g);"rtl"===D&&(v.dir=D)}if(C.ML.isVoid(s,r)){v["data-slate-void"]=!0,!l&&f&&(v.contentEditable=!1);var m=f?"span":"div",[[B]]=C.NB.texts(r);p=c.createElement(m,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},c.createElement(Nt,{renderPlaceholder:a,decorations:[],isLast:!1,parent:r,text:B})),we.set(B,0),Fe.set(B,r)}return n({attributes:v,children:p,element:r})},Vt=c.memo(It,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&((e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],u=t[r];if(!C.e6.equals(n,u)||!Ot(n,u))return!1}return!0})(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&C.e6.equals(e.selection,t.selection)))),Wt=e=>{var{attributes:t,children:r,element:n}=e,u=ce().isInline(n)?"span":"div";return c.createElement(u,Object.assign({},t,{style:{position:"relative"}}),r)},zt=(0,c.createContext)((()=>[])),qt=(0,c.createContext)(!1),$t=()=>(0,c.useContext)(qt),Ht=e=>{for(var{decorations:t,node:r,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:i}=e,o=(0,c.useContext)(zt),s=ce(),l=st.findPath(s,r),f=[],d=C.W_.isElement(r)&&!s.isInline(r)&&C.ML.hasInlines(s,r),h=0;h<r.children.length;h++){var p=l.concat(h),v=r.children[h],g=st.findKey(s,v),D=C.ML.range(s,p),m=i&&C.e6.intersection(D,i),B=o([v,p]);for(var y of t){var E=C.e6.intersection(y,D);E&&B.push(E)}C.W_.isElement(v)?f.push(c.createElement(qt.Provider,{key:"provider-".concat(g.id),value:!!m},c.createElement(Vt,{decorations:B,element:v,key:g.id,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:m}))):f.push(c.createElement(Nt,{decorations:B,key:g.id,isLast:d&&h===r.children.length-1,parent:r,renderPlaceholder:u,renderLeaf:a,text:v})),we.set(v,h),Fe.set(v,r)}return f},Ut=(0,c.createContext)(!1),Kt=()=>(0,c.useContext)(Ut),Yt=(0,c.createContext)(null),Jt=()=>{var e=(0,c.useContext)(Yt);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};var Xt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Zt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Gt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Qt=e=>{var t=Xt[e],r=Zt[e],n=Gt[e],u=t&&(0,ue.P6)(t),a=r&&(0,ue.P6)(r),i=n&&(0,ue.P6)(n);return e=>!(!u||!u(e))||(!!(de&&a&&a(e))||!(de||!i||!i(e)))},er={isBold:Qt("bold"),isCompose:Qt("compose"),isMoveBackward:Qt("moveBackward"),isMoveForward:Qt("moveForward"),isDeleteBackward:Qt("deleteBackward"),isDeleteForward:Qt("deleteForward"),isDeleteLineBackward:Qt("deleteLineBackward"),isDeleteLineForward:Qt("deleteLineForward"),isDeleteWordBackward:Qt("deleteWordBackward"),isDeleteWordForward:Qt("deleteWordForward"),isExtendBackward:Qt("extendBackward"),isExtendForward:Qt("extendForward"),isExtendLineBackward:Qt("extendLineBackward"),isExtendLineForward:Qt("extendLineForward"),isItalic:Qt("italic"),isMoveLineBackward:Qt("moveLineBackward"),isMoveLineForward:Qt("moveLineForward"),isMoveWordBackward:Qt("moveWordBackward"),isMoveWordForward:Qt("moveWordForward"),isRedo:Qt("redo"),isSoftBreak:Qt("insertSoftBreak"),isSplitBlock:Qt("splitBlock"),isTransposeCharacter:Qt("transposeCharacter"),isUndo:Qt("undo")},tr={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class rr extends c.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,tr)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=((e,t)=>{var r=[],n=()=>{r=[]};return{registerMutations:n=>{if(t.current){var u=n.filter((t=>at(e,t,n)));r.push(...u)}},restoreDOM:function(){r.length>0&&(r.reverse().forEach((e=>{"characterData"!==e.type&&(e.removedNodes.forEach((t=>{e.target.insertBefore(t,e.nextSibling)})),e.addedNodes.forEach((t=>{e.target.removeChild(t)})))})),n())},clear:n}})(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,r,n,u=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();null!=u&&u.length&&(null===(n=this.manager)||void 0===n||n.registerMutations(u));return null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(r=this.manager)||void 0===r||r.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}rr.contextType=se;var nr=he?rr:e=>{var{children:t}=e;return c.createElement(c.Fragment,null,t)},ur=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],ar=["text"];function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sr=e=>c.createElement(c.Fragment,null,Ht(e)),cr=e=>{var t=(0,c.useCallback)((e=>c.createElement(lr,Object.assign({},e))),[]),{autoFocus:r,decorate:n=fr,onDOMBeforeInput:a,placeholder:o,readOnly:l=!1,renderElement:f,renderLeaf:d,renderPlaceholder:h=t,scrollSelectionIntoView:p=dr,style:v={},as:g="div",disableDefaultStyles:D=!1}=e,m=oe(e,ur),B=Jt(),[y,E]=(0,c.useState)(!1),A=(0,c.useRef)(null),b=(0,c.useRef)([]),[w,F]=(0,c.useState)(),{onUserInput:x,receivedUserInput:O}=function(){var e=ce(),t=(0,c.useRef)(!1),r=(0,c.useRef)(0),n=(0,c.useCallback)((()=>{if(!t.current){t.current=!0;var n=st.getWindow(e);n.cancelAnimationFrame(r.current),r.current=n.requestAnimationFrame((()=>{t.current=!1}))}}),[e]);return(0,c.useEffect)((()=>()=>cancelAnimationFrame(r.current)),[]),{receivedUserInput:t,onUserInput:n}}(),[,k]=(0,c.useReducer)((e=>e+1),0);He.set(B,k),Te.set(B,l);var _=(0,c.useMemo)((()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1})),[]);(0,c.useEffect)((()=>{A.current&&r&&A.current.focus()}),[r]);var S=(0,c.useRef)(),P=(0,c.useMemo)((()=>s()((()=>{var e=S.current;if((he||!st.isComposing(B))&&(!_.isUpdatingSelection||null!=e&&e.isFlushing())&&!_.isDraggingInternally){var t=st.findDocumentOrShadowRoot(B),{activeElement:r}=t,n=st.toDOMNode(B,B),u=t.getSelection();if(r===n?(_.latestElement=r,Re.set(B,!0)):Re.delete(B),!u)return C.YR.deselect(B);var{anchorNode:a,focusNode:i}=u,o=st.hasEditableTarget(B,a)||st.isTargetInsideNonReadonlyVoid(B,a),s=st.hasEditableTarget(B,i)||st.isTargetInsideNonReadonlyVoid(B,i);if(o&&s){var c=st.toSlateRange(B,u,{exactMatch:!1,suppressThrow:!0});c&&(st.isComposing(B)||null!=e&&e.hasPendingChanges()||null!=e&&e.isFlushing()?null==e||e.handleUserSelect(c):C.YR.select(B,c))}!l||o&&s||C.YR.deselect(B)}}),100)),[B,l,_]),M=(0,c.useMemo)((()=>i()(P,0)),[P]);S.current=wt({node:A,onDOMSelectionChange:P,scheduleOnDOMSelectionChange:M}),yt((()=>{var e,t,r;A.current&&(r=Je(A.current))?(xe.set(B,r),Oe.set(B,A.current),Se.set(B,A.current),_e.set(A.current,B)):Se.delete(B);var{selection:n}=B,u=st.findDocumentOrShadowRoot(B).getSelection();if(u&&st.isFocused(B)&&(null===(e=S.current)||void 0===e||!e.hasPendingAction())){var a=e=>{var t="None"!==u.type;if(n||t){var r,a=u.focusNode;if(pe&&u.rangeCount>1){var i=u.getRangeAt(0),o=u.getRangeAt(u.rangeCount-1);r=i.startContainer===a?o.endContainer:i.startContainer}else r=u.anchorNode;var s=Oe.get(B),c=!1;if(s.contains(r)&&s.contains(a)&&(c=!0),t&&c&&n&&!e){var l=st.toSlateRange(B,u,{exactMatch:!0,suppressThrow:!0});if(l&&C.e6.equals(l,n)){var f,d;if(!_.hasMarkPlaceholder)return;if(null!==(f=r)&&void 0!==f&&null!==(d=f.parentElement)&&void 0!==d&&d.hasAttribute("data-slate-mark-placeholder"))return}}if(!n||st.hasRange(B,n)){_.isUpdatingSelection=!0;var h=n&&st.toDOMRange(B,n);return h?(st.isComposing(B)&&!he?u.collapseToEnd():C.e6.isBackward(n)?u.setBaseAndExtent(h.endContainer,h.endOffset,h.startContainer,h.startOffset):u.setBaseAndExtent(h.startContainer,h.startOffset,h.endContainer,h.endOffset),p(B,h)):u.removeAllRanges(),h}B.selection=st.toSlateRange(B,u,{exactMatch:!1,suppressThrow:!0})}};u.rangeCount<=1&&a();var i="action"===(null===(t=S.current)||void 0===t?void 0:t.isFlushing());if(he&&i){var o=null,s=requestAnimationFrame((()=>{if(i){var e=e=>{try{st.toDOMNode(B,B).focus(),a(e)}catch(e){}};e(),o=setTimeout((()=>{e(!0),_.isUpdatingSelection=!1}))}}));return()=>{cancelAnimationFrame(s),o&&clearTimeout(o)}}setTimeout((()=>{_.isUpdatingSelection=!1}))}}));var T=(0,c.useCallback)((e=>{if(x(),!l&&st.hasEditableTarget(B,e.target)&&!vr(e,a)){var t;if(S.current)return S.current.handleDOMBeforeInput(e);M.flush(),P.flush();var{selection:r}=B,{inputType:n}=e,u=e.dataTransfer||e.data||void 0,i="insertCompositionText"===n||"deleteCompositionText"===n;if(i&&st.isComposing(B))return;var o=!1;if("insertText"===n&&r&&C.e6.isCollapsed(r)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==r.anchor.offset){var s,c;o=!0,B.marks&&(o=!1);var{anchor:f}=r,[d,h]=st.toDOMPoint(B,f),p=null===(s=d.parentElement)||void 0===s?void 0:s.closest("a"),v=st.getWindow(B);if(o&&p&&st.hasDOMNode(B,p)){var g,D=null==v?void 0:v.document.createTreeWalker(p,NodeFilter.SHOW_TEXT).lastChild();D===d&&(null===(g=D.textContent)||void 0===g?void 0:g.length)===h&&(o=!1)}if(o&&d.parentElement&&"pre"===(null==v||null===(c=v.getComputedStyle(d.parentElement))||void 0===c?void 0:c.whiteSpace)){var m=C.ML.above(B,{at:f.path,match:e=>C.W_.isElement(e)&&C.ML.isBlock(B,e)});m&&C.NB.string(m[0]).includes("\t")&&(o=!1)}}if(!n.startsWith("delete")||n.startsWith("deleteBy")){var[y]=e.getTargetRanges();if(y){var A=st.toSlateRange(B,y,{exactMatch:!1,suppressThrow:!1});if(!r||!C.e6.equals(r,A)){o=!1;var w=!i&&B.selection&&C.ML.rangeRef(B,B.selection);C.YR.select(B,A),w&&Le.set(B,w)}}}if(i)return;if(o||e.preventDefault(),r&&C.e6.isExpanded(r)&&n.startsWith("delete")){var F=n.endsWith("Backward")?"backward":"forward";return void C.ML.deleteFragment(B,{direction:F})}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":C.ML.deleteFragment(B);break;case"deleteContent":case"deleteContentForward":C.ML.deleteForward(B);break;case"deleteContentBackward":C.ML.deleteBackward(B);break;case"deleteEntireSoftLine":C.ML.deleteBackward(B,{unit:"line"}),C.ML.deleteForward(B,{unit:"line"});break;case"deleteHardLineBackward":C.ML.deleteBackward(B,{unit:"block"});break;case"deleteSoftLineBackward":C.ML.deleteBackward(B,{unit:"line"});break;case"deleteHardLineForward":C.ML.deleteForward(B,{unit:"block"});break;case"deleteSoftLineForward":C.ML.deleteForward(B,{unit:"line"});break;case"deleteWordBackward":C.ML.deleteBackward(B,{unit:"word"});break;case"deleteWordForward":C.ML.deleteForward(B,{unit:"word"});break;case"insertLineBreak":C.ML.insertSoftBreak(B);break;case"insertParagraph":C.ML.insertBreak(B);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===n&&st.isComposing(B)&&(E(!1),je.set(B,!1)),"DataTransfer"===(null==u?void 0:u.constructor.name)?st.insertData(B,u):"string"==typeof u&&(o?b.current.push((()=>C.ML.insertText(B,u))):C.ML.insertText(B,u))}var O=null===(t=Le.get(B))||void 0===t?void 0:t.unref();Le.delete(B),!O||B.selection&&C.e6.equals(B.selection,O)||C.YR.select(B,O)}}),[B,P,x,a,l,M]),R=(0,c.useCallback)((e=>{null==e?(P.cancel(),M.cancel(),Oe.delete(B),Se.delete(B),A.current&&be&&A.current.removeEventListener("beforeinput",T)):be&&e.addEventListener("beforeinput",T),A.current=e}),[P,M,B,T]);yt((()=>{var e=st.getWindow(B);return e.document.addEventListener("selectionchange",M),()=>{e.document.removeEventListener("selectionchange",M)}}),[M]);var j=n([B,[]]),L=o&&1===B.children.length&&1===Array.from(C.NB.texts(B)).length&&""===C.NB.string(B)&&!y,N=(0,c.useCallback)((e=>{var t;e&&L?F(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height):F(void 0)}),[L]);if(L){var I=C.ML.start(B,[]);j.push({[Ue]:!0,placeholder:o,onPlaceholderResize:N,anchor:I,focus:I})}var{marks:V}=B;if(_.hasMarkPlaceholder=!1,B.selection&&C.e6.isCollapsed(B.selection)&&V){var{anchor:W}=B.selection,z=C.NB.leaf(B,W.path),q=oe(z,ar);if(!C.xv.equals(z,V,{loose:!0})){_.hasMarkPlaceholder=!0;var $=Object.fromEntries(Object.keys(q).map((e=>[e,null])));j.push(or(or(or({[Ke]:!0},$),V),{},{anchor:W,focus:W}))}}return(0,c.useEffect)((()=>{setTimeout((()=>{var{selection:e}=B;if(e){var{anchor:t}=e,r=C.NB.leaf(B,t.path);if(V&&!C.xv.equals(r,V,{loose:!0}))return void Ve.set(B,V)}Ve.delete(B)}))})),c.createElement(Ut.Provider,{value:l},c.createElement(zt.Provider,{value:n},c.createElement(nr,{node:A,receivedUserInput:O},c.createElement(g,Object.assign({role:l?void 0:"textbox","aria-multiline":!l||void 0},m,{spellCheck:!(!be&&Ae)&&m.spellCheck,autoCorrect:be||!Ae?m.autoCorrect:"false",autoCapitalize:be||!Ae?m.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:R,style:or(or({},D?{}:or({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},w?{minHeight:w}:{})),v),onBeforeInput:(0,c.useCallback)((e=>{if(!be&&!l&&!hr(e,m.onBeforeInput)&&st.hasSelectableTarget(B,e.target)&&(e.preventDefault(),!st.isComposing(B))){var t=e.data;C.ML.insertText(B,t)}}),[m.onBeforeInput,B,l]),onInput:(0,c.useCallback)((e=>{if(!hr(e,m.onInput))if(S.current)S.current.handleInput();else{for(var t of b.current)t();b.current=[]}}),[m.onInput]),onBlur:(0,c.useCallback)((e=>{if(!l&&!_.isUpdatingSelection&&st.hasSelectableTarget(B,e.target)&&!hr(e,m.onBlur)){var t=st.findDocumentOrShadowRoot(B);if(_.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===st.toDOMNode(B,B)||Xe(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&Ze(r)&&st.hasDOMNode(B,r)){var n=st.toSlateNode(B,r);if(C.W_.isElement(n)&&!B.isVoid(n))return}if(ve){var u=t.getSelection();null==u||u.removeAllRanges()}Re.delete(B)}}}}),[l,_.isUpdatingSelection,_.latestElement,B,m.onBlur]),onClick:(0,c.useCallback)((e=>{if(st.hasTarget(B,e.target)&&!hr(e,m.onClick)&&Ze(e.target)){var t=st.toSlateNode(B,e.target),r=st.findPath(B,t);if(!C.ML.hasPath(B,r)||C.NB.get(B,r)!==t)return;if(3===e.detail&&r.length>=1){var n=r;if(!C.W_.isElement(t)||!C.ML.isBlock(B,t)){var u,a=C.ML.above(B,{match:e=>C.W_.isElement(e)&&C.ML.isBlock(B,e),at:r});n=null!==(u=null==a?void 0:a[1])&&void 0!==u?u:r.slice(0,1)}var i=C.ML.range(B,n);return void C.YR.select(B,i)}if(l)return;var o=C.ML.start(B,r),s=C.ML.end(B,r),c=C.ML.void(B,{at:o}),f=C.ML.void(B,{at:s});if(c&&f&&C.y$.equals(c[1],f[1])){var d=C.ML.range(B,o);C.YR.select(B,d)}}}),[B,m.onClick,l]),onCompositionEnd:(0,c.useCallback)((e=>{if(st.hasSelectableTarget(B,e.target)){var t;if(st.isComposing(B)&&(E(!1),je.set(B,!1)),null===(t=S.current)||void 0===t||t.handleCompositionEnd(e),hr(e,m.onCompositionEnd)||he)return;if(!ve&&!Be&&!fe&&!Ee&&!ye&&e.data){var r=Ve.get(B);Ve.delete(B),void 0!==r&&(We.set(B,B.marks),B.marks=r),C.ML.insertText(B,e.data);var n=We.get(B);We.delete(B),void 0!==n&&(B.marks=n)}}}),[m.onCompositionEnd,B]),onCompositionUpdate:(0,c.useCallback)((e=>{st.hasSelectableTarget(B,e.target)&&!hr(e,m.onCompositionUpdate)&&(st.isComposing(B)||(E(!0),je.set(B,!0)))}),[m.onCompositionUpdate,B]),onCompositionStart:(0,c.useCallback)((e=>{if(st.hasSelectableTarget(B,e.target)){var t;if(null===(t=S.current)||void 0===t||t.handleCompositionStart(e),hr(e,m.onCompositionStart)||he)return;E(!0);var{selection:r}=B;if(r){if(C.e6.isExpanded(r))return void C.ML.deleteFragment(B);var n=C.ML.above(B,{match:e=>C.W_.isElement(e)&&C.ML.isInline(B,e),mode:"highest"});if(n){var[,u]=n;if(C.ML.isEnd(B,r.anchor,u)){var a=C.ML.after(B,u);C.YR.setSelection(B,{anchor:a,focus:a})}}}}}),[m.onCompositionStart,B]),onCopy:(0,c.useCallback)((e=>{!st.hasSelectableTarget(B,e.target)||hr(e,m.onCopy)||pr(e)||(e.preventDefault(),st.setFragmentData(B,e.clipboardData,"copy"))}),[m.onCopy,B]),onCut:(0,c.useCallback)((e=>{if(!l&&st.hasSelectableTarget(B,e.target)&&!hr(e,m.onCut)&&!pr(e)){e.preventDefault(),st.setFragmentData(B,e.clipboardData,"cut");var{selection:t}=B;if(t)if(C.e6.isExpanded(t))C.ML.deleteFragment(B);else{var r=C.NB.parent(B,t.anchor.path);C.ML.isVoid(B,r)&&C.YR.delete(B)}}}),[l,B,m.onCut]),onDragOver:(0,c.useCallback)((e=>{if(st.hasTarget(B,e.target)&&!hr(e,m.onDragOver)){var t=st.toSlateNode(B,e.target);C.W_.isElement(t)&&C.ML.isVoid(B,t)&&e.preventDefault()}}),[m.onDragOver,B]),onDragStart:(0,c.useCallback)((e=>{if(!l&&st.hasTarget(B,e.target)&&!hr(e,m.onDragStart)){var t=st.toSlateNode(B,e.target),r=st.findPath(B,t);if(C.W_.isElement(t)&&C.ML.isVoid(B,t)||C.ML.void(B,{at:r,voids:!0})){var n=C.ML.range(B,r);C.YR.select(B,n)}_.isDraggingInternally=!0,st.setFragmentData(B,e.dataTransfer,"drag")}}),[l,B,m.onDragStart,_]),onDrop:(0,c.useCallback)((e=>{if(!l&&st.hasTarget(B,e.target)&&!hr(e,m.onDrop)){e.preventDefault();var t=B.selection,r=st.findEventRange(B,e),n=e.dataTransfer;C.YR.select(B,r),_.isDraggingInternally&&(!t||C.e6.equals(t,r)||C.ML.void(B,{at:r,voids:!0})||C.YR.delete(B,{at:t})),st.insertData(B,n),st.isFocused(B)||st.focus(B)}_.isDraggingInternally=!1}),[l,B,m.onDrop,_]),onDragEnd:(0,c.useCallback)((e=>{!l&&_.isDraggingInternally&&m.onDragEnd&&st.hasTarget(B,e.target)&&m.onDragEnd(e),_.isDraggingInternally=!1}),[l,_,m,B]),onFocus:(0,c.useCallback)((e=>{if(!l&&!_.isUpdatingSelection&&st.hasEditableTarget(B,e.target)&&!hr(e,m.onFocus)){var t=st.toDOMNode(B,B),r=st.findDocumentOrShadowRoot(B);if(_.latestElement=r.activeElement,pe&&e.target!==t)return void t.focus();Re.set(B,!0)}}),[l,_,B,m.onFocus]),onKeyDown:(0,c.useCallback)((e=>{if(!l&&st.hasEditableTarget(B,e.target)){var t;null===(t=S.current)||void 0===t||t.handleKeyDown(e);var{nativeEvent:r}=e;if(st.isComposing(B)&&!1===r.isComposing&&(je.set(B,!1),E(!1)),hr(e,m.onKeyDown)||st.isComposing(B))return;var{selection:n}=B,a=B.children[null!==n?n.focus.path[0]:0],i="rtl"===u()(C.NB.string(a));if(er.isRedo(r)){e.preventDefault();var o=B;return void("function"==typeof o.redo&&o.redo())}if(er.isUndo(r)){e.preventDefault();var s=B;return void("function"==typeof s.undo&&s.undo())}if(er.isMoveLineBackward(r))return e.preventDefault(),void C.YR.move(B,{unit:"line",reverse:!0});if(er.isMoveLineForward(r))return e.preventDefault(),void C.YR.move(B,{unit:"line"});if(er.isExtendLineBackward(r))return e.preventDefault(),void C.YR.move(B,{unit:"line",edge:"focus",reverse:!0});if(er.isExtendLineForward(r))return e.preventDefault(),void C.YR.move(B,{unit:"line",edge:"focus"});if(er.isMoveBackward(r))return e.preventDefault(),void(n&&C.e6.isCollapsed(n)?C.YR.move(B,{reverse:!i}):C.YR.collapse(B,{edge:"start"}));if(er.isMoveForward(r))return e.preventDefault(),void(n&&C.e6.isCollapsed(n)?C.YR.move(B,{reverse:i}):C.YR.collapse(B,{edge:"end"}));if(er.isMoveWordBackward(r))return e.preventDefault(),n&&C.e6.isExpanded(n)&&C.YR.collapse(B,{edge:"focus"}),void C.YR.move(B,{unit:"word",reverse:!i});if(er.isMoveWordForward(r))return e.preventDefault(),n&&C.e6.isExpanded(n)&&C.YR.collapse(B,{edge:"focus"}),void C.YR.move(B,{unit:"word",reverse:i});if(be){if((De||ve)&&n&&(er.isDeleteBackward(r)||er.isDeleteForward(r))&&C.e6.isCollapsed(n)){var c=C.NB.parent(B,n.anchor.path);if(C.W_.isElement(c)&&C.ML.isVoid(B,c)&&(C.ML.isInline(B,c)||C.ML.isBlock(B,c)))return e.preventDefault(),void C.ML.deleteBackward(B,{unit:"block"})}}else{if(er.isBold(r)||er.isItalic(r)||er.isTransposeCharacter(r))return void e.preventDefault();if(er.isSoftBreak(r))return e.preventDefault(),void C.ML.insertSoftBreak(B);if(er.isSplitBlock(r))return e.preventDefault(),void C.ML.insertBreak(B);if(er.isDeleteBackward(r))return e.preventDefault(),void(n&&C.e6.isExpanded(n)?C.ML.deleteFragment(B,{direction:"backward"}):C.ML.deleteBackward(B));if(er.isDeleteForward(r))return e.preventDefault(),void(n&&C.e6.isExpanded(n)?C.ML.deleteFragment(B,{direction:"forward"}):C.ML.deleteForward(B));if(er.isDeleteLineBackward(r))return e.preventDefault(),void(n&&C.e6.isExpanded(n)?C.ML.deleteFragment(B,{direction:"backward"}):C.ML.deleteBackward(B,{unit:"line"}));if(er.isDeleteLineForward(r))return e.preventDefault(),void(n&&C.e6.isExpanded(n)?C.ML.deleteFragment(B,{direction:"forward"}):C.ML.deleteForward(B,{unit:"line"}));if(er.isDeleteWordBackward(r))return e.preventDefault(),void(n&&C.e6.isExpanded(n)?C.ML.deleteFragment(B,{direction:"backward"}):C.ML.deleteBackward(B,{unit:"word"}));if(er.isDeleteWordForward(r))return e.preventDefault(),void(n&&C.e6.isExpanded(n)?C.ML.deleteFragment(B,{direction:"forward"}):C.ML.deleteForward(B,{unit:"word"}))}}}),[l,B,m.onKeyDown]),onPaste:(0,c.useCallback)((e=>{l||!st.hasEditableTarget(B,e.target)||hr(e,m.onPaste)||(!be||(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||ve)&&(e.preventDefault(),st.insertData(B,e.clipboardData))}),[l,B,m.onPaste])}),c.createElement(sr,{decorations:j,node:B,renderElement:f,renderPlaceholder:h,renderLeaf:d,selection:B.selection})))))},lr=e=>{var{attributes:t,children:r}=e;return c.createElement("span",Object.assign({},t),r,he&&c.createElement("br",null))},fr=()=>[],dr=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&C.e6.isCollapsed(e.selection))){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),g(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},hr=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},pr=e=>Ze(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),vr=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented},gr=(0,c.createContext)(!1),Dr=()=>(0,c.useContext)(gr);var Cr=(0,c.createContext)({});var mr=["editor","children","onChange","initialValue"],Br=e=>{var{editor:t,children:r,onChange:n,initialValue:u}=e,a=oe(e,mr),[i,o]=c.useState((()=>{if(!C.NB.isNodeList(u))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(C.o4.stringify(u)));if(!C.ML.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(C.o4.stringify(t)));return t.children=u,Object.assign(t,a),{v:0,editor:t}})),{selectorContext:s,onChange:l}=function(e){var t=(0,c.useRef)([]).current,r=(0,c.useRef)({editor:e}).current,n=(0,c.useCallback)((e=>{r.editor=e,t.forEach((t=>t(e)))}),[t,r]);return{selectorContext:(0,c.useMemo)((()=>({getSlate:()=>r.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})})),[t,r]),onChange:n}}(t),f=(0,c.useCallback)((()=>{n&&n(t.children),o((e=>({v:e.v+1,editor:t}))),l(t)}),[t,l,n]);(0,c.useEffect)((()=>(Ne.set(t,f),()=>{Ne.set(t,(()=>{}))})),[t,f]);var[d,h]=(0,c.useState)(st.isFocused(t));return(0,c.useEffect)((()=>{h(st.isFocused(t))}),[t]),yt((()=>{var e=()=>h(st.isFocused(t));return le>=17?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),c.createElement(Cr.Provider,{value:s},c.createElement(Yt.Provider,{value:i},c.createElement(se.Provider,{value:i.editor},c.createElement(gr.Provider,{value:d},r))))},yr=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},Er=(e,t,r)=>{var n=st.toDOMRange(e,t).getBoundingClientRect(),u=st.toDOMRange(e,r).getBoundingClientRect();return yr(n,u)&&yr(u,n)},Ar=(e,t)=>{var r=C.ML.range(e,C.e6.end(t)),n=Array.from(C.ML.positions(e,{at:t})),u=0,a=n.length,i=Math.floor(a/2);if(Er(e,C.ML.range(e,n[u]),r))return C.ML.range(e,n[u],r);if(n.length<2)return C.ML.range(e,n[n.length-1],r);for(;i!==n.length&&i!==u;)Er(e,C.ML.range(e,n[i]),r)?a=i:u=i,i=Math.floor((u+a)/2);return C.ML.range(e,n[a],r)};function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",r=e,{apply:n,onChange:u,deleteBackward:a,addMark:i,removeMark:o}=r;return Me.set(r,new WeakMap),r.addMark=(e,t)=>{var n,u;null===(n=Ie.get(r))||void 0===n||n(),!Ve.get(r)&&null!==(u=ze.get(r))&&void 0!==u&&u.length&&Ve.set(r,null),We.delete(r),i(e,t)},r.removeMark=e=>{var t;!Ve.get(r)&&null!==(t=ze.get(r))&&void 0!==t&&t.length&&Ve.set(r,null),We.delete(r),o(e)},r.deleteBackward=e=>{if("line"!==e)return a(e);if(r.selection&&C.e6.isCollapsed(r.selection)){var t=C.ML.above(r,{match:e=>C.W_.isElement(e)&&C.ML.isBlock(r,e),at:r.selection});if(t){var[,n]=t,u=C.ML.range(r,n,r.selection.anchor),i=Ar(r,u);C.e6.isCollapsed(i)||C.YR.delete(r,{at:i})}}},r.apply=t=>{var u=[],a=[],i=ze.get(r);if(null!=i&&i.length){var o=i.map((e=>Dt(e,t))).filter(Boolean);ze.set(r,o)}var s=$e.get(r);s&&$e.set(r,gt(r,s,t));var c=qe.get(r);if(null!=c&&c.at){var l=C.E9.isPoint(null==c?void 0:c.at)?vt(r,c.at,t):gt(r,c.at,t);qe.set(r,l?wr(wr({},c),{},{at:l}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":u.push(...xr(r,t.path));break;case"set_selection":var f;null===(f=Le.get(r))||void 0===f||f.unref(),Le.delete(r);break;case"insert_node":case"remove_node":u.push(...xr(r,C.y$.parent(t.path)));break;case"merge_node":var d=C.y$.previous(t.path);u.push(...xr(r,d));break;case"move_node":var h,p=C.y$.common(C.y$.parent(t.path),C.y$.parent(t.newPath));u.push(...xr(r,p)),C.y$.isBefore(t.path,t.newPath)?(u.push(...xr(r,C.y$.parent(t.path))),h=t.newPath):(u.push(...xr(r,C.y$.parent(t.newPath))),h=t.path);var v=C.NB.get(e,C.y$.parent(h)),g=st.findKey(r,v),D=C.ML.pathRef(r,C.y$.parent(h));a.push([D,g])}for(var[m,B]of(n(t),u)){var[y]=C.ML.node(r,m);Pe.set(y,B)}for(var[E,A]of a)if(E.current){var[b]=C.ML.node(r,E.current);Pe.set(b,A)}},r.setFragmentData=e=>{var{selection:n}=r;if(n){var[u,a]=C.e6.edges(n),i=C.ML.void(r,{at:u.path}),o=C.ML.void(r,{at:a.path});if(!C.e6.isCollapsed(n)||i){var s=st.toDOMRange(r,n),c=s.cloneContents(),l=c.childNodes[0];if(c.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(l=e)})),o){var[f]=o,d=s.cloneRange(),h=st.toDOMNode(r,f);d.setEndAfter(h),c=d.cloneContents()}if(i&&(l=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Qe(l)){var p=l.ownerDocument.createElement("span");p.style.whiteSpace="pre",p.appendChild(l),c.appendChild(p),l=p}var v=r.getFragment(),g=JSON.stringify(v),D=window.btoa(encodeURIComponent(g));l.setAttribute("data-slate-fragment",D),e.setData("application/".concat(t),D);var m=c.ownerDocument.createElement("div");return m.appendChild(c),m.setAttribute("hidden","true"),c.ownerDocument.body.appendChild(m),e.setData("text/html",m.innerHTML),e.setData("text/plain",rt(m)),c.ownerDocument.body.removeChild(m),e}}},r.insertData=e=>{r.insertFragmentData(e)||r.insertTextData(e)},r.insertFragmentData=e=>{var n=e.getData("application/".concat(t))||ut(e);if(n){var u=decodeURIComponent(window.atob(n)),a=JSON.parse(u);return r.insertFragment(a),!0}return!1},r.insertTextData=e=>{var t=e.getData("text/plain");if(t){var n=t.split(/\r\n|\r|\n/),u=!1;for(var a of n)u&&C.YR.splitNodes(r,{always:!0}),r.insertText(a),u=!0;return!0}return!1},r.onChange=e=>{(le<18?ae.unstable_batchedUpdates:e=>e())((()=>{var t=Ne.get(r);t&&t(),u(e)}))},r},xr=(e,t)=>{var r=[];for(var[n,u]of C.ML.levels(e,{at:t})){var a=st.findKey(e,n);r.push([u,a])}return r}},43317:(e,t,r)=>{"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[K]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Y}(e)||Array.isArray(e)||!!e[U]||!!(null===(t=e.constructor)||void 0===t?void 0:t[U])||p(e)||v(e))}function s(e,t,r){void 0===r&&(r=!1),0===c(e)?(r?Object.keys:J)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function c(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:v(e)?3:0}function l(e,t){return 2===c(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){return 2===c(e)?e.get(t):e[t]}function d(e,t,r){var n=c(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return z&&e instanceof Map}function v(e){return q&&e instanceof Set}function g(e){return e.o||e.t}function D(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[K];for(var r=J(t),n=0;n<r.length;n++){var u=r[n],a=t[u];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[u]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[u]})}return Object.create(Object.getPrototypeOf(e),t)}function C(e,t){return void 0===t&&(t=!1),B(e)||i(e)||!o(e)||(c(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&s(e,(function(e,t){return C(t,!0)}),!0)),e}function m(){a(2)}function B(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Z[e];return t||a(18,e),t}function E(){return V}function A(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function b(e){w(e),e.p.forEach(x),e.p=null}function w(e){e===V&&(V=e.l)}function F(e){return V={p:[],l:V,h:e,m:!0,_:0}}function x(e){var t=e[K];0===t.i||1===t.i?t.j():t.g=!0}function O(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.O||y("ES5").S(t,e,n),n?(r[K].P&&(b(t),a(4)),o(e)&&(e=k(t,e),t.l||S(t,e)),t.u&&y("Patches").M(r[K].t,e,t.u,t.s)):e=k(t,r,[]),b(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function k(e,t,r){if(B(t))return t;var n=t[K];if(!n)return s(t,(function(u,a){return _(e,n,t,u,a,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return S(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var u=4===n.i||5===n.i?n.o=D(n.k):n.o,a=u,i=!1;3===n.i&&(a=new Set(u),u.clear(),i=!0),s(a,(function(t,a){return _(e,n,u,t,a,r,i)})),S(e,u,!1),r&&e.u&&y("Patches").N(n,r,e.u,e.s)}return n.o}function _(e,t,r,n,u,a,s){if(i(u)){var c=k(e,u,a&&t&&3!==t.i&&!l(t.R,n)?a.concat(n):void 0);if(d(r,n,c),!i(c))return;e.m=!1}else s&&r.add(u);if(o(u)&&!B(u)){if(!e.h.D&&e._<1)return;k(e,u),t&&t.A.l||S(e,u)}}function S(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&C(t,r)}function P(e,t){var r=e[K];return(r?g(r):e)[t]}function M(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function T(e){e.P||(e.P=!0,e.l&&T(e.l))}function R(e){e.o||(e.o=D(e.t))}function j(e,t,r){var n=p(t)?y("MapSet").F(t,r):v(t)?y("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:E(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},u=n,a=G;r&&(u=[n],a=Q);var i=Proxy.revocable(u,a),o=i.revoke,s=i.proxy;return n.k=s,n.j=o,s}(t,r):y("ES5").J(t,r);return(r?r.A:E()).p.push(n),n}function L(e){return i(e)||a(22,e),function e(t){if(!o(t))return t;var r,n=t[K],u=c(t);if(n){if(!n.P&&(n.i<4||!y("ES5").K(n)))return n.t;n.I=!0,r=N(t,u),n.I=!1}else r=N(t,u);return s(r,(function(t,u){n&&f(n.t,t)===u||d(r,t,e(u))})),3===u?new Set(r):r}(e)}function N(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return D(e)}r.d(t,{ML:()=>Le,W_:()=>Oe,NB:()=>Pe,OX:()=>Re,y$:()=>ve,E9:()=>We,e6:()=>Fe,o4:()=>qe,Dr:()=>Ne,xv:()=>Je,YR:()=>Ot,Jh:()=>yn});var I,V,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),z="undefined"!=typeof Map,q="undefined"!=typeof Set,$="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=W?Symbol.for("immer-nothing"):((I={})["immer-nothing"]=!0,I),U=W?Symbol.for("immer-draftable"):"__$immer_draftable",K=W?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Z={},G={get:function(e,t){if(t===K)return e;var r=g(e);if(!l(r,t))return function(e,t,r){var n,u=M(t,r);return u?"value"in u?u.value:null===(n=u.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!o(n)?n:n===P(e.t,t)?(R(e),e.o[t]=j(e.A.h,n,e)):n},has:function(e,t){return t in g(e)},ownKeys:function(e){return Reflect.ownKeys(g(e))},set:function(e,t,r){var n=M(g(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var u=P(g(e),t),a=null==u?void 0:u[K];if(a&&a.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(h(r,u)&&(void 0!==r||l(e.t,t)))return!0;R(e),T(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.R[t]=!1,R(e),T(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=g(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},Q={};s(G,(function(e,t){Q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Q.deleteProperty=function(e,t){return Q.set.call(this,e,t,void 0)},Q.set=function(e,t,r){return G.set.call(this,e[0],t,r,e[0])};var ee=function(){function e(e){var t=this;this.O=$,this.D=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var u=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=u);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var s;if("function"!=typeof r&&a(6),void 0!==n&&"function"!=typeof n&&a(7),o(e)){var c=F(t),l=j(t,e,void 0),f=!0;try{s=r(l),f=!1}finally{f?b(c):w(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return A(c,n),O(e,c)}),(function(e){throw b(c),e})):(A(c,n),O(s,c))}if(!e||"object"!=typeof e){if(void 0===(s=r(e))&&(s=e),s===H&&(s=void 0),t.D&&C(s,!0),n){var d=[],h=[];y("Patches").M(e,s,d,h),n(d,h)}return s}a(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,u=Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(u))}))};var n,u,a=t.produce(e,r,(function(e,t){n=e,u=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,n,u]})):[a,n,u]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||a(8),i(e)&&(e=L(e));var t=F(this),r=j(this,e,void 0);return r[K].C=!0,w(t),r},t.finishDraft=function(e,t){var r=(e&&e[K]).A;return A(r,t),O(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!$&&a(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var u=y("Patches").$;return i(e)?u(e,t):this.produce(e,(function(e){return u(e,t)}))},e}(),te=new ee,re=te.produce,ne=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te)),ue=te.finishDraft.bind(te);var ae={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var u=ve.transform(r,t,{affinity:n});e.current=u,null==u&&e.unref()}}},ie={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var u=We.transform(r,t,{affinity:n});e.current=u,null==u&&e.unref()}}},oe={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var u=Fe.transform(r,t,{affinity:n});e.current=u,null==u&&e.unref()}}},se=new WeakMap,ce=new WeakMap,le=new WeakMap,fe=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,ve={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=ve.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var u=e[n];if(u!==t[n])break;r.push(u)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),u=t.slice(0,r),a=e[r],i=t[r];return ve.equals(n,u)&&a>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),u=t.slice(0,r);return ve.equals(n,u)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),u=t.slice(0,r),a=e[r],i=t[r];return ve.equals(n,u)&&a<i},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===ve.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===ve.compare(e,t),isBefore:(e,t)=>-1===ve.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===ve.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===ve.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===ve.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===ve.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&ve.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],u=0;u<=e.length;u++)n.push(e.slice(0,u));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ve.isAncestor(t,e)&&!ve.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:u="forward"}=r;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:a}=t;(ve.equals(a,n)||ve.endsBefore(a,n)||ve.isAncestor(a,n))&&(n[a.length-1]+=1);break;case"remove_node":var{path:i}=t;if(ve.equals(i,n)||ve.isAncestor(i,n))return null;ve.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:o,position:s}=t;ve.equals(o,n)||ve.endsBefore(o,n)?n[o.length-1]-=1:ve.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=s);break;case"split_node":var{path:c,position:l}=t;if(ve.equals(c,n)){if("forward"===u)n[n.length-1]+=1;else if("backward"!==u)return null}else ve.endsBefore(c,n)?n[c.length-1]+=1:ve.isAncestor(c,n)&&e[c.length]>=l&&(n[c.length-1]+=1,n[c.length]-=l);break;case"move_node":var{path:f,newPath:d}=t;if(ve.equals(f,d))return n;if(ve.isAncestor(f,n)||ve.equals(f,n)){var h=d.slice();return ve.endsBefore(f,d)&&f.length<d.length&&(h[f.length-1]-=1),h.concat(n.slice(f.length))}ve.isSibling(f,d)&&(ve.isAncestor(d,n)||ve.equals(d,n))?ve.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:ve.endsBefore(d,n)||ve.equals(d,n)||ve.isAncestor(d,n)?(ve.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):ve.endsBefore(f,n)&&(ve.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}return n}};function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me={transform(e,t){e.children=ne(e.children);var r=e.selection&&ne(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:u}=r,a=Pe.parent(e,n),i=n[n.length-1];if(i>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(i,0,u),t)for(var[o,s]of Fe.points(t))t[s]=We.transform(o,r);break;case"insert_text":var{path:c,offset:l,text:f}=r;if(0===f.length)break;var d=Pe.leaf(e,c),h=d.text.slice(0,l),p=d.text.slice(l);if(d.text=h+f+p,t)for(var[v,g]of Fe.points(t))t[g]=We.transform(v,r);break;case"merge_node":var{path:D}=r,C=Pe.get(e,D),m=ve.previous(D),B=Pe.get(e,m),y=Pe.parent(e,D),E=D[D.length-1];if(Je.isText(C)&&Je.isText(B))B.text+=C.text;else{if(Je.isText(C)||Je.isText(B))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(D,"] to nodes of different interfaces: ").concat(qe.stringify(C)," ").concat(qe.stringify(B)));B.children.push(...C.children)}if(y.children.splice(E,1),t)for(var[A,b]of Fe.points(t))t[b]=We.transform(A,r);break;case"move_node":var{path:w,newPath:F}=r;if(ve.isAncestor(w,F))throw new Error("Cannot move a path [".concat(w,"] to new path [").concat(F,"] because the destination is inside itself."));var x=Pe.get(e,w),O=Pe.parent(e,w),k=w[w.length-1];O.children.splice(k,1);var _=ve.transform(w,r),S=Pe.get(e,ve.parent(_)),P=_[_.length-1];if(S.children.splice(P,0,x),t)for(var[M,T]of Fe.points(t))t[T]=We.transform(M,r);break;case"remove_node":var{path:R}=r,j=R[R.length-1];if(Pe.parent(e,R).children.splice(j,1),t)for(var[L,N]of Fe.points(t)){var I=We.transform(L,r);if(null!=t&&null!=I)t[N]=I;else{var V=void 0,W=void 0;for(var[z,q]of Pe.texts(e)){if(-1!==ve.compare(q,R)){W=[z,q];break}V=[z,q]}var $=!1;V&&W&&($=ve.equals(W[1],R)?!ve.hasPrevious(W[1]):ve.common(V[1],R).length<ve.common(W[1],R).length),V&&!$?(L.path=V[1],L.offset=V[0].text.length):W?(L.path=W[1],L.offset=0):t=null}}break;case"remove_text":var{path:H,offset:U,text:K}=r;if(0===K.length)break;var Y=Pe.leaf(e,H),J=Y.text.slice(0,U),X=Y.text.slice(U+K.length);if(Y.text=J+X,t)for(var[Z,G]of Fe.points(t))t[G]=We.transform(Z,r);break;case"set_node":var{path:Q,properties:ee,newProperties:te}=r;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var re=Pe.get(e,Q);for(var ne in te){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var ue=te[ne];null==ue?delete re[ne]:re[ne]=ue}for(var ae in ee)te.hasOwnProperty(ae)||delete re[ae];break;case"set_selection":var{newProperties:ie}=r;if(null==ie)t=ie;else{if(null==t){if(!Fe.isRange(ie))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(qe.stringify(ie)," when there is no current selection."));t=Ce({},ie)}for(var oe in ie){var se=ie[oe];if(null==se){if("anchor"===oe||"focus"===oe)throw new Error('Cannot remove the "'.concat(oe,'" selection property'));delete t[oe]}else t[oe]=se}}break;case"split_node":var{path:ce,position:le,properties:fe}=r;if(0===ce.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ce,"] because the root node cannot be split."));var de,he=Pe.get(e,ce),pe=Pe.parent(e,ce),ge=ce[ce.length-1];if(Je.isText(he)){var De=he.text.slice(0,le),me=he.text.slice(le);he.text=De,de=Ce(Ce({},fe),{},{text:me})}else{var Be=he.children.slice(0,le),ye=he.children.slice(le);he.children=Be,de=Ce(Ce({},fe),{},{children:ye})}if(pe.children.splice(ge+1,0,de),t)for(var[Ee,Ae]of Fe.points(t))t[Ae]=We.transform(Ee,r)}return t})(e,r,t)}finally{e.children=ue(e.children),e.selection=r?i(r)?ue(r):r:null}}},Be={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},ye={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},Ee=(e,t)=>{for(var r in e){var n=e[r],a=t[r];if(u(n)&&u(a)){if(!Ee(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==a[i])return!1}else if(n!==a)return!1}for(var o in t)if(void 0===e[o]&&void 0!==t[o])return!1;return!0};function Ae(e,t){if(null==e)return{};var r,n,u=function(e,t){if(null==e)return{};var r,n,u={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(u[r]=e[r]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}var be=["anchor","focus"];function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Fe={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:u}=e;return Fe.isBackward(e)===r?[n,u]:[u,n]},end(e){var[,t]=Fe.edges(e);return t},equals:(e,t)=>We.equals(e.anchor,t.anchor)&&We.equals(e.focus,t.focus),includes(e,t){if(Fe.isRange(t)){if(Fe.includes(e,t.anchor)||Fe.includes(e,t.focus))return!0;var[r,n]=Fe.edges(e),[u,a]=Fe.edges(t);return We.isBefore(r,u)&&We.isAfter(n,a)}var[i,o]=Fe.edges(e),s=!1,c=!1;return We.isPoint(t)?(s=We.compare(t,i)>=0,c=We.compare(t,o)<=0):(s=ve.compare(t,i.path)>=0,c=ve.compare(t,o.path)<=0),s&&c},intersection(e,t){var r=Ae(e,be),[n,u]=Fe.edges(e),[a,i]=Fe.edges(t),o=We.isBefore(n,a)?a:n,s=We.isBefore(u,i)?u:i;return We.isBefore(s,o)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:o,focus:s},r)},isBackward(e){var{anchor:t,focus:r}=e;return We.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return We.equals(t,r)},isExpanded:e=>!Fe.isCollapsed(e),isForward:e=>!Fe.isBackward(e),isRange:e=>u(e)&&We.isPoint(e.anchor)&&We.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Fe.edges(e);return t},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return re(e,(e=>{if(null===e)return null;var n,u,{affinity:a="inward"}=r;if("inward"===a){var i=Fe.isCollapsed(e);Fe.isForward(e)?(n="forward",u=i?n:"backward"):(n="backward",u=i?n:"forward")}else"outward"===a?Fe.isForward(e)?(n="backward",u="forward"):(n="forward",u="backward"):(n=a,u=a);var o=We.transform(e.anchor,t,{affinity:n}),s=We.transform(e.focus,t,{affinity:u});if(!o||!s)return null;e.anchor=o,e.focus=s}))}},xe=e=>u(e)&&Pe.isNodeList(e.children)&&!Le.isEditor(e),Oe={isAncestor:e=>u(e)&&Pe.isNodeList(e.children),isElement:xe,isElementList:e=>Array.isArray(e)&&e.every((e=>Oe.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return xe(e)&&e[r]===t},matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},ke=["children"],_e=["text"],Se=new WeakMap,Pe={ancestor(e,t){var r=Pe.get(e,t);if(Je.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(qe.stringify(r)));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of ve.ancestors(t,r)){var u=[Pe.ancestor(e,n),n];yield u}},child(e,t){if(Je.isText(e))throw new Error("Cannot get the child of a text node: ".concat(qe.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(qe.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,u=Pe.ancestor(e,t),{children:a}=u,i=n?a.length-1:0;n?i>=0:i<a.length;){var o=Pe.child(u,i),s=t.concat(i);yield[o,s],i=n?i-1:i+1}},common(e,t,r){var n=ve.common(t,r);return[Pe.get(e,n),n]},descendant(e,t){var r=Pe.get(e,t);if(Le.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(qe.stringify(r)));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Pe.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Pe.nodes(e,t))Oe.isElement(r)&&(yield[r,n])},extractProps:e=>Oe.isAncestor(e)?Ae(e,ke):Ae(e,_e),first(e,t){for(var r=t.slice(),n=Pe.get(e,r);n&&!Je.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(Je.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(qe.stringify(e)));var r=re({children:e.children},(e=>{var[r,n]=Fe.edges(t),u=Pe.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!Fe.includes(t,r)}});for(var[,a]of u){if(!Fe.includes(t,a)){var i=Pe.parent(e,a),o=a[a.length-1];i.children.splice(o,1)}if(ve.equals(a,n.path)){var s=Pe.leaf(e,a);s.text=s.text.slice(0,n.offset)}if(ve.equals(a,r.path)){var c=Pe.leaf(e,a);c.text=c.text.slice(r.offset)}}Le.isEditor(e)&&(e.selection=null)}));return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var u=t[n];if(Je.isText(r)||!r.children[u])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(qe.stringify(e)));r=r.children[u]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var u=t[n];if(Je.isText(r)||!r.children[u])return!1;r=r.children[u]}return!0},isNode:e=>Je.isText(e)||Oe.isElement(e)||Le.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=Se.get(e);if(void 0!==t)return t;var r=e.every((e=>Pe.isNode(e)));return Se.set(e,r),r},last(e,t){for(var r=t.slice(),n=Pe.get(e,r);n&&!Je.isText(n)&&0!==n.children.length;){var u=n.children.length-1;n=n.children[u],r.push(u)}return[n,r]},leaf(e,t){var r=Pe.get(e,t);if(!Je.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(qe.stringify(r)));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of ve.levels(t,r)){var u=Pe.get(e,n);yield[u,n]}},matches:(e,t)=>Oe.isElement(e)&&Oe.isElementProps(t)&&Oe.matches(e,t)||Je.isText(e)&&Je.isTextProps(t)&&Je.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:u=[],to:a}=t,i=new Set,o=[],s=e;!a||!(n?ve.isBefore(o,a):ve.isAfter(o,a));)if(i.has(s)||(yield[s,o]),i.has(s)||Je.isText(s)||0===s.children.length||null!=r&&!1!==r([s,o])){if(0===o.length)break;if(!n){var c=ve.next(o);if(Pe.has(e,c)){o=c,s=Pe.get(e,o);continue}}if(n&&0!==o[o.length-1])o=ve.previous(o),s=Pe.get(e,o);else o=ve.parent(o),s=Pe.get(e,o),i.add(s)}else{i.add(s);var l=n?s.children.length-1:0;ve.isAncestor(o,u)&&(l=u[o.length]),o=o.concat(l),s=Pe.get(e,o)}},parent(e,t){var r=ve.parent(t),n=Pe.get(e,r);if(Je.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>Je.isText(e)?e.text:e.children.map(Pe.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Pe.nodes(e,t))Je.isText(r)&&(yield[r,n])}};function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re={isNodeOperation:e=>Re.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!u(e))return!1;switch(e.type){case"insert_node":case"remove_node":return ve.isPath(e.path)&&Pe.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&ve.isPath(e.path);case"merge_node":return"number"==typeof e.position&&ve.isPath(e.path)&&u(e.properties);case"move_node":return ve.isPath(e.path)&&ve.isPath(e.newPath);case"set_node":return ve.isPath(e.path)&&u(e.properties)&&u(e.newProperties);case"set_selection":return null===e.properties&&Fe.isRange(e.newProperties)||null===e.newProperties&&Fe.isRange(e.properties)||u(e.properties)&&u(e.newProperties);case"split_node":return ve.isPath(e.path)&&"number"==typeof e.position&&u(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>Re.isOperation(e))),isSelectionOperation:e=>Re.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>Re.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Te(Te({},e),{},{type:"remove_node"});case"insert_text":return Te(Te({},e),{},{type:"remove_text"});case"merge_node":return Te(Te({},e),{},{type:"split_node",path:ve.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(ve.equals(t,r))return e;if(ve.isSibling(r,t))return Te(Te({},e),{},{path:t,newPath:r});var n=ve.transform(r,e),u=ve.transform(ve.next(r),e);return Te(Te({},e),{},{path:n,newPath:u});case"remove_node":return Te(Te({},e),{},{type:"insert_node"});case"remove_text":return Te(Te({},e),{},{type:"insert_text"});case"set_node":var{properties:a,newProperties:i}=e;return Te(Te({},e),{},{properties:i,newProperties:a});case"set_selection":var{properties:o,newProperties:s}=e;return Te(Te({},e),{},null==o?{properties:s,newProperties:null}:null==s?{properties:null,newProperties:o}:{properties:s,newProperties:o});case"split_node":return Te(Te({},e),{},{type:"merge_node",path:ve.next(e.path)})}}},je=new WeakMap,Le={above:(e,t)=>e.above(t),addMark(e,t,r){e.addMark(t,r)},after:(e,t,r)=>e.after(t,r),before:(e,t,r)=>e.before(t,r),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,r)=>e.isEdge(t,r),isEditor:e=>(e=>{var t=je.get(e);if(void 0!==t)return t;if(!u(e))return!1;var r="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||u(e.marks))&&(null===e.selection||Fe.isRange(e.selection))&&Pe.isNodeList(e.children)&&Re.isOperationList(e.operations);return je.set(e,r),r})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,r)=>e.isEnd(t,r),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,r)=>e.isStart(t,r),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,r)=>e.leaf(t,r),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,r)=>e.node(t,r),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,r)=>e.parent(t,r),path:(e,t,r)=>e.path(t,r),pathRef:(e,t,r)=>e.pathRef(t,r),pathRefs:e=>e.pathRefs(),point:(e,t,r)=>e.point(t,r),pointRef:(e,t,r)=>e.pointRef(t,r),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,r)=>e.range(t,r),rangeRef:(e,t,r)=>e.rangeRef(t,r),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,r)=>e.string(t,r),unhangRange:(e,t,r)=>e.unhangRange(t,r),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)}},Ne={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(ve.isPath)};function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We={compare(e,t){var r=ve.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===We.compare(e,t),isBefore:(e,t)=>-1===We.compare(e,t),equals:(e,t)=>e.offset===t.offset&&ve.equals(e.path,t.path),isPoint:e=>u(e)&&"number"==typeof e.offset&&ve.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return re(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=r,{path:u,offset:a}=e;switch(t.type){case"insert_node":case"move_node":e.path=ve.transform(u,t,r);break;case"insert_text":ve.equals(t.path,u)&&(t.offset<a||t.offset===a&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":ve.equals(t.path,u)&&(e.offset+=t.position),e.path=ve.transform(u,t,r);break;case"remove_text":ve.equals(t.path,u)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(ve.equals(t.path,u)||ve.isAncestor(t.path,u))return null;e.path=ve.transform(u,t,r);break;case"split_node":if(ve.equals(t.path,u)){if(t.position===a&&null==n)return null;(t.position<a||t.position===a&&"forward"===n)&&(e.offset-=t.position,e.path=ve.transform(u,t,Ve(Ve({},r),{},{affinity:"forward"})))}else e.path=ve.transform(u,t,r)}}))}},ze=void 0,qe={setScrubber(e){ze=e},stringify:e=>JSON.stringify(e,ze)},$e=["text"],He=["anchor","focus"];function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ye,Je={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function u(e){return Ae(e,$e)}return Ee(n?u(e):e,n?u(t):t)},isText:e=>u(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>Je.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[Ke({},e)];for(var n of t){var u=Ae(n,He),[a,i]=Fe.edges(n),o=[],s=0,c=a.offset,l=i.offset;for(var f of r){var{length:d}=f.text,h=s;if(s+=d,c<=h&&s<=l)Object.assign(f,u),o.push(f);else if(c!==l&&(c===s||l===h)||c>s||l<h||l===h&&0!==h)o.push(f);else{var p=f,v=void 0,g=void 0;if(l<s){var D=l-h;g=Ke(Ke({},p),{},{text:p.text.slice(D)}),p=Ke(Ke({},p),{},{text:p.text.slice(0,D)})}if(c>h){var C=c-h;v=Ke(Ke({},p),{},{text:p.text.slice(0,C)}),p=Ke(Ke({},p),{},{text:p.text.slice(C)})}Object.assign(p,u),v&&o.push(v),o.push(p),g&&o.push(g)}}r=o}return r}},Xe=e=>e.selection?e.selection:e.children.length>0?Le.end(e,[]):[0],Ze=(e,t)=>{var[r]=Le.node(e,t);return e=>e===r},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!t,n=t?at(e):e,u=Ye.None,a=Ye.None,i=0,o=null;for(var s of n){var c=s.codePointAt(0);if(!c)break;var l=Dt(s,c);if([u,a]=r?[a,l]:[l,u],Ct(u,Ye.ZWJ)&&Ct(a,Ye.ExtPict)&&!Et(r?e.substring(0,i):e.substring(0,e.length-i)))break;if(Ct(u,Ye.RI)&&Ct(a,Ye.RI)&&!(o=null!==o?!o:!!r||bt(e.substring(0,e.length-i))))break;if(u!==Ye.None&&a!==Ye.None&&Bt(u,a))break;i+=s.length}return i||1},Qe=/\s/,et=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,tt=/['\u2018\u2019]/,rt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,n=!1;e.length>0;){var u=Ge(e,t),[a,i]=nt(e,u,t);if(ut(a,i,t))n=!0,r+=u;else{if(n)break;r+=u}e=i}return r},nt=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},ut=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qe.test(t))return!1;if(tt.test(t)){var u=Ge(r,n),[a,i]=nt(r,u,n);if(e(a,i,n))return!0}return!et.test(t)},at=function*(e){for(var t=e.length-1,r=0;r<e.length;r++){var n=e.charAt(t-r);if(ot(n.charCodeAt(0))){var u=e.charAt(t-r-1);if(it(u.charCodeAt(0))){yield u+n,r++;continue}}yield n}},it=e=>e>=55296&&e<=56319,ot=e=>e>=56320&&e<=57343;!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(Ye||(Ye={}));var st=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ct=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,lt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ft=/^[\u1100-\u115F\uA960-\uA97C]$/,dt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ht=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,pt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,vt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,gt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Dt=(e,t)=>{var r=Ye.Any;return-1!==e.search(st)&&(r|=Ye.Extend),8205===t&&(r|=Ye.ZWJ),t>=127462&&t<=127487&&(r|=Ye.RI),-1!==e.search(ct)&&(r|=Ye.Prepend),-1!==e.search(lt)&&(r|=Ye.SpacingMark),-1!==e.search(ft)&&(r|=Ye.L),-1!==e.search(dt)&&(r|=Ye.V),-1!==e.search(ht)&&(r|=Ye.T),-1!==e.search(pt)&&(r|=Ye.LV),-1!==e.search(vt)&&(r|=Ye.LVT),-1!==e.search(gt)&&(r|=Ye.ExtPict),r};function Ct(e,t){return 0!=(e&t)}var mt=[[Ye.L,Ye.L|Ye.V|Ye.LV|Ye.LVT],[Ye.LV|Ye.V,Ye.V|Ye.T],[Ye.LVT|Ye.T,Ye.T],[Ye.Any,Ye.Extend|Ye.ZWJ],[Ye.Any,Ye.SpacingMark],[Ye.Prepend,Ye.Any],[Ye.ZWJ,Ye.ExtPict],[Ye.RI,Ye.RI]];function Bt(e,t){return-1===mt.findIndex((r=>Ct(e,r[0])&&Ct(t,r[1])))}var yt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Et=e=>-1!==e.search(yt),At=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,bt=e=>{var t=e.match(At);return null!==t&&t[0].length/2%2==1},wt={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Le.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:u=Xe(e)}=r;if(ve.isPath(u)&&(u=Le.range(e,u)),Fe.isRange(u))if(Fe.isCollapsed(u))u=u.anchor;else{var a=Fe.end(u);if(!n&&Le.void(e,{at:a}))return;var i=Fe.start(u),o=Le.pointRef(e,i),s=Le.pointRef(e,a);Ot.delete(e,{at:u,voids:n});var c=o.unref(),l=s.unref();u=c||l,Ot.setSelection(e,{anchor:u,focus:u})}if(!(!n&&Le.void(e,{at:u})||Le.elementReadOnly(e,{at:u}))){var{path:f,offset:d}=u;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}}))}};function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ot=xt(xt(xt(xt({},me),Be),ye),wt),kt=(e,t)=>{for(var r of Le.pathRefs(e))ae.transform(r,t);for(var n of Le.pointRefs(e))ie.transform(n,t);for(var u of Le.rangeRefs(e))oe.transform(u,t);var a,i,o=se.get(e)||[],s=ce.get(e)||new Set,c=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),a.push(e))}};if(ve.operationCanTransformPath(t))for(var l of(a=[],i=new Set,o)){c(ve.transform(l,t))}else a=o,i=s;var f=e.getDirtyPaths(t);for(var d of f)c(d);se.set(e,a),ce.set(e,i),Ot.transform(e,t),e.operations.push(t),Le.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),le.get(e)||(le.set(e,!0),Promise.resolve().then((()=>{le.set(e,!1),e.onChange({operation:t}),e.operations=[]})))},_t=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":var{path:r}=t;return ve.levels(r);case"insert_node":var{node:n,path:u}=t,a=ve.levels(u),i=Je.isText(n)?[]:Array.from(Pe.nodes(n),(e=>{var[,t]=e;return u.concat(t)}));return[...a,...i];case"merge_node":var{path:o}=t;return[...ve.ancestors(o),ve.previous(o)];case"move_node":var{path:s,newPath:c}=t;if(ve.equals(s,c))return[];var l=[],f=[];for(var d of ve.ancestors(s)){var h=ve.transform(d,t);l.push(h)}for(var p of ve.ancestors(c)){var v=ve.transform(p,t);f.push(v)}var g=f[f.length-1],D=c[c.length-1],C=g.concat(D);return[...l,...f,C];case"remove_node":var{path:m}=t;return[...ve.ancestors(m)];case"split_node":var{path:B}=t;return[...ve.levels(B),ve.next(B)];default:return[]}},St=e=>{var{selection:t}=e;return t?Pe.fragment(e,t):[]},Pt=(e,t)=>{var[r,n]=t;if(!Je.isText(r))if(Oe.isElement(r)&&0===r.children.length){Ot.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var u=!Le.isEditor(r)&&(Oe.isElement(r)&&(e.isInline(r)||0===r.children.length||Je.isText(r.children[0])||e.isInline(r.children[0]))),a=0,i=0;i<r.children.length;i++,a++){var o=Pe.get(e,n);if(!Je.isText(o)){var s=o.children[a],c=o.children[a-1],l=i===r.children.length-1;if((Je.isText(s)||Oe.isElement(s)&&e.isInline(s))!==u)Ot.removeNodes(e,{at:n.concat(a),voids:!0}),a--;else if(Oe.isElement(s)){if(e.isInline(s))if(null!=c&&Je.isText(c)){if(l){Ot.insertNodes(e,{text:""},{at:n.concat(a+1),voids:!0}),a++}}else{Ot.insertNodes(e,{text:""},{at:n.concat(a),voids:!0}),a++}}else null!=c&&Je.isText(c)&&(Je.equals(s,c,{loose:!0})?(Ot.mergeNodes(e,{at:n.concat(a),voids:!0}),a--):""===c.text?(Ot.removeNodes(e,{at:n.concat(a-1),voids:!0}),a--):""===s.text&&(Ot.removeNodes(e,{at:n.concat(a),voids:!0}),a--))}}},Mt=(e,t)=>{var{iteration:r,initialDirtyPathsLength:n}=t,u=42*n;if(r>u)throw new Error("Could not completely normalize the editor after ".concat(u," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:u=e.selection,match:a}=t;if(u){var i=Le.path(e,u),o="lowest"===n;for(var[s,c]of Le.levels(e,{at:i,voids:r,match:a,reverse:o}))if(!Je.isText(s))if(Fe.isRange(u)){if(ve.isAncestor(c,u.anchor.path)&&ve.isAncestor(c,u.focus.path))return[s,c]}else if(!ve.equals(i,c))return[s,c]}};function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lt=(e,t,r)=>{var{selection:n}=e;if(n){var u=(t,r)=>{if(!Je.isText(t))return!1;var[n,u]=Le.parent(e,r);return!e.isVoid(n)||e.markableVoid(n)},a=Fe.isExpanded(n),i=!1;if(!a){var[o,s]=Le.node(e,n);if(o&&u(o,s)){var[c]=Le.parent(e,s);i=c&&e.markableVoid(c)}}if(a||i)Ot.setNodes(e,{[t]:r},{match:u,split:!0,voids:!0});else{var l=jt(jt({},Le.marks(e)||{}),{},{[t]:r});e.marks=l,le.get(e)||e.onChange()}}};function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vt=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Le.point(e,t,{edge:"end"}),a=Le.end(e,[]),i={anchor:u,focus:a},{distance:o=1}=n,s=0;for(var c of Le.positions(e,It(It({},n),{},{at:i}))){if(s>o)break;0!==s&&(r=c),s++}return r};function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qt=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Le.start(e,[]),a=Le.point(e,t,{edge:"start"}),i={anchor:u,focus:a},{distance:o=1}=n,s=0;for(var c of Le.positions(e,zt(zt({},n),{},{at:i,reverse:!0}))){if(s>o)break;0!==s&&(r=c),s++}return r},$t=(e,t)=>{var{selection:r}=e;r&&Fe.isCollapsed(r)&&Ot.delete(e,{unit:t,reverse:!0})},Ht=(e,t)=>{var{selection:r}=e;r&&Fe.isCollapsed(r)&&Ot.delete(e,{unit:t})},Ut=function(e){var{direction:t="forward"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e;r&&Fe.isExpanded(r)&&Ot.delete(e,{reverse:"backward"===t})},Kt=(e,t)=>[Le.start(e,t),Le.end(e,t)];function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Le.above(e,Jt(Jt({},t),{},{match:t=>Oe.isElement(t)&&Le.isElementReadOnly(e,t)}))},Zt=(e,t)=>Le.point(e,t,{edge:"end"}),Gt=(e,t)=>{var r=Le.path(e,t,{edge:"start"});return Le.node(e,r)},Qt=(e,t)=>{var r=Le.range(e,t);return Pe.fragment(e,r)};function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Le.above(e,tr(tr({},t),{},{match:t=>Oe.isElement(t)&&Le.isVoid(e,t)}))},nr=(e,t)=>t.children.some((t=>Oe.isElement(t)&&Le.isBlock(e,t))),ur=(e,t)=>t.children.some((t=>Je.isText(t)||Le.isInline(e,t))),ar=(e,t)=>Pe.has(e,t),ir=(e,t)=>t.children.every((e=>Je.isText(e))),or=e=>{Ot.splitNodes(e,{always:!0})},sr=(e,t,r)=>{Ot.insertNodes(e,t,r)},cr=e=>{Ot.splitNodes(e,{always:!0})};function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n,marks:u}=e;if(n){if(u){var a=fr({text:t},u);Ot.insertNodes(e,a,{at:r.at,voids:r.voids})}else Ot.insertText(e,t,r);e.marks=null}},hr=(e,t)=>!e.isInline(t),pr=(e,t,r)=>Le.isStart(e,t,r)||Le.isEnd(e,t,r),vr=(e,t)=>{var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&Je.isText(n)&&""===n.text&&!e.isVoid(t)},gr=(e,t,r)=>{var n=Le.end(e,r);return We.equals(t,n)},Dr=e=>{var t=fe.get(e);return void 0===t||t},Cr=(e,t,r)=>{if(0!==t.offset)return!1;var n=Le.start(e,r);return We.equals(t,n)},mr=(e,t)=>{var r=Le.path(e,t,{edge:"end"});return Le.node(e,r)},Br=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Le.path(e,t,r),u=Pe.leaf(e,n);return[u,n]};function*yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:u=!1}=t,{match:a}=t;if(null==a&&(a=()=>!0),r){var i=[],o=Le.path(e,r);for(var[s,c]of Pe.levels(e,o))if(a(s,c)&&(i.push([s,c]),!u&&Oe.isElement(s)&&Le.isVoid(e,s)))break;n&&i.reverse(),yield*i}}var Er=["text"],Ar=["text"],br=function(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(Fe.isExpanded(r)){var[n]=Le.nodes(e,{match:Je.isText});if(n){var[u]=n;return Ae(u,Er)}return{}}var{anchor:a}=r,{path:i}=a,[o]=Le.leaf(e,i);if(0===a.offset){var s=Le.previous(e,{at:i,match:Je.isText}),c=Le.above(e,{match:t=>Oe.isElement(t)&&Le.isVoid(e,t)&&e.markableVoid(t)});if(!c){var l=Le.above(e,{match:t=>Oe.isElement(t)&&Le.isBlock(e,t)});if(s&&l){var[f,d]=s,[,h]=l;ve.isAncestor(h,d)&&(o=f)}}}return Ae(o,Ar)},wr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:u,at:a=e.selection}=t;if(a){var i=Le.after(e,a,{voids:n});if(i){var[,o]=Le.last(e,[]),s=[i.path,o];if(ve.isPath(a)&&0===a.length)throw new Error("Cannot get the next node from the root node!");if(null==u)if(ve.isPath(a)){var[c]=Le.parent(e,a);u=e=>c.children.includes(e)}else u=()=>!0;var[l]=Le.nodes(e,{at:s,match:u,mode:r,voids:n});return l}}},Fr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Le.path(e,t,r),u=Pe.get(e,n);return[u,n]};function*xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:u=!1,reverse:a=!1,voids:i=!1,ignoreNonSelectable:o=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var c,l;if(Ne.isSpan(r))c=r[0],l=r[1];else{var f=Le.path(e,r,{edge:"start"}),d=Le.path(e,r,{edge:"end"});c=a?d:f,l=a?f:d}var h,p=Pe.nodes(e,{reverse:a,from:c,to:l,pass:t=>{var[r]=t;return!!Oe.isElement(r)&&(!(i||!Le.isVoid(e,r)&&!Le.isElementReadOnly(e,r))||!(!o||Le.isSelectable(e,r)))}}),v=[];for(var[g,D]of p)if(!o||!Oe.isElement(g)||Le.isSelectable(e,g)){var C=h&&0===ve.compare(D,h[1]);if("highest"!==n||!C)if(s(g,D))if("lowest"===n&&C)h=[g,D];else{var m="lowest"===n?h:[g,D];m&&(u?v.push(m):yield m),h=[g,D]}else if(u&&!C&&Je.isText(g))return}"lowest"===n&&h&&(u?v.push(h):yield h),u&&(yield*v)}}var Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1,operation:n}=t,u=e=>se.get(e)||[],a=e=>ce.get(e)||new Set,i=e=>{var t=u(e).pop(),r=t.join(",");return a(e).delete(r),t};if(Le.isNormalizing(e)){if(r){var o=Array.from(Pe.nodes(e),(e=>{var[,t]=e;return t})),s=new Set(o.map((e=>e.join(","))));se.set(e,o),ce.set(e,s)}0!==u(e).length&&Le.withoutNormalizing(e,(()=>{for(var t of u(e))if(Pe.has(e,t)){var r=Le.node(e,t),[a,o]=r;Oe.isElement(a)&&0===a.children.length&&e.normalizeNode(r,{operation:n})}for(var s=u(e),c=s.length,l=0;0!==s.length;){if(!e.shouldNormalize({dirtyPaths:s,iteration:l,initialDirtyPathsLength:c,operation:n}))return;var f=i(e);if(Pe.has(e,f)){var d=Le.node(e,f);e.normalizeNode(d,{operation:n})}l++,s=u(e)}}))}},kr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Le.path(e,t,r),u=ve.parent(n),a=Le.node(e,u);return a},_r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,u={current:t,affinity:n,unref(){var{current:t}=u;return Le.pathRefs(e).delete(u),u.current=null,t}},a=Le.pathRefs(e);return a.add(u),u},Sr=e=>{var t=de.get(e);return t||(t=new Set,de.set(e,t)),t},Pr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:u}=r;if(ve.isPath(t))if("start"===u){var[,a]=Pe.first(e,t);t=a}else if("end"===u){var[,i]=Pe.last(e,t);t=i}return Fe.isRange(t)&&(t="start"===u?Fe.start(t):"end"===u?Fe.end(t):ve.common(t.anchor.path,t.focus.path)),We.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},Mr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,u={current:t,affinity:n,unref(){var{current:t}=u;return Le.pointRefs(e).delete(u),u.current=null,t}},a=Le.pointRefs(e);return a.add(u),u},Tr=e=>{var t=he.get(e);return t||(t=new Set,he.set(e,t)),t},Rr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(ve.isPath(t)){var u;if("end"===n){var[,a]=Pe.last(e,t);u=a}else{var[,i]=Pe.first(e,t);u=i}var o=Pe.get(e,u);if(!Je.isText(o))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:u,offset:"end"===n?o.text.length:0}}if(Fe.isRange(t)){var[s,c]=Fe.edges(t);return"start"===n?s:c}return t};function*jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:u=!1,voids:a=!1,ignoreNonSelectable:i=!1}=t;if(r){var o=Le.range(e,r),[s,c]=Fe.edges(o),l=u?c:s,f=!1,d="",h=0,p=0,v=0;for(var[g,D]of Le.nodes(e,{at:r,reverse:u,voids:a,ignoreNonSelectable:i})){if(Oe.isElement(g)){if(!a&&(e.isVoid(g)||e.isElementReadOnly(g))){yield Le.start(e,D);continue}if(e.isInline(g))continue;if(Le.hasInlines(e,g)){var C=ve.isAncestor(D,c.path)?c:Le.end(e,D),m=ve.isAncestor(D,s.path)?s:Le.start(e,D);d=Le.string(e,{anchor:m,focus:C},{voids:a}),f=!0}}if(Je.isText(g)){var B=ve.equals(D,l.path);for(B?(p=u?l.offset:g.text.length-l.offset,v=l.offset):(p=g.text.length,v=u?p:0),(B||f||"offset"===n)&&(yield{path:D,offset:v},f=!1);;){if(0===h){if(""===d)break;h=y(d,n,u),d=nt(d,h,u)[1]}if(v=u?v-h:v+h,(p-=h)<0){h=-p;break}h=0,yield{path:D,offset:v}}}}}function y(e,t,r){return"character"===t?Ge(e,r):"word"===t?rt(e,r):"line"===t||"block"===t?e.length:1}}var Lr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:u,at:a=e.selection}=t;if(a){var i=Le.before(e,a,{voids:n});if(i){var[,o]=Le.first(e,[]),s=[i.path,o];if(ve.isPath(a)&&0===a.length)throw new Error("Cannot get the previous node from the root node!");if(null==u)if(ve.isPath(a)){var[c]=Le.parent(e,a);u=e=>c.children.includes(e)}else u=()=>!0;var[l]=Le.nodes(e,{reverse:!0,at:s,match:u,mode:r,voids:n});return l}}},Nr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,u={current:t,affinity:n,unref(){var{current:t}=u;return Le.rangeRefs(e).delete(u),u.current=null,t}},a=Le.rangeRefs(e);return a.add(u),u},Ir=e=>{var t=pe.get(e);return t||(t=new Set,pe.set(e,t)),t},Vr=(e,t,r)=>Fe.isRange(t)&&!r?t:{anchor:Le.start(e,t),focus:Le.end(e,r||t)};function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var zr=(e,t)=>{var{selection:r}=e;if(r){var n=(t,r)=>{if(!Je.isText(t))return!1;var[n,u]=Le.parent(e,r);return!e.isVoid(n)||e.markableVoid(n)},u=Fe.isExpanded(r),a=!1;if(!u){var[i,o]=Le.node(e,r);if(i&&n(i,o)){var[s]=Le.parent(e,o);a=s&&e.markableVoid(s)}}if(u||a)Ot.unsetNodes(e,t,{match:n,split:!0,voids:!0});else{var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Le.marks(e)||{});delete c[t],e.marks=c,le.get(e)||e.onChange()}}},qr=(e,t)=>{fe.set(e,t)},$r=(e,t)=>Le.point(e,t,{edge:"start"}),Hr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,u=Le.range(e,t),[a,i]=Fe.edges(u),o="";for(var[s,c]of Le.nodes(e,{at:u,match:Je.isText,voids:n})){var l=s.text;ve.equals(c,i.path)&&(l=l.slice(0,i.offset)),ve.equals(c,a.path)&&(l=l.slice(a.offset)),o+=l}return o},Ur=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[u,a]=Fe.edges(t);if(0!==u.offset||0!==a.offset||Fe.isCollapsed(t)||ve.hasPrevious(a.path))return t;var i=Le.above(e,{at:a,match:t=>Oe.isElement(t)&&Le.isBlock(e,t),voids:n}),o=i?i[1]:[],s=Le.start(e,u),c={anchor:s,focus:a},l=!0;for(var[f,d]of Le.nodes(e,{at:c,match:Je.isText,reverse:!0,voids:n}))if(l)l=!1;else if(""!==f.text||ve.isBefore(d,o)){a={path:d,offset:f.text.length};break}return{anchor:u,focus:a}},Kr=(e,t)=>{var r=Le.isNormalizing(e);Le.setNormalizing(e,!1);try{t()}finally{Le.setNormalizing(e,r)}Le.normalize(e)},Yr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le.withoutNormalizing(e,(()=>{var r,n,{reverse:u=!1,unit:a="character",distance:i=1,voids:o=!1}=t,{at:s=e.selection,hanging:c=!1}=t;if(s){var l=!1;if(Fe.isRange(s)&&Fe.isCollapsed(s)&&(l=!0,s=s.anchor),We.isPoint(s)){var f=Le.void(e,{at:s,mode:"highest"});if(!o&&f){var[,d]=f;s=d}else{var h={unit:a,distance:i};s={anchor:s,focus:u?Le.before(e,s,h)||Le.start(e,[]):Le.after(e,s,h)||Le.end(e,[])},c=!0}}if(ve.isPath(s))Ot.removeNodes(e,{at:s,voids:o});else if(!Fe.isCollapsed(s)){if(!c){var[,p]=Fe.edges(s),v=Le.end(e,[]);We.equals(p,v)||(s=Le.unhangRange(e,s,{voids:o}))}var[g,D]=Fe.edges(s),C=Le.above(e,{match:t=>Oe.isElement(t)&&Le.isBlock(e,t),at:g,voids:o}),m=Le.above(e,{match:t=>Oe.isElement(t)&&Le.isBlock(e,t),at:D,voids:o}),B=C&&m&&!ve.equals(C[1],m[1]),y=ve.equals(g.path,D.path),E=o?null:null!==(r=Le.void(e,{at:g,mode:"highest"}))&&void 0!==r?r:Le.elementReadOnly(e,{at:g,mode:"highest"}),A=o?null:null!==(n=Le.void(e,{at:D,mode:"highest"}))&&void 0!==n?n:Le.elementReadOnly(e,{at:D,mode:"highest"});if(E){var b=Le.before(e,g);b&&C&&ve.isAncestor(C[1],b.path)&&(g=b)}if(A){var w=Le.after(e,D);w&&m&&ve.isAncestor(m[1],w.path)&&(D=w)}var F,x=[];for(var O of Le.nodes(e,{at:s,voids:o})){var[k,_]=O;F&&0===ve.compare(_,F)||(!o&&Oe.isElement(k)&&(Le.isVoid(e,k)||Le.isElementReadOnly(e,k))||!ve.isCommon(_,g.path)&&!ve.isCommon(_,D.path))&&(x.push(O),F=_)}var S=Array.from(x,(t=>{var[,r]=t;return Le.pathRef(e,r)})),P=Le.pointRef(e,g),M=Le.pointRef(e,D),T="";if(!y&&!E){var R=P.current,[j]=Le.leaf(e,R),{path:L}=R,{offset:N}=g,I=j.text.slice(N);I.length>0&&(e.apply({type:"remove_text",path:L,offset:N,text:I}),T=I)}if(S.reverse().map((e=>e.unref())).filter((e=>null!==e)).forEach((t=>Ot.removeNodes(e,{at:t,voids:o}))),!A){var V=M.current,[W]=Le.leaf(e,V),{path:z}=V,q=y?g.offset:0,$=W.text.slice(q,D.offset);$.length>0&&(e.apply({type:"remove_text",path:z,offset:q,text:$}),T=$)}!y&&B&&M.current&&P.current&&Ot.mergeNodes(e,{at:M.current,hanging:!0,voids:o}),l&&u&&"character"===a&&T.length>1&&T.match(/[\u0E00-\u0E7F]+/)&&Ot.insertText(e,T.slice(0,T.length-i));var H=P.unref(),U=M.unref(),K=u?H||U:U||H;null==t.at&&K&&Ot.select(e,K)}}}))},Jr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Le.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:u=!1}=r,{at:a=Xe(e)}=r;if(t.length){if(Fe.isRange(a))if(n||(a=Le.unhangRange(e,a,{voids:u})),Fe.isCollapsed(a))a=a.anchor;else{var[,i]=Fe.edges(a);if(!u&&Le.void(e,{at:i}))return;var o=Le.pointRef(e,i);Ot.delete(e,{at:a}),a=o.unref()}else ve.isPath(a)&&(a=Le.start(e,a));if(u||!Le.void(e,{at:a})){var s=Le.above(e,{at:a,match:t=>Oe.isElement(t)&&Le.isInline(e,t),mode:"highest",voids:u});if(s){var[,c]=s;if(Le.isEnd(e,a,c))a=Le.after(e,c);else if(Le.isStart(e,a,c)){a=Le.before(e,c)}}var l=Le.above(e,{match:t=>Oe.isElement(t)&&Le.isBlock(e,t),at:a,voids:u}),[,f]=l,d=Le.isStart(e,a,f),h=Le.isEnd(e,a,f),p=d&&h,v=!d||d&&h,g=!h,[,D]=Pe.first({children:t},[]),[,C]=Pe.last({children:t},[]),m=[],B=t=>{var[r,n]=t;return!(0===n.length)&&(!!p||!(v&&ve.isAncestor(n,D)&&Oe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(g&&ve.isAncestor(n,C)&&Oe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))};for(var y of Pe.nodes({children:t},{pass:B}))B(y)&&m.push(y);var E=[],A=[],b=[],w=!0,F=!1;for(var[x]of m)Oe.isElement(x)&&!e.isInline(x)?(w=!1,F=!0,A.push(x)):w?E.push(x):b.push(x);var[O]=Le.nodes(e,{at:a,match:t=>Je.isText(t)||Le.isInline(e,t),mode:"highest",voids:u}),[,k]=O,_=Le.isStart(e,a,k),S=Le.isEnd(e,a,k),P=Le.pathRef(e,h&&!b.length?ve.next(f):f),M=Le.pathRef(e,S?ve.next(k):k);Ot.splitNodes(e,{at:a,match:t=>F?Oe.isElement(t)&&Le.isBlock(e,t):Je.isText(t)||Le.isInline(e,t),mode:F?"lowest":"highest",always:F&&(!d||E.length>0)&&(!h||b.length>0),voids:u});var T,R=Le.pathRef(e,!_||_&&S?ve.next(k):k);if(Ot.insertNodes(e,E,{at:R.current,match:t=>Je.isText(t)||Le.isInline(e,t),mode:"highest",voids:u}),p&&!E.length&&A.length&&!b.length&&Ot.delete(e,{at:f,voids:u}),Ot.insertNodes(e,A,{at:P.current,match:t=>Oe.isElement(t)&&Le.isBlock(e,t),mode:"lowest",voids:u}),Ot.insertNodes(e,b,{at:M.current,match:t=>Je.isText(t)||Le.isInline(e,t),mode:"highest",voids:u}),!r.at)if(b.length>0&&M.current?T=ve.previous(M.current):A.length>0&&P.current?T=ve.previous(P.current):R.current&&(T=ve.previous(R.current)),T){var j=Le.end(e,T);Ot.select(e,j)}R.unref(),P.unref(),M.unref()}}}))},Xr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)Ot.select(e,n.anchor);else if("focus"===r)Ot.select(e,n.focus);else if("start"===r){var[u]=Fe.edges(n);Ot.select(e,u)}else if("end"===r){var[,a]=Fe.edges(n);Ot.select(e,a)}},Zr=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},Gr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:u="character",reverse:a=!1}=t,{edge:i=null}=t;if(r){"start"===i&&(i=Fe.isBackward(r)?"focus":"anchor"),"end"===i&&(i=Fe.isBackward(r)?"anchor":"focus");var{anchor:o,focus:s}=r,c={distance:n,unit:u,ignoreNonSelectable:!0},l={};if(null==i||"anchor"===i){var f=a?Le.before(e,o,c):Le.after(e,o,c);f&&(l.anchor=f)}if(null==i||"focus"===i){var d=a?Le.before(e,s,c):Le.after(e,s,c);d&&(l.focus=d)}Ot.setSelection(e,l)}},Qr=(e,t)=>{var{selection:r}=e;if(t=Le.range(e,t),r)Ot.setSelection(e,t);else{if(!Fe.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(qe.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}};function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n}=e,{edge:u="both"}=r;if(n){"start"===u&&(u=Fe.isBackward(n)?"focus":"anchor"),"end"===u&&(u=Fe.isBackward(n)?"anchor":"focus");var{anchor:a,focus:i}=n,o="anchor"===u?a:i;Ot.setSelection(e,{["anchor"===u?"anchor":"focus"]:tn(tn({},o),t)})}},nn=(e,t)=>{var{selection:r}=e,n={},u={};if(r){for(var a in t)("anchor"===a&&null!=t.anchor&&!We.equals(t.anchor,r.anchor)||"focus"===a&&null!=t.focus&&!We.equals(t.focus,r.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==r[a])&&(n[a]=r[a],u[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:u})}},un=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Le.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:u=!1,mode:a="lowest"}=r,{at:i,match:o,select:s}=r;if(Pe.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(i||(i=Xe(e),s=!0),null==s&&(s=!1),Fe.isRange(i))if(n||(i=Le.unhangRange(e,i,{voids:u})),Fe.isCollapsed(i))i=i.anchor;else{var[,l]=Fe.edges(i),f=Le.pointRef(e,l);Ot.delete(e,{at:i}),i=f.unref()}if(We.isPoint(i)){null==o&&(o=Je.isText(c)?e=>Je.isText(e):e.isInline(c)?t=>Je.isText(t)||Le.isInline(e,t):t=>Oe.isElement(t)&&Le.isBlock(e,t));var[d]=Le.nodes(e,{at:i.path,match:o,mode:a,voids:u});if(!d)return;var[,h]=d,p=Le.pathRef(e,h),v=Le.isEnd(e,i,h);Ot.splitNodes(e,{at:i,match:o,mode:a,voids:u});var g=p.unref();i=v?ve.next(g):g}var D=ve.parent(i),C=i[i.length-1];if(u||!Le.void(e,{at:D})){for(var m of t){var B=D.concat(C);C++,e.apply({type:"insert_node",path:B,node:m}),i=ve.next(i)}if(i=ve.previous(i),s){var y=Le.end(e,i);y&&Ot.select(e,y)}}}}))},an=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:u=!1}=t,{match:a}=t;if(null==a&&(a=ve.isPath(r)?Ze(e,r):t=>Oe.isElement(t)&&Le.isBlock(e,t)),r){var i=Le.nodes(e,{at:r,match:a,mode:n,voids:u}),o=Array.from(i,(t=>{var[,r]=t;return Le.pathRef(e,r)}));for(var s of o){var c=s.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var l=Le.node(e,ve.parent(c)),[f,d]=l,h=c[c.length-1],{length:p}=f.children;if(1===p){var v=ve.next(d);Ot.moveNodes(e,{at:c,to:v,voids:u}),Ot.removeNodes(e,{at:d,voids:u})}else if(0===h)Ot.moveNodes(e,{at:c,to:d,voids:u});else if(h===p-1){var g=ve.next(d);Ot.moveNodes(e,{at:c,to:g,voids:u})}else{var D=ve.next(c),C=ve.next(d);Ot.splitNodes(e,{at:D,voids:u}),Ot.moveNodes(e,{at:c,to:C,voids:u})}}}}))},on=["text"],sn=["children"],cn=(e,t)=>{if(Oe.isElement(t)){var r=t;return!!Le.isVoid(e,t)||1===r.children.length&&cn(e,r.children[0])}return!Le.isEditor(t)},ln=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:u=!1,voids:a=!1,mode:i="lowest"}=t;if(n){if(null==r)if(ve.isPath(n)){var[o]=Le.parent(e,n);r=e=>o.children.includes(e)}else r=t=>Oe.isElement(t)&&Le.isBlock(e,t);if(!u&&Fe.isRange(n)&&(n=Le.unhangRange(e,n,{voids:a})),Fe.isRange(n))if(Fe.isCollapsed(n))n=n.anchor;else{var[,s]=Fe.edges(n),c=Le.pointRef(e,s);Ot.delete(e,{at:n}),n=c.unref(),null==t.at&&Ot.select(e,n)}var[l]=Le.nodes(e,{at:n,match:r,voids:a,mode:i}),f=Le.previous(e,{at:n,match:r,voids:a,mode:i});if(l&&f){var[d,h]=l,[p,v]=f;if(0!==h.length&&0!==v.length){var g,D,C=ve.next(v),m=ve.common(h,v),B=ve.isSibling(h,v),y=Array.from(Le.levels(e,{at:h}),(e=>{var[t]=e;return t})).slice(m.length).slice(0,-1),E=Le.above(e,{at:h,mode:"highest",match:t=>y.includes(t)&&cn(e,t)}),A=E&&Le.pathRef(e,E[1]);if(Je.isText(d)&&Je.isText(p)){var b=Ae(d,on);D=p.text.length,g=b}else{if(!Oe.isElement(d)||!Oe.isElement(p))throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(qe.stringify(d)," ").concat(qe.stringify(p)));b=Ae(d,sn);D=p.children.length,g=b}B||Ot.moveNodes(e,{at:h,to:C,voids:a}),A&&Ot.removeNodes(e,{at:A.current,voids:a}),Oe.isElement(p)&&Le.isEmpty(e,p)||Je.isText(p)&&""===p.text&&0!==v[v.length-1]?Ot.removeNodes(e,{at:v,voids:a}):e.apply({type:"merge_node",path:C,position:D,properties:g}),A&&A.unref()}}}}))},fn=(e,t)=>{Le.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:u="lowest",voids:a=!1}=t,{match:i}=t;if(n){null==i&&(i=ve.isPath(n)?Ze(e,n):t=>Oe.isElement(t)&&Le.isBlock(e,t));var o=Le.pathRef(e,r),s=Le.nodes(e,{at:n,match:i,mode:u,voids:a}),c=Array.from(s,(t=>{var[,r]=t;return Le.pathRef(e,r)}));for(var l of c){var f=l.unref(),d=o.current;0!==f.length&&e.apply({type:"move_node",path:f,newPath:d}),o.current&&ve.isSibling(d,f)&&ve.isAfter(d,f)&&(o.current=ve.next(o.current))}o.unref()}}))},dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:u="lowest"}=t,{at:a=e.selection,match:i}=t;if(a){null==i&&(i=ve.isPath(a)?Ze(e,a):t=>Oe.isElement(t)&&Le.isBlock(e,t)),!r&&Fe.isRange(a)&&(a=Le.unhangRange(e,a,{voids:n}));var o=Le.nodes(e,{at:a,match:i,mode:u,voids:n}),s=Array.from(o,(t=>{var[,r]=t;return Le.pathRef(e,r)}));for(var c of s){var l=c.unref();if(l){var[f]=Le.node(e,l);e.apply({type:"remove_node",path:l,node:f})}}}}))},hn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Le.withoutNormalizing(e,(()=>{var{match:n,at:u=e.selection,compare:a,merge:i}=r,{hanging:o=!1,mode:s="lowest",split:c=!1,voids:l=!1}=r;if(u){if(null==n&&(n=ve.isPath(u)?Ze(e,u):t=>Oe.isElement(t)&&Le.isBlock(e,t)),!o&&Fe.isRange(u)&&(u=Le.unhangRange(e,u,{voids:l})),c&&Fe.isRange(u)){if(Fe.isCollapsed(u)&&Le.leaf(e,u.anchor)[0].text.length>0)return;var f=Le.rangeRef(e,u,{affinity:"inward"}),[d,h]=Fe.edges(u),p="lowest"===s?"lowest":"highest",v=Le.isEnd(e,h,h.path);Ot.splitNodes(e,{at:h,match:n,mode:p,voids:l,always:!v});var g=Le.isStart(e,d,d.path);Ot.splitNodes(e,{at:d,match:n,mode:p,voids:l,always:!g}),u=f.unref(),null==r.at&&Ot.select(e,u)}for(var[D,C]of(a||(a=(e,t)=>e!==t),Le.nodes(e,{at:u,match:n,mode:s,voids:l}))){var m={},B={};if(0!==C.length){var y=!1;for(var E in t)"children"!==E&&"text"!==E&&a(t[E],D[E])&&(y=!0,D.hasOwnProperty(E)&&(m[E]=D[E]),i?null!=t[E]&&(B[E]=i(D[E],t[E])):null!=t[E]&&(B[E]=t[E]));y&&e.apply({type:"set_node",path:C,properties:m,newProperties:B})}}}}))},pn=(e,t)=>{if(Fe.isCollapsed(t))return t.anchor;var[,r]=Fe.edges(t),n=Le.pointRef(e,r);return Ot.delete(e,{at:t}),n.unref()},vn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:u,at:a=e.selection,height:i=0,always:o=!1}=t;if(null==u&&(u=t=>Oe.isElement(t)&&Le.isBlock(e,t)),Fe.isRange(a)&&(a=pn(e,a)),ve.isPath(a)){var s=a,c=Le.point(e,s),[l]=Le.parent(e,s);u=e=>e===l,i=c.path.length-s.length+1,a=c,o=!0}if(a){var f,d=Le.pointRef(e,a,{affinity:"backward"});try{var[h]=Le.nodes(e,{at:a,match:u,mode:r,voids:n});if(!h)return;var p=Le.void(e,{at:a,mode:"highest"});if(!n&&p){var[v,g]=p;if(Oe.isElement(v)&&e.isInline(v)){var D=Le.after(e,g);if(!D){var C=ve.next(g);Ot.insertNodes(e,{text:""},{at:C,voids:n}),D=Le.point(e,C)}a=D,o=!0}i=a.path.length-g.length+1,o=!0}f=Le.pointRef(e,a);var m=a.path.length-i,[,B]=h,y=a.path.slice(0,m),E=0===i?a.offset:a.path[m]+0;for(var[A,b]of Le.levels(e,{at:y,reverse:!0,voids:n})){var w=!1;if(b.length<B.length||0===b.length||!n&&Oe.isElement(A)&&Le.isVoid(e,A))break;var F=d.current,x=Le.isEnd(e,F,b);if(o||!d||!Le.isEdge(e,F,b)){w=!0;var O=Pe.extractProps(A);e.apply({type:"split_node",path:b,position:E,properties:O})}E=b[b.length-1]+(w||x?1:0)}if(null==t.at){var k=f.current||Le.end(e,[]);Ot.select(e,k)}}finally{var _;d.unref(),null===(_=f)||void 0===_||_.unref()}}}))},gn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var u of t)n[u]=null;Ot.setNodes(e,n,r)},Dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:u=!1}=t,{at:a=e.selection,match:i}=t;if(a){null==i&&(i=ve.isPath(a)?Ze(e,a):t=>Oe.isElement(t)&&Le.isBlock(e,t)),ve.isPath(a)&&(a=Le.range(e,a));var o=Fe.isRange(a)?Le.rangeRef(e,a):null,s=Le.nodes(e,{at:a,match:i,mode:r,voids:u}),c=Array.from(s,(t=>{var[,r]=t;return Le.pathRef(e,r)})).reverse(),l=function(t){var r=t.unref(),[a]=Le.node(e,r),i=Le.range(e,r);n&&o&&(i=Fe.intersection(o.current,i)),Ot.liftNodes(e,{at:i,match:e=>Oe.isAncestor(a)&&a.children.includes(e),voids:u})};for(var f of c)l(f);o&&o.unref()}}))};function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Le.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:u=!1,voids:a=!1}=r,{match:i,at:o=e.selection}=r;if(o){if(null==i&&(i=ve.isPath(o)?Ze(e,o):e.isInline(t)?t=>Oe.isElement(t)&&Le.isInline(e,t)||Je.isText(t):t=>Oe.isElement(t)&&Le.isBlock(e,t)),u&&Fe.isRange(o)){var[s,c]=Fe.edges(o),l=Le.rangeRef(e,o,{affinity:"inward"});Ot.splitNodes(e,{at:c,match:i,voids:a}),Ot.splitNodes(e,{at:s,match:i,voids:a}),o=l.unref(),null==r.at&&Ot.select(e,o)}var f=Array.from(Le.nodes(e,{at:o,match:e.isInline(t)?t=>Oe.isElement(t)&&Le.isBlock(e,t):e=>Le.isEditor(e),mode:"lowest",voids:a}));for(var[,d]of f){var h=Fe.isRange(o)?Fe.intersection(o,Le.range(e,d)):o;if(h){var p=Array.from(Le.nodes(e,{at:h,match:i,mode:n,voids:a}));if(p.length>0){var v=function(){var[r]=p,n=p[p.length-1],[,u]=r,[,i]=n;if(0===u.length&&0===i.length)return"continue";var o=ve.equals(u,i)?ve.parent(u):ve.common(u,i),s=Le.range(e,u,i),c=Le.node(e,o),[l]=c,f=o.length+1,d=ve.next(i.slice(0,f)),h=mn(mn({},t),{},{children:[]});Ot.insertNodes(e,h,{at:d,voids:a}),Ot.moveNodes(e,{at:s,match:e=>Oe.isAncestor(l)&&l.children.includes(e),to:d.concat(0),voids:a})}();if("continue"===v)continue}}}}}))},yn=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kt(e,...r)},addMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Lt(e,...r)},deleteBackward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $t(e,...r)},deleteForward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ht(e,...r)},deleteFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ut(e,...r)},getFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return St(e,...r)},insertBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return or(e,...r)},insertSoftBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cr(e,...r)},insertFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jr(e,...r)},insertNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return sr(e,...r)},insertText:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return dr(e,...r)},normalizeNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pt(e,...r)},removeMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zr(e,...r)},getDirtyPaths:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _t(e,...r)},shouldNormalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Mt(e,...r)},above:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Tt(e,...r)},after:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Vt(e,...r)},before:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return qt(e,...r)},collapse:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Xr(e,...r)},delete:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yr(e,...r)},deselect:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zr(e,...r)},edges:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Kt(e,...r)},elementReadOnly:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Xt(e,...r)},end:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zt(e,...r)},first:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Gt(e,...r)},fragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Qt(e,...r)},getMarks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return br(e,...r)},hasBlocks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nr(e,...r)},hasInlines:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ur(e,...r)},hasPath:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ar(e,...r)},hasTexts:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ir(e,...r)},insertNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return un(e,...r)},isBlock:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hr(e,...r)},isEdge:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pr(e,...r)},isEmpty:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return vr(e,...r)},isEnd:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gr(e,...r)},isNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Dr(e,...r)},isStart:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Cr(e,...r)},last:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return mr(e,...r)},leaf:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Br(e,...r)},levels:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return yr(e,...r)},liftNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return an(e,...r)},mergeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ln(e,...r)},move:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Gr(e,...r)},moveNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fn(e,...r)},next:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return wr(e,...r)},node:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Fr(e,...r)},nodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xr(e,...r)},normalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Or(e,...r)},parent:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kr(e,...r)},path:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pr(e,...r)},pathRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _r(e,...r)},pathRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Sr(e,...r)},point:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Rr(e,...r)},pointRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Mr(e,...r)},pointRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Tr(e,...r)},positions:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jr(e,...r)},previous:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Lr(e,...r)},range:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Vr(e,...r)},rangeRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nr(e,...r)},rangeRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ir(e,...r)},removeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return dn(e,...r)},select:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Qr(e,...r)},setNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hn(e,...r)},setNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return qr(e,...r)},setPoint:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return rn(e,...r)},setSelection:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nn(e,...r)},splitNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return vn(e,...r)},start:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $r(e,...r)},string:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Hr(e,...r)},unhangRange:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ur(e,...r)},unsetNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gn(e,...r)},unwrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Dn(e,...r)},void:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return rr(e,...r)},withoutNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Kr(e,...r)},wrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Bn(e,...r)}};return e}},28498:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0,function(e){e.MalformedUnicode="MALFORMED_UNICODE",e.MalformedHexadecimal="MALFORMED_HEXADECIMAL",e.CodePointLimit="CODE_POINT_LIMIT",e.OctalDeprecation="OCTAL_DEPRECATION",e.EndOfString="END_OF_STRING"}(r=t.ErrorType||(t.ErrorType={})),t.errorMessages=new Map([[r.MalformedUnicode,"malformed Unicode character escape sequence"],[r.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[r.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[r.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[r.EndOfString,"malformed escape sequence at end of string"]])},93012:(e,t,r)=>{"use strict";const n=r(28498);function u(e,t,r){const u=function(e){return e.match(/[^a-f0-9]/i)?NaN:parseInt(e,16)}(e);if(Number.isNaN(u)||void 0!==r&&r!==e.length)throw new SyntaxError(n.errorMessages.get(t));return u}function a(e,t){const r=u(e,n.ErrorType.MalformedUnicode,4);if(void 0!==t){const e=u(t,n.ErrorType.MalformedUnicode,4);return String.fromCharCode(r,e)}return String.fromCharCode(r)}const i=new Map([["b","\b"],["f","\f"],["n","\n"],["r","\r"],["t","\t"],["v","\v"],["0","\0"]]);const o=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function s(e,t=!1){return e.replace(o,(function(e,r,o,s,c,l,f,d,h){if(void 0!==r)return"\\";if(void 0!==o)return function(e){const t=u(e,n.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(t)}(o);if(void 0!==s)return function(e){if("{"!==(t=e).charAt(0)||"}"!==t.charAt(t.length-1))throw new SyntaxError(n.errorMessages.get(n.ErrorType.MalformedUnicode));var t;const r=u(e.slice(1,-1),n.ErrorType.MalformedUnicode);try{return String.fromCodePoint(r)}catch(e){throw e instanceof RangeError?new SyntaxError(n.errorMessages.get(n.ErrorType.CodePointLimit)):e}}(s);if(void 0!==c)return a(c,l);if(void 0!==f)return a(f);if("0"===d)return"\0";if(void 0!==d)return function(e,t=!1){if(t)throw new SyntaxError(n.errorMessages.get(n.ErrorType.OctalDeprecation));const r=parseInt(e,8);return String.fromCharCode(r)}(d,!t);if(void 0!==h)return p=h,i.get(p)||p;var p;throw new SyntaxError(n.errorMessages.get(n.ErrorType.EndOfString))}))}t.ZP=s},52724:(e,t,r)=>{"use strict";e.exports=r.p+"images/68348bacc7f539b8d73d-arrow-square-out-bold.svg"},5519:(e,t,r)=>{"use strict";e.exports=r.p+"images/76a97545e1b923bc13bc-caret-down-bold.svg"},13663:(e,t,r)=>{"use strict";e.exports=r.p+"images/d0ca4e324ff5bb3a1a3b-check-bold.svg"},35711:(e,t,r)=>{"use strict";e.exports=r.p+"images/f9be4875a49d6bc99318-minus-bold.svg"},59823:(e,t,r)=>{"use strict";e.exports=r.p+"images/33550432966b277d6cf8-caret-down-fill.svg"},81828:(e,t,r)=>{"use strict";e.exports=r.p+"images/a4703a6e23011c86e9d7-caret-up-fill.svg"},99455:(e,t,r)=>{"use strict";e.exports=r.p+"images/4ef00877d0348c4db3eb-facebook-logo-fill.svg"},43789:(e,t,r)=>{"use strict";e.exports=r.p+"images/24444c671b0c50580b39-instagram-logo-fill.svg"},94771:(e,t,r)=>{"use strict";e.exports=r.p+"images/21e9a32d4615da4195c7-twitter-logo-fill.svg"},53366:(e,t,r)=>{"use strict";e.exports=r.p+"images/5c5bc9a29f53b1158f51-alarm.svg"},7292:(e,t,r)=>{"use strict";e.exports=r.p+"images/20c326e05d289b49a1ad-anchor.svg"},36498:(e,t,r)=>{"use strict";e.exports=r.p+"images/a6fdc9722b99559b6093-arrows-counter-clockwise.svg"},87846:(e,t,r)=>{"use strict";e.exports=r.p+"images/25d8411c49a9f4b7ddfc-article.svg"},42803:(e,t,r)=>{"use strict";e.exports=r.p+"images/9fdd189bc61e6b5e437c-brain.svg"},39431:(e,t,r)=>{"use strict";e.exports=r.p+"images/e1fb071d5326bc4de193-camera.svg"},28473:(e,t,r)=>{"use strict";e.exports=r.p+"images/623bf248fe21a8170344-caret-left.svg"},53520:(e,t,r)=>{"use strict";e.exports=r.p+"images/782e66bd9b7f809fe8f9-chat-circle-text.svg"},56746:(e,t,r)=>{"use strict";e.exports=r.p+"images/cbafee3f1b04014a6b8c-chats-circle.svg"},43955:(e,t,r)=>{"use strict";e.exports=r.p+"images/69fc9a39cab4af71874d-check-square.svg"},47762:(e,t,r)=>{"use strict";e.exports=r.p+"images/1b1116133ad78d227c8d-clipboard-text.svg"},91587:(e,t,r)=>{"use strict";e.exports=r.p+"images/06aa1cb0d2664789232f-clock-counter-clockwise.svg"},7739:(e,t,r)=>{"use strict";e.exports=r.p+"images/538aa142c231df1b004e-envelope-open.svg"},17665:(e,t,r)=>{"use strict";e.exports=r.p+"images/c17697cda01cc140691a-exam.svg"},40956:(e,t,r)=>{"use strict";e.exports=r.p+"images/f4c7f529d86aeb8ee0a0-feather.svg"},77893:(e,t,r)=>{"use strict";e.exports=r.p+"images/6a6c807fb61cc0241636-globe-simple.svg"},71726:(e,t,r)=>{"use strict";e.exports=r.p+"images/0c22250d41a51ef90cc4-lightbulb-filament.svg"},22487:(e,t,r)=>{"use strict";e.exports=r.p+"images/17dd8fdf758cee76a334-link.svg"},67857:(e,t,r)=>{"use strict";e.exports=r.p+"images/fb1851842c74b40a3f42-list.svg"},89156:(e,t,r)=>{"use strict";e.exports=r.p+"images/c61e00fdb994983b59ca-magnifying-glass-plus.svg"},61241:(e,t,r)=>{"use strict";e.exports=r.p+"images/f9fa2561978a9a3291e8-magnifying-glass.svg"},95193:(e,t,r)=>{"use strict";e.exports=r.p+"images/edd422b8baf7fcbe2e4e-newspaper.svg"},30225:(e,t,r)=>{"use strict";e.exports=r.p+"images/59c456fd1164519962c4-pencil.svg"},62140:(e,t,r)=>{"use strict";e.exports=r.p+"images/97570b977963d6f86ec8-ruler.svg"},4514:(e,t,r)=>{"use strict";e.exports=r.p+"images/92029ed1ead3259621e7-seal-question.svg"},83499:(e,t,r)=>{"use strict";e.exports=r.p+"images/69cf149c8118bfca5043-steps.svg"},14731:(e,t,r)=>{"use strict";e.exports=r.p+"images/328223b7a6f762d30d03-strategy.svg"},41773:(e,t,r)=>{"use strict";e.exports=r.p+"images/172ac521a002019c6898-text-columns.svg"},30872:(e,t,r)=>{"use strict";e.exports=r.p+"images/faeb7842c6015b379739-ticket.svg"},41443:(e,t,r)=>{"use strict";e.exports=r.p+"images/7397b15e1fa66eaf6ff9-x.svg"},38085:(e,t,r)=>{"use strict";r.d(t,{Fu:()=>j,NO:()=>G,Yn:()=>J,a4:()=>F,mr:()=>te,mw:()=>O});var n,u,a,i,o,s=-1,c=function(e){addEventListener("pageshow",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},f=function(){var e=l();return e&&e.activationStart||0},d=function(e,t){var r=l(),n="navigate";return s>=0?n="back-forward-cache":r&&(n=document.prerendering||f()>0?"prerender":document.wasDiscarded?"restore":r.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},h=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},p=function(e,t,r,n){var u,a;return function(i){t.value>=0&&(i||n)&&((a=t.value-(u||0))||void 0===u)&&(u=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},v=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},g=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},D=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},C=-1,m=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},B=function(e){"hidden"===document.visibilityState&&C>-1&&(C="visibilitychange"===e.type?e.timeStamp:0,E())},y=function(){addEventListener("visibilitychange",B,!0),addEventListener("prerenderingchange",B,!0)},E=function(){removeEventListener("visibilitychange",B,!0),removeEventListener("prerenderingchange",B,!0)},A=function(){return C<0&&(C=m(),y(),c((function(){setTimeout((function(){C=m(),y()}),0)}))),{get firstHiddenTime(){return C}}},b=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},w=[1800,3e3],F=function(e,t){t=t||{},b((function(){var r,n=A(),u=d("FCP"),a=h("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(u.value=Math.max(e.startTime-f(),0),u.entries.push(e),r(!0)))}))}));a&&(r=p(e,u,w,t.reportAllChanges),c((function(n){u=d("FCP"),r=p(e,u,w,t.reportAllChanges),v((function(){u.value=performance.now()-n.timeStamp,r(!0)}))})))}))},x=[.1,.25],O=function(e,t){t=t||{},F(D((function(){var r,n=d("CLS",0),u=0,a=[],i=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];u&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(u+=e.value,a.push(e)):(u=e.value,a=[e])}})),u>n.value&&(n.value=u,n.entries=a,r())},o=h("layout-shift",i);o&&(r=p(e,n,x,t.reportAllChanges),g((function(){i(o.takeRecords()),r(!0)})),c((function(){u=0,n=d("CLS",0),r=p(e,n,x,t.reportAllChanges),v((function(){return r()}))})),setTimeout(r,0))})))},k={passive:!0,capture:!0},_=new Date,S=function(e,t){n||(n=t,u=e,a=new Date,T(removeEventListener),P())},P=function(){if(u>=0&&u<a-_){var e={entryType:"first-input",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+u};i.forEach((function(t){t(e)})),i=[]}},M=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){S(e,t),u()},n=function(){u()},u=function(){removeEventListener("pointerup",r,k),removeEventListener("pointercancel",n,k)};addEventListener("pointerup",r,k),addEventListener("pointercancel",n,k)}(t,e):S(t,e)}},T=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,M,k)}))},R=[100,300],j=function(e,t){t=t||{},b((function(){var r,a=A(),o=d("FID"),s=function(e){e.startTime<a.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),r(!0))},l=function(e){e.forEach(s)},f=h("first-input",l);r=p(e,o,R,t.reportAllChanges),f&&g(D((function(){l(f.takeRecords()),f.disconnect()}))),f&&c((function(){var a;o=d("FID"),r=p(e,o,R,t.reportAllChanges),i=[],u=-1,n=null,T(addEventListener),a=s,i.push(a),P()}))}))},L=0,N=1/0,I=0,V=function(e){e.forEach((function(e){e.interactionId&&(N=Math.min(N,e.interactionId),I=Math.max(I,e.interactionId),L=I?(I-N)/7+1:0)}))},W=function(){return o?L:performance.interactionCount||0},z=function(){"interactionCount"in performance||o||(o=h("event",V,{type:"event",buffered:!0,durationThreshold:0}))},q=[200,500],$=0,H=function(){return W()-$},U=[],K={},Y=function(e){var t=U[U.length-1],r=K[e.interactionId];if(r||U.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};K[n.id]=n,U.push(n)}U.sort((function(e,t){return t.latency-e.latency})),U.splice(10).forEach((function(e){delete K[e.id]}))}},J=function(e,t){t=t||{},b((function(){z();var r,n=d("INP"),u=function(e){e.forEach((function(e){e.interactionId&&Y(e),"first-input"===e.entryType&&!U.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Y(e)}));var t,u=(t=Math.min(U.length-1,Math.floor(H()/50)),U[t]);u&&u.latency!==n.value&&(n.value=u.latency,n.entries=u.entries,r())},a=h("event",u,{durationThreshold:t.durationThreshold||40});r=p(e,n,q,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),g((function(){u(a.takeRecords()),n.value<0&&H()>0&&(n.value=0,n.entries=[]),r(!0)})),c((function(){U=[],$=W(),n=d("INP"),r=p(e,n,q,t.reportAllChanges)})))}))},X=[2500,4e3],Z={},G=function(e,t){t=t||{},b((function(){var r,n=A(),u=d("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(u.value=Math.max(t.startTime-f(),0),u.entries=[t],r())},i=h("largest-contentful-paint",a);if(i){r=p(e,u,X,t.reportAllChanges);var o=D((function(){Z[u.id]||(a(i.takeRecords()),i.disconnect(),Z[u.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,o,!0)})),g(o),c((function(n){u=d("LCP"),r=p(e,u,X,t.reportAllChanges),v((function(){u.value=performance.now()-n.timeStamp,Z[u.id]=!0,r(!0)}))}))}}))},Q=[800,1800],ee=function e(t){document.prerendering?b((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},te=function(e,t){t=t||{};var r=d("TTFB"),n=p(e,r,Q,t.reportAllChanges);ee((function(){var u=l();if(u){var a=u.responseStart;if(a<=0||a>performance.now())return;r.value=Math.max(a-f(),0),r.entries=[u],n(!0),c((function(){r=d("TTFB",0),(n=p(e,r,Q,t.reportAllChanges))(!0)}))}}))}}}]);
//# sourceMappingURL=sourcemaps/en/64841.65d28a5f091c9280c389.js.map